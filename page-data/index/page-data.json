{"componentChunkName":"component---src-pages-index-js","path":"/","result":{"data":{"site":{"siteMetadata":{"title":"TOMOSIA VIETNAM","author":"„ÄåÂÖ±„Å´„Äç„ÄåÂπ∏„Åõ„Äç„ÄåÁÅØ„Åô„Äç","labels":[{"tag":"react","tech":"React","name":"M12 9.861A2.139 2.139 0 1 0 12 14.139 2.139 2.139 0 1 0 12 9.861zM6.008 16.255l-.472-.12C2.018 15.246 0 13.737 0 11.996s2.018-3.25 5.536-4.139l.472-.119.133.468a23.53 23.53 0 0 0 1.363 3.578l.101.213-.101.213a23.307 23.307 0 0 0-1.363 3.578l-.133.467zM5.317 8.95c-2.674.751-4.315 1.9-4.315 3.046 0 1.145 1.641 2.294 4.315 3.046a24.95 24.95 0 0 1 1.182-3.046A24.752 24.752 0 0 1 5.317 8.95zM17.992 16.255l-.133-.469a23.357 23.357 0 0 0-1.364-3.577l-.101-.213.101-.213a23.42 23.42 0 0 0 1.364-3.578l.133-.468.473.119c3.517.889 5.535 2.398 5.535 4.14s-2.018 3.25-5.535 4.139l-.473.12zm-.491-4.259c.48 1.039.877 2.06 1.182 3.046 2.675-.752 4.315-1.901 4.315-3.046 0-1.146-1.641-2.294-4.315-3.046a24.788 24.788 0 0 1-1.182 3.046zM5.31 8.945l-.133-.467C4.188 4.992 4.488 2.494 6 1.622c1.483-.856 3.864.155 6.359 2.716l.34.349-.34.349a23.552 23.552 0 0 0-2.422 2.967l-.135.193-.235.02a23.657 23.657 0 0 0-3.785.61l-.472.119zm1.896-6.63c-.268 0-.505.058-.705.173-.994.573-1.17 2.565-.485 5.253a25.122 25.122 0 0 1 3.233-.501 24.847 24.847 0 0 1 2.052-2.544c-1.56-1.519-3.037-2.381-4.095-2.381zM16.795 22.677c-.001 0-.001 0 0 0-1.425 0-3.255-1.073-5.154-3.023l-.34-.349.34-.349a23.53 23.53 0 0 0 2.421-2.968l.135-.193.234-.02a23.63 23.63 0 0 0 3.787-.609l.472-.119.134.468c.987 3.484.688 5.983-.824 6.854a2.38 2.38 0 0 1-1.205.308zm-4.096-3.381c1.56 1.519 3.037 2.381 4.095 2.381h.001c.267 0 .505-.058.704-.173.994-.573 1.171-2.566.485-5.254a25.02 25.02 0 0 1-3.234.501 24.674 24.674 0 0 1-2.051 2.545zM18.69 8.945l-.472-.119a23.479 23.479 0 0 0-3.787-.61l-.234-.02-.135-.193a23.414 23.414 0 0 0-2.421-2.967l-.34-.349.34-.349C14.135 1.778 16.515.767 18 1.622c1.512.872 1.812 3.37.824 6.855l-.134.468zM14.75 7.24c1.142.104 2.227.273 3.234.501.686-2.688.509-4.68-.485-5.253-.988-.571-2.845.304-4.8 2.208A24.849 24.849 0 0 1 14.75 7.24zM7.206 22.677A2.38 2.38 0 0 1 6 22.369c-1.512-.871-1.812-3.369-.823-6.854l.132-.468.472.119c1.155.291 2.429.496 3.785.609l.235.02.134.193a23.596 23.596 0 0 0 2.422 2.968l.34.349-.34.349c-1.898 1.95-3.728 3.023-5.151 3.023zm-1.19-6.427c-.686 2.688-.509 4.681.485 5.254.987.563 2.843-.305 4.8-2.208a24.998 24.998 0 0 1-2.052-2.545 24.976 24.976 0 0 1-3.233-.501zM12 16.878c-.823 0-1.669-.036-2.516-.106l-.235-.02-.135-.193a30.388 30.388 0 0 1-1.35-2.122 30.354 30.354 0 0 1-1.166-2.228l-.1-.213.1-.213a30.3 30.3 0 0 1 1.166-2.228c.414-.716.869-1.43 1.35-2.122l.135-.193.235-.02a29.785 29.785 0 0 1 5.033 0l.234.02.134.193a30.006 30.006 0 0 1 2.517 4.35l.101.213-.101.213a29.6 29.6 0 0 1-2.517 4.35l-.134.193-.234.02c-.847.07-1.694.106-2.517.106zm-2.197-1.084c1.48.111 2.914.111 4.395 0a29.006 29.006 0 0 0 2.196-3.798 28.585 28.585 0 0 0-2.197-3.798 29.031 29.031 0 0 0-4.394 0 28.477 28.477 0 0 0-2.197 3.798 29.114 29.114 0 0 0 2.197 3.798z","size":20,"color":"deepskyblue"},{"tag":"nodejs","tech":"Node.js","name":"M11.177 25.3a1.94 1.94 0 0 1-.969-.259l-3.086-1.826c-.46-.257-.235-.349-.083-.402.614-.213.739-.262 1.394-.635.069-.038.159-.024.231.018l2.37 1.407a.304.304 0 0 0 .287 0l9.241-5.333a.292.292 0 0 0 .141-.25V7.355a.3.3 0 0 0-.143-.255l-9.237-5.329a.29.29 0 0 0-.285 0L1.803 7.102a.296.296 0 0 0-.146.253v10.666c0 .102.056.198.145.247l2.532 1.462c1.374.687 2.215-.122 2.215-.935V8.265c0-.149.12-.266.269-.266H7.99c.146 0 .267.117.267.266v10.53c0 1.833-.998 2.885-2.736 2.885-.534 0-.955 0-2.129-.579L.969 19.706A1.953 1.953 0 0 1 0 18.02V7.355c0-.693.371-1.339.969-1.684l9.242-5.34a2.023 2.023 0 0 1 1.942 0l9.241 5.34c.599.346.971.992.971 1.684V18.02c0 .693-.372 1.337-.971 1.686l-9.241 5.335a1.942 1.942 0 0 1-.973.259zm2.855-7.348c-4.045 0-4.892-1.857-4.892-3.414 0-.148.118-.266.266-.266h1.195c.133 0 .245.096.265.226.18 1.216.717 1.831 3.164 1.831 1.946 0 2.775-.441 2.775-1.473 0-.596-.234-1.037-3.26-1.334-2.528-.25-4.093-.809-4.093-2.831 0-1.865 1.572-2.977 4.207-2.977 2.961 0 4.425 1.027 4.611 3.233a.27.27 0 0 1-.267.291h-1.2a.266.266 0 0 1-.259-.209c-.288-1.28-.988-1.689-2.886-1.689-2.126 0-2.373.74-2.373 1.295 0 .673.292.869 3.161 1.248 2.84.375 4.19.907 4.19 2.902 0 2.014-1.678 3.167-4.606 3.167z","size":20,"color":"lightgreen"},{"tag":"git","tech":"Git","name":"M23.546 10.93L13.067.452c-.604-.603-1.582-.603-2.188 0L8.708 2.627l2.76 2.76c.645-.215 1.379-.07 1.889.441.516.515.658 1.258.438 1.9l2.658 2.66c.645-.223 1.387-.078 1.9.435.721.72.721 1.884 0 2.604-.719.719-1.881.719-2.6 0-.539-.541-.674-1.337-.404-1.996L12.86 8.955v6.525c.176.086.342.203.488.348.713.721.713 1.883 0 2.6-.719.721-1.889.721-2.609 0-.719-.719-.719-1.879 0-2.598.182-.18.387-.316.605-.406V8.835c-.217-.091-.424-.222-.6-.401-.545-.545-.676-1.342-.396-2.009L7.636 3.7.45 10.881c-.6.605-.6 1.584 0 2.189l10.48 10.477c.604.604 1.582.604 2.186 0l10.43-10.43c.605-.603.605-1.582 0-2.187","size":20,"color":"white"},{"tag":"javascript","tech":"JavaScript","name":"M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z","size":20,"color":"yellow"},{"tag":"ruby","tech":"Ruby","name":"M20.156.083c3.033.525 3.893 2.598 3.829 4.77L24 4.822 22.635 22.71 4.89 23.926h.016C3.433 23.864.15 23.729 0 19.139l1.645-3 2.819 6.586.503 1.172 2.805-9.144-.03.007.016-.03 9.255 2.956-1.396-5.431-.99-3.9 8.82-.569-.615-.51L16.5 2.114 20.159.073l-.003.01zM0 19.089v.026-.029.003zM5.13 5.073c3.561-3.533 8.157-5.621 9.922-3.84 1.762 1.777-.105 6.105-3.673 9.636-3.563 3.532-8.103 5.734-9.864 3.957-1.766-1.777.045-6.217 3.612-9.75l.003-.003z","size":20,"color":"crimson"},{"tag":"php","tech":"php","name":"M7.01 10.207h-.944l-.515 2.648h.838c.556 0 .97-.105 1.242-.314.272-.21.455-.559.55-1.049.092-.47.05-.802-.124-.995-.175-.193-.523-.29-1.047-.29zM12 5.688C5.373 5.688 0 8.514 0 12s5.373 6.313 12 6.313S24 15.486 24 12c0-3.486-5.373-6.312-12-6.312zm-3.26 7.451c-.261.25-.575.438-.917.551-.336.108-.765.164-1.285.164H5.357l-.327 1.681H3.652l1.23-6.326h2.65c.797 0 1.378.209 1.744.628.366.418.476 1.002.33 1.752a2.836 2.836 0 0 1-.305.847c-.143.255-.33.49-.561.703zm4.024.715l.543-2.799c.063-.318.039-.536-.068-.651-.107-.116-.336-.174-.687-.174H11.46l-.704 3.625H9.388l1.23-6.327h1.367l-.327 1.682h1.218c.767 0 1.295.134 1.586.401s.378.7.263 1.299l-.572 2.944h-1.389zm7.597-2.265a2.782 2.782 0 0 1-.305.847c-.143.255-.33.49-.561.703a2.44 2.44 0 0 1-.917.551c-.336.108-.765.164-1.286.164h-1.18l-.327 1.682h-1.378l1.23-6.326h2.649c.797 0 1.378.209 1.744.628.366.417.477 1.001.331 1.751zM17.766 10.207h-.943l-.516 2.648h.838c.557 0 .971-.105 1.242-.314.272-.21.455-.559.551-1.049.092-.47.049-.802-.125-.995s-.524-.29-1.047-.29z","size":20,"color":"violet"},{"tag":"swift","tech":"Swift","name":"M21.984 16.348c.056-.112.056-.224.112-.336 1.346-5.272-1.851-11.44-7.347-14.693 2.412 3.253 3.365 7.122 2.524 10.599-.056.28-.168.617-.28.897a5.173 5.173 0 0 1-.45-.28S11.104 9.17 5.273 3.282c-.169-.168 3.14 4.71 6.841 8.58-1.738-1.01-6.673-4.542-9.758-7.403.337.617.842 1.234 1.346 1.851 2.58 3.309 5.945 7.346 9.983 10.43-2.86 1.74-6.842 1.851-10.88 0-1.01-.448-1.85-1.009-2.804-1.682 1.682 2.636 4.318 5.048 7.459 6.337 3.757 1.627 7.57 1.515 10.318 0h.057c.112-.056.224-.112.336-.224 1.346-.673 3.982-1.402 5.44 1.402.392.785 1.121-2.86-1.626-6.225z","size":20,"color":"#FA7343"},{"tag":"ios","tech":"iOS","name":"M1.1 6.05C.486 6.05 0 6.53 0 7.13A1.08 1.08 0 0 0 1.1 8.21C1.72 8.21 2.21 7.73 2.21 7.13C2.21 6.53 1.72 6.05 1.1 6.05M8.71 6.07C5.35 6.07 3.25 8.36 3.25 12C3.25 15.67 5.35 17.95 8.71 17.95C12.05 17.95 14.16 15.67 14.16 12C14.16 8.36 12.05 6.07 8.71 6.07M19.55 6.07C17.05 6.07 15.27 7.45 15.27 9.5C15.27 11.13 16.28 12.15 18.4 12.64L19.89 13C21.34 13.33 21.93 13.81 21.93 14.64C21.93 15.6 20.96 16.28 19.58 16.28C18.17 16.28 17.11 15.59 17 14.53H15C15.08 16.65 16.82 17.95 19.46 17.95C22.25 17.95 24 16.58 24 14.4C24 12.69 23 11.72 20.68 11.19L19.35 10.89C17.94 10.55 17.36 10.1 17.36 9.34C17.36 8.38 18.24 7.74 19.54 7.74C20.85 7.74 21.75 8.39 21.85 9.46H23.81C23.76 7.44 22.09 6.07 19.55 6.07M8.71 7.82C10.75 7.82 12.06 9.45 12.06 12C12.06 14.57 10.75 16.2 8.71 16.2C6.65 16.2 5.35 14.57 5.35 12C5.35 9.45 6.65 7.82 8.71 7.82M.111 9.31V17.76H2.1V9.31H.11Z","size":20,"color":"#000000"}]}},"allMarkdownRemark":{"totalCount":5,"edges":[{"node":{"excerpt":"Ti·∫øp t·ª•c chu·ªói b√†i v·ªÅ git, th√¨ ta s·∫Ω n√≥i v·ªÅ gitflow. Ta hi·ªÉu ƒë∆°n gi·∫£n gitflow l√† c√°c quy t·∫Øc s·ª≠ d·ª•ng v√† ph·ªëi h·ª£p git theo nh√≥m. \nTrong t·∫•t c·∫£ c√°c d·ª± √°n th√¨ vi·ªác x√°c ƒë·ªãnh gitflow c·ªßa d·ª± √°n ƒë√≥ l√† ƒëi·ªÅu‚Ä¶","html":"<hr>\n<p>Ti·∫øp t·ª•c chu·ªói b√†i v·ªÅ git, th√¨ ta s·∫Ω n√≥i v·ªÅ gitflow. Ta hi·ªÉu ƒë∆°n gi·∫£n gitflow l√† c√°c quy t·∫Øc s·ª≠ d·ª•ng v√† ph·ªëi h·ª£p git theo nh√≥m.\nTrong t·∫•t c·∫£ c√°c d·ª± √°n th√¨ vi·ªác x√°c ƒë·ªãnh gitflow c·ªßa d·ª± √°n ƒë√≥ l√† ƒëi·ªÅu b·∫Øt bu·ªôc.</p>\n<h2>Ti·ªÅn ƒë·ªÅ</h2>\n<ul>\n<li>D·ª±a tr√™n m√¥ h√¨nh c·ªßa GitHub Flow. V·ªÅ m√¥ h√¨nh GitHub Flow, c√≥ th·ªÉ xem b·∫£n h∆∞·ªõng d·∫´n g·ªëc c·ªßa GitHub <a href=\"https://guides.github.com/introduction/flow/\">·ªü ƒë√¢y</a>.</li>\n<li>\n<p>D·ª±a v√†o y√™u c·∫ßu c·ªßa m·ªói d·ª± √°n, skill c·ªßa c√°c members trong d·ª± √°n m√† m√¥ h√¨nh n√†y c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠a l·∫°i cho ph√π h·ª£p v·ªõi t·ª´ng d·ª± √°n.</p>\n<ul>\n<li>V√≠ d·ª• c√°c d·ª± √°n qu√° c≈©, c√≥ c√°ch v·∫≠n h√†nh gitflow kh√°c th√¨ kh√¥ng c·∫ßn ph·∫£i chuy·ªÉn qua m√¥ h√¨nh n√†y.</li>\n</ul>\n</li>\n<li>Kh√¥ng c√≥ 1 m√¥ h√¨nh tuy·ªát ƒë·ªëi ch√≠nh x√°c hay ƒë√∫ng ƒë·∫Øn. T·∫•t c·∫£ ch·ªâ l√† t∆∞∆°ng ƒë·ªëi. </li>\n</ul>\n<h2>D·ª± √°n trong giai ƒëo·∫°n develop</h2>\n<h3>Vai tr√≤ c·ªßa c√°c branch</h3>\n<ul>\n<li>\n<p><code class=\"language-text\">master</code></p>\n<ul>\n<li>Lu√¥n ·ªü tr·∫°ng th√°i c√≥ th·ªÉ deploy. </li>\n<li>\n<p>Kh√¥ng b·ªã fail auto test (n·∫øu d·ª± √°n c√≥ y√™u c·∫ßu d√πng auto test)</p>\n<ul>\n<li>n·∫øu c√≥ v·∫•n ƒë·ªÅ g√¨ th√¨ ph·∫£i ∆∞u ti√™n fix ƒë·∫ßu ti√™n</li>\n</ul>\n</li>\n<li>Kh√¥ng ƒë∆∞·ª£c commit/push tr·ª±c ti·∫øp v√†o branch n√†y. Branch <code class=\"language-text\">master</code> ph·∫£i ƒë∆∞·ª£c b·∫£o v·ªá b·∫±ng ch·ª©c nƒÉng protected branchs c·ªßa GitHub.</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">feature-XXX</code></p>\n<ul>\n<li>t√°ch ra t·ª´ branch <code class=\"language-text\">master</code></li>\n<li><code class=\"language-text\">XXX</code>l√† id c·ªßa backlog ( ho·∫∑c redmine, github issue, ... tu·ª≥ theo d·ª± √°n)</li>\n<li>D√π ch·ªâ c√≥ 1 commit c≈©ng ph·∫£i t·∫°o pull request. C√°c pull request khi t·∫°o ph·∫£i c√≥ ti·ªÅn t·ªë <code class=\"language-text\">[WIP]</code> ·ªü tr∆∞·ªõc. Sau khi ƒë∆∞·ª£c ho√†n thi·ªán v√† s·∫µn s√†ng review th√¨ b·ªè ti·ªÅn t·ªë n√†y ƒëi. C√°c pull request ph·∫£i h∆∞·ªõng v·ªÅ <code class=\"language-text\">master</code>.</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">feature-XXX-YYY</code></p>\n<ul>\n<li>ƒê∆∞·ª£c t√°ch ra t·ª´ branch <code class=\"language-text\">feature-XXX</code></li>\n<li><code class=\"language-text\">YYY</code> l√† t√™n ng∆∞·ªùi l√†m.</li>\n<li>Ch·ªâ d√πng trong tr∆∞·ªùng h·ª£p c√≥ nhi·ªÅu h∆°n 1 ng∆∞·ªùi c√πng dev 1 ch·ª©c nƒÉng.</li>\n<li>D√π ch·ªâ c√≥ 1 commit c≈©ng ph·∫£i t·∫°o pull request. C√°c pull request khi t·∫°o ph·∫£i c√≥ ti·ªÅn t·ªë <code class=\"language-text\">[WIP]</code> ·ªü tr∆∞·ªõc. Sau khi ƒë∆∞·ª£c ƒë∆∞·ª£c ho√†n th√†nh v√† s·∫µn s√†ng review th√¨ b·ªè ti·ªÅn t·ªë n√†y ƒëi. C√°c pull request ph·∫£i h∆∞·ªõng v·ªÅ <code class=\"language-text\">feature-XXX</code>.</li>\n</ul>\n</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2dada75d7753e0b978291fd9a4342785/e3189/GitHubFlow.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69.71428571428572%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACXklEQVQ4y4VTbU8TQRC+f+sP8Ef4wcRoE01MSJA3iYlfTExExBoLtgJVELSgUGxpr3fXXq/tve7t3t7j3N4VCiVxk6e3nZmd3WfmGS1NU2SQBCBF35XYbSU47ErU2xK1iwReJJGtaWxaxB50OD7/4dhvCVSbAnstDg23ljEWWKoxvKozbP5ieHsUYRxK3LU2jj2s1sZYqo7w8L2NNwcTaPZwCH/i4NSMUT7x6WJODg+fTjwIzuCFGWK4BK/AdO+TL2IM67tD/OwG6hItDEN1sOPEqJ6NFJWNY5cCQrXnQkIkyS2QTSSQUiJkHNu/R3CCJE94g0MqKYHA/oUH3WFF3YoftZmNzW2TIJ4xpTcTZjF+xHHuCIgU/10el2CxQBYqiwu1IdXQtm1YlqUczPNw9OQxxj0DQUyUyNapbKO5tqz2fhDBJ3bnL1dhfNkpiF2rQNUwCAJkXyWHRMDa24Vjj5BQICfTpN2Gc3wEQYfimCOrVvNrHfbfdpHwWk7aXF2mdCKhig6kt/ypepFOguiHyP+nKLSJeR0qBzUn5gJufN0sTGkRss5eWIyUkDdOXomdEiYkgwyCupvhahrI6V5+A3ctUO0RJyQhFsC/rFOGGIcdhg8NTyURciahaZro9XrQdR2DwUDpbErT/f4CzPhBB6C0F41NTPaeZZVE5SykCRnOsdPukkN3xPG8QuNUjrBYC7C+72JhZ0xJonw8Jxz3X3dwb62NUtnCg3cGGr0wf+HswEuZv6wzZCh9NLBcNbFStbBS66O01cNWY1T4Izwt61jcMbFQMfBos4tTIx+9f7/ZK5sZLG/qAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"github-flow\"\n        title=\"github-flow\"\n        src=\"/static/2dada75d7753e0b978291fd9a4342785/8c557/GitHubFlow.png\"\n        srcset=\"/static/2dada75d7753e0b978291fd9a4342785/4edbd/GitHubFlow.png 175w,\n/static/2dada75d7753e0b978291fd9a4342785/13ae7/GitHubFlow.png 350w,\n/static/2dada75d7753e0b978291fd9a4342785/8c557/GitHubFlow.png 700w,\n/static/2dada75d7753e0b978291fd9a4342785/e3189/GitHubFlow.png 1035w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>Review</h3>\n<ul>\n<li>Khi t·∫°o 1 branch m·ªõi v√† c√≥ commit m·ªõi th√¨ b·∫Øt bu·ªôc ph·∫£i t·∫°o pull request v√† th√™m prefix <code class=\"language-text\">[WIP]</code>.</li>\n<li>\n<p>T·∫•t c·∫£ c√°c pull request ph·∫£i ƒë∆∞·ª£c review.</p>\n<ul>\n<li>Sau khi ho√†n thi·ªán xong ch·ª©c nƒÉng v√† s·∫µn s√†ng review th√¨ b·ªè <code class=\"language-text\">[WIP]</code>ƒëi v√† assign l·∫°i cho leader.</li>\n</ul>\n</li>\n<li>S·ª≠ d·ª•ng c√°c c√¥ng c·ª• chatwork/slack ƒë·ªÉ y√™u c·∫ßu ƒë∆∞·ª£c review.</li>\n<li>\n<p>Sau khi review xong th√¨ leader merge v√†o v√† xo√° branch ƒë√≥ ƒëi.</p>\n<ul>\n<li>N·∫øu c√≥ y√™u c·∫ßu ph·∫£i s·ª≠a th√¨ comment v√†o v√† assign ng∆∞·ª£c l·∫°i cho member.</li>\n<li>Leader sau khi review xong c·∫ßn ph·∫£i comment l·∫°i ƒë·ªÉ cho members ƒë∆∞·ª£c bi·∫øt. V√≠ d·ª• nh∆∞ LGTM, :+1:, ...</li>\n</ul>\n</li>\n</ul>\n<h3>Deploy</h3>\n<ul>\n<li>\n<p>N·∫øu c√≥ thay ƒë·ªïi trong master th√¨ t·ª± ƒë·ªông deploy.</p>\n<ul>\n<li>Qu·∫£n l√Ω b·∫±ng Jenkins / CircleCI</li>\n<li>B√™n web/server : s·ª≠ d·ª•ng c√°c tools deploy t·ª± ƒë·ªông nh∆∞ capistrano ƒë·ªÉ ti·∫øt ki·ªám th·ªùi gian v√† gi·∫£m r·ªßi ro.</li>\n<li>V·ªÅ app th√¨ s·ª≠ d·ª•ng c√°c tools nh∆∞ deploygate, testflight ƒë·ªÉ deploy.</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>C√≥ nhi·ªÅu d·ª± √°n s·ª≠ d·ª•ng ch·ª©c nƒÉng t·ª± ƒë·ªông deploy c·ªßa CircleCI r·∫•t hi·ªáu qu·∫£. C√°ch l√†m n√†y ti·∫øt ki·ªám th·ªùi gian v√† c·∫£i thi·ªán workflow trong team.</p>\n</blockquote>\n<h2>Deploy l√™n production</h2>\n<ul>\n<li>S·ª≠ d·ª•ng branch <code class=\"language-text\">release</code> chuy√™n ƒë·ªÉ deploy l√™n production. </li>\n<li>Khi deploy l√™n prd, t·∫°o pull request t·ª´ branch <code class=\"language-text\">master</code> v√†o branch <code class=\"language-text\">release</code>. Branch <code class=\"language-text\">release</code> ph·∫£i ƒë∆∞·ª£c b·∫£o v·ªá b·∫±ng ch·ª©c nƒÉng protected branchs c·ªßa GitHub.</li>\n<li>X√°c nh·∫≠n s·ª± thay ƒë·ªïi, n·∫øu kh√¥ng c√≥ v·∫•n ƒë·ªÅ g√¨ th√¨ merge v√†o <code class=\"language-text\">release</code>.</li>\n<li>Sau khi merge xong th√¨ deploy l√™n server prd. Khuy·∫øn kh√≠ch d√πng deploy t·ª± ƒë·ªông. </li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4fed7c668c87427d22bb0b7aed15d9f8/33e10/release-branch.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.28571428571429%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAABz0lEQVQoz5VTW08TQRTu3zS+8uaFH8CLMfgflMsDPGBVTBMFgyblosRoQIytDShKm3YVUrLbne1O57I7+3lmtl2gkDSe5MvJzpzbd77ZUpZlGMEMkY3BmvXVI4XyvsLqgcKrmsYL8h9+KXsLG2ZjSvgPqxyEeLLjY+VTgNn1Lh4R3tZZ0dAVFEIgCHowqUbN06h7CplJoZIU+hoScKFQPYzxrh5gILWtdIkJFWSModPxYBKJtW8hnn/uQgiJXl8gjC+BviMu4UcCj7fO0PjD3WTG5IVGNkY5cxMonU4gn7mGOjEF3ZEvOTGMKQ6tKAFNgRvEyWPzOElNw1heL3il7/AiFhqRziaKxAYacizX7dDzPHDORzewhBvzc2hVXiIiVox2yLi6AE3WlwlOzxn2Zx8irH3NU4mpU9n3fVifLznfS3P9DTrb27CvTEgFqRLabQ6paDJSnXOBw6VlsOOfThabeyNla9UmoCdQbvxNcNK/elYa/yMkKbd51MdMpYsNerR7zQF2j2N0o6RoqlODj785Hrw+x+peD19aHO8p5jTUFxOaYcGOLzG13ML0szbuPG3jLuH24gl2frBiiiDWLuZ+uY175Tzm1kITG997+AdxhpLPQ/IfhgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"release-branch.png\"\n        title=\"release-branch.png\"\n        src=\"/static/4fed7c668c87427d22bb0b7aed15d9f8/8c557/release-branch.png\"\n        srcset=\"/static/4fed7c668c87427d22bb0b7aed15d9f8/4edbd/release-branch.png 175w,\n/static/4fed7c668c87427d22bb0b7aed15d9f8/13ae7/release-branch.png 350w,\n/static/4fed7c668c87427d22bb0b7aed15d9f8/8c557/release-branch.png 700w,\n/static/4fed7c668c87427d22bb0b7aed15d9f8/33e10/release-branch.png 844w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>Fix l·ªói kh·∫©n c·∫•p</h2>\n<p>C√°c l·ªói kh·∫©n c·∫•p n√†y kh√¥ng mu·ªën g·∫∑p nh∆∞ng ƒë√¥i l√∫c v·∫´n xu·∫•t hi·ªán. L√Ω do v√¨ m√¥i tr∆∞·ªùng production th∆∞·ªùng kh√°c m√¥i tr∆∞·ªùng staging. Prd th∆∞·ªùng c√≥ ELB, S3, bi·∫øn m√¥i tr∆∞·ªùng kh√°c bi·ªát, ... </p>\n<p>C√°c l·ªói n√†y c·∫ßn ph·∫£i fix ngay l·∫≠p t·ª©c, th∆∞·ªùng th√¨ kh√¥ng c√≥ th·ªùi gian ƒë·ªÉ tr·∫£i qua ƒë·ªß c√°c quy tr√¨nh deploy. </p>\n<ul>\n<li>\n<p>hotfix-XXX</p>\n<ul>\n<li>T√°ch ra t·ª´ branch <code class=\"language-text\">release</code></li>\n<li><code class=\"language-text\">XXX</code>l√† ID c·ªßa backlog ho·∫∑c redmine, ...</li>\n<li>Sau khi l√†m xong th√¨ g·ª≠i pull request v√†o <code class=\"language-text\">release</code>, merge v√† deploy l√™n.</li>\n<li>G·ª≠i pull request v√†o <code class=\"language-text\">master</code> v√† merge.</li>\n</ul>\n</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bf93fa3a5adf4a0c71a04e0a36f1e08a/f2d92/hotfix-branch.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 71.42857142857143%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACHElEQVQ4y6VTTWsTURTNPxZ0qRtBN27cFgRdqGiklIoUQUFprbYaGxtbrGn6kU4mwZmMk8zLfL2vOd73ZiakGnHhhcPMvAfnnnvOnUZRFKihF95/x7K7nVOBN12BD6cSWz2JA1eggf+otXaE5qcI97dD3N4YY6sbozGdRgh8Dz4TeL4/A0vyS5ilHOEsw/oXhsHPDEnGEdF5lHBIwfF9GGO1FSLjwjZpcCGQZylYJvGuO6ELCa0LSKUtlNYQUuHjKcM0EeX41X2aCxy5ETpObMno6s+RjaJ/lWk6iXNSK+ZnSpe+LiUUUlcdC9vVPulbKCBOcwhhiIqlzRqMMQRBAN/3yRNhO9UqS8KSPNt/gLC/h2kOuKHAwVDh6IfCsadwOFI48VWpME3JPyI1kOSVKUaExqO6cglMLtoIPJe8LvDqMMLNFx7uvh5b3NrwsbIZWDFL18aEMDP+VAFM48yec4UqTY2IzswkrIIJyI68bIlrlaZSocGFnHsWG4//EpYdWdNaGNRkNi1DRB3P325iPPLAC/MtLTJy4uLbMcafWyWJXhRChGEYwnVdSk5ebqcVevdWwPpnSInELHEhS9XO+x04Tx5WhHo+lR15kSOIabl7KVrnGVbbCZpfSVGZE6XIsXuWoTPI8Wgvx7ZTlJtcjTonrDffVGeQ4MpTBzfWXYtrzT5OvDKQx7sBrj5z6J8d4fraAHdeDsEX9rWuX07jMrkq4I+oAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"hotfix-branch.png\"\n        title=\"hotfix-branch.png\"\n        src=\"/static/bf93fa3a5adf4a0c71a04e0a36f1e08a/8c557/hotfix-branch.png\"\n        srcset=\"/static/bf93fa3a5adf4a0c71a04e0a36f1e08a/4edbd/hotfix-branch.png 175w,\n/static/bf93fa3a5adf4a0c71a04e0a36f1e08a/13ae7/hotfix-branch.png 350w,\n/static/bf93fa3a5adf4a0c71a04e0a36f1e08a/8c557/hotfix-branch.png 700w,\n/static/bf93fa3a5adf4a0c71a04e0a36f1e08a/f2d92/hotfix-branch.png 1027w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>M√¥ h√¨nh git cho phase 2nd</h2>\n<p>Ph·∫ßn n√†y m√¨nh s·∫Ω gi·∫£i th√≠ch v·ªÅ m√¥ h√¨nh git c·ªßa d·ª± √°n sau khi ƒë√£ release phase 1st.\nM·ªói d·ª± √°n th∆∞·ªùng chia th√†nh nhi·ªÅu phase. M·ªói phase c√≥ nh·ªØng t√≠nh nƒÉng ƒë·ªôc l·∫≠p v·ªõi nhau.\nV√¨ s·ª± ƒë·ªôc l·∫≠p n√†y m√† m√¥ h√¨nh git c≈©ng c√≥ √≠t nhi·ªÅu thay ƒë·ªïi cho ph√π h·ª£p. </p>\n<h3>Vai tr√≤ c·ªßa c√°c branch</h3>\n<ul>\n<li>\n<p><code class=\"language-text\">master</code></p>\n<ul>\n<li>L√† version m·ªõi nh·∫•t cho phase 2nd</li>\n<li>Ngo√†i ra t·∫•t c·∫£ ƒë·ªÅu gi·ªëng nh∆∞ ph·∫ßn tr√™n.</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">release</code></p>\n<ul>\n<li>\n<p>T·∫°i th·ªùi ƒëi·ªÉm k·∫øt th√∫c phase 1st th√¨ ƒë∆∞·ª£c t·∫°o branch <code class=\"language-text\">release</code> t·ª´ branch <code class=\"language-text\">master</code></p>\n<ul>\n<li>Sau khi k·∫øt th√∫c phase 2nd th√¨ merge v√†o <code class=\"language-text\">master</code></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">feature-XXX</code> (branch th·ª±c hi·ªán c√°c ch·ª©c nƒÉng c·ªßa phase 2ndÔºâ</p>\n<ul>\n<li>T√°ch ra t·ª´ branch <code class=\"language-text\">master</code></li>\n<li>Ngo√†i ra t·∫•t c·∫£ ƒë·ªÅu gi·ªëng nh∆∞ ph·∫ßn tr√™n.</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">bug-fix-XXX</code> (branch fix bugs cho phase 1stÔºâ</p>\n<ul>\n<li>T√°ch ra t·ª´ branch <code class=\"language-text\">release</code></li>\n<li><code class=\"language-text\">XXX</code>l√† ID c·ªßa backlog, redmine, ...</li>\n</ul>\n</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d06a16247bb741f47bae55fac6538de5/1d553/2nd-develop.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACTUlEQVQ4y4VTTW/TQBD1b+XGj+APcEP0BBKoh0ocoEBFEZX6QaESB1BK2iqRiZoocRLHTpzYu2t71/buYz/SKlElGGm03vHsm3lvdzwpFQCFUVLjY1vg843A2xbHRU/YuFIKUrn1zs3emDlzcOXO7F9y/LgV8LC2Oamxc5rg8IripMtwOSzwP0tYg+cnCxy2CY471J7xkuUKLFuiHeiu/FQ3VUHWAnVVgRYCJOc4uiEYJyVKLtYxASEqdCYMX67TrSKe0Ac1AoaLEp0xsZRELVFpbxrtUqI1SEGK2v6rGxdXSuJ2RtHVoMYa6aTwNtELXoGJZquiTZTNA7pZUTmNdcFS1DZmCnpxHGM8HmM0CkAribDVwuD9PpjOYQVHnOZISGGp0rJCuiLwd18jXywsiOnYxO8B0zRFGIaIohlGYYxiHoMO+pCmO52cab2k7sK6oVzVyPwupOBQ626ZBjS5VsNNGow3kBt7oyOvmn/cs4M0mhdiDUgpRZau7Ib3T5D1voLqJ0jzEvHK0C1B23vIkxFIqeytE1balZpvrpCGPeTXbxxgnueghNhaks1Akglq5egaKsanQx9M591pdvfQzVA0OpcXFNGk/5CyMdO4qS60ZkvGNasGIQXO/HI7T6kt4se+k8ZLkkRfSASzQrkxrDXYz/MAi8h1tXMa4dHuCE+PIjw5mKI/5zb+Jyqxcxbj5fc5Hu8F+PB7BW+5XGIwGCAIAnDO76vOJwSicO/rm7/S47XAJ+3vfsWIMuEAZwWeHU/w6mKGF+dTPbYJ/gKvO+BUc7tXkgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2nd-develop.png\"\n        title=\"2nd-develop.png\"\n        src=\"/static/d06a16247bb741f47bae55fac6538de5/8c557/2nd-develop.png\"\n        srcset=\"/static/d06a16247bb741f47bae55fac6538de5/4edbd/2nd-develop.png 175w,\n/static/d06a16247bb741f47bae55fac6538de5/13ae7/2nd-develop.png 350w,\n/static/d06a16247bb741f47bae55fac6538de5/8c557/2nd-develop.png 700w,\n/static/d06a16247bb741f47bae55fac6538de5/e996b/2nd-develop.png 1050w,\n/static/d06a16247bb741f47bae55fac6538de5/1d553/2nd-develop.png 1159w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>","id":"b7d1d119-958a-5eff-907b-43195adc1c76","frontmatter":{"title":"Gitflow trong th·ª±c t·∫ø","date":"16-07-2020","tags":["git"]},"fields":{"slug":"/2020-07-16-gitflow-trong-thuc-te/","readingTime":{"text":"5 min read"}}}},{"node":{"excerpt":"Trong c√¥ng vi·ªác th√¨ ch√∫ng ta c≈©ng kh√¥ng l·∫° g√¨ Git, v√† 1 trong nh·ªØng c√¢u l·ªánh th∆∞·ªùng d√πng nh·∫•t l√† . Tuy nhi√™n, kh√¥ng ph·∫£i ai trong ch√∫ng ta c≈©ng vi·∫øt git commit 1 c√°ch chuy√™n nghi·ªáp. Th·ªânh tho·∫£ng xem‚Ä¶","html":"<p>Trong c√¥ng vi·ªác th√¨ ch√∫ng ta c≈©ng kh√¥ng l·∫° g√¨ Git, v√† 1 trong nh·ªØng c√¢u l·ªánh th∆∞·ªùng d√πng nh·∫•t l√† <code class=\"language-text\">git commit</code>. Tuy nhi√™n, kh√¥ng ph·∫£i ai trong ch√∫ng ta c≈©ng vi·∫øt git commit 1 c√°ch chuy√™n nghi·ªáp. Th·ªânh tho·∫£ng xem <code class=\"language-text\">git log</code> m√† th·∫•y 1 list c√°c commit ch·ªâ c√≥ 1 t·ª´ : </p>\n<p><img src=\"https://blog.cpanel.com/wp-content/uploads/2018/06/image2018-3-14_13-49-23.png\" alt=\"alt\"></p>\n<p>L√∫c su√¥n s·∫ª th√¨ n√≥ l√† 1 c√¢u chuy·ªán c∆∞·ªùi, c√≤n l√∫c c·∫ßn revert, c·∫ßn cherry-pick, rebase, ... th√¨ kh√¥ng c√≤n n∆∞·ªõc m·∫Øt ƒë·ªÉ kh√≥c ƒë√¢u. </p>\n<p>V·∫≠y n√™n, h√£y vi·∫øt commit 1 c√°ch c√≥ t√¢m :)). </p>\n<h1>Nguy√™n t·∫Øc chung</h1>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">D√≤ng 1 : t√≥m t·∫Øt n·ªôi dung thay ƒë·ªïi (title, summary)\nD√≤ng 2 : d√≤ng tr·ªëng\nD√≤ng 3 : n·ªôi dung, l√Ω do thay ƒë·ªïi, thay ƒë·ªïi nh∆∞ th·∫ø n√†o, thay ƒë·ªïi ·ªü ƒë√¢u, ...</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Ng√¥n ng·ªØ s·ª≠ d·ª•ng ƒë·ªÉ vi·∫øt commit th√¨ ƒë∆∞∆°ng nhi√™n l√† ti·∫øng Anh r·ªìi :)). </p>\n<h2>D√≤ng 1</h2>\n<p>D√≤ng 1 m√¨nh vi·∫øt t√≥m t·∫Øt n·ªôi dung thay ƒë·ªïi, v√† type c·ªßa commit. </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">[type] t√≥m t·∫Øt #id</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h3>Type</h3>\n<p>Type th√¨ c√≥ r·∫•t nhi·ªÅu, nh∆∞ng t√≥m g·ªçn l·∫°i th√¨ c≈©ng ch·ªâ c√≥ 1 s·ªë lo·∫°i sau : </p>\n<ul>\n<li><strong>fix</strong>: hay d√πng nh·∫•t :)), ƒë·ªÉ fix bugs </li>\n<li><strong>hotfix</strong>: ƒë·ªÉ fix nh·ªØng bugs nghi√™m tr·ªçng, kh·∫©n c·∫•p</li>\n<li><strong>add</strong>: th√™m t√≠nh nƒÉng m·ªõi, th√™m file m·ªõi</li>\n<li><strong>update</strong>: s·ª≠a l·∫°i t√≠nh nƒÉng (kh√¥ng ph·∫£i bugs)</li>\n<li><strong>change</strong>: y√™u c·∫ßu b·ªã thay ƒë·ªïi</li>\n<li><strong>clean</strong>: tinh ch·ªânh codeÔºàki·ªÉu nh∆∞ refactoringÔºâ</li>\n<li><strong>disable</strong>: t·∫Øt 1 t√≠nh nƒÉng n√†o ƒë√≥Ôºàki·ªÉu nh∆∞ comment outÔºâ</li>\n<li><strong>remove</strong>: xo√° 1 t√≠nh nƒÉng, ho·∫∑c 1 file</li>\n<li><strong>upgrade</strong>: n√¢ng version </li>\n<li><strong>revert</strong>: xo√° 1 thay ƒë·ªïi </li>\n</ul>\n<p>Ho·∫∑c ƒë∆°n gi·∫£n h∆°n th√¨ ch·ªâ c√≥ 4 ki·ªÉu : </p>\n<ul>\n<li><strong>fix</strong></li>\n<li><strong>add</strong></li>\n<li><strong>update</strong></li>\n<li><strong>remove</strong></li>\n</ul>\n<h3>T√≥m t·∫Øt</h3>\n<p>Ph·∫ßn t√≥m t·∫Øt th√¨ vi·∫øt ƒë∆°n gi·∫£n, ng·∫Øn g·ªçn m√† v·∫´n hi·ªÉu ƒë∆∞·ª£c n·ªôi dung nh√©.\nC·ªë g·∫Øng ch·ªâ vi·∫øt trong 1 d√≤ng, v√† d√πng c√°c t·ª´ kho√° c·ªßa ch·ª©c nƒÉng ƒë√≥. </p>\n<h3>ID</h3>\n<p>ID ·ªü ƒë√¢y th∆∞·ªùng l√† c√°ch ƒë·ªÉ link t·ªõi task c·ªßa ch·ª©c nƒÉng ƒë√≥. </p>\n<p>N·∫øu d√πng github th√¨ n√≥ l√† issue ID. N·∫øu d√πng trello th√¨ c≈©ng l√† ID c·ªßa task ƒë√≥. </p>\n<p>C√°ch n√†y ƒë·ªÉ m√¨nh d·ªÖ t√¨m ƒë·ªçc l·∫°i requirement c·ªßa task. </p>\n<h2>D√≤ng 3</h2>\n<p>Ph·∫ßn 3 l√† ph·∫ßn m√¥ t·∫£ chi ti·∫øt h∆°n n·ªôi dung c·ªßa commit. </p>\n<p>D√≤ng 1 l√† c√¢u tr·∫£ l·ªùi cho c√¢u h·ªèi \"C√°i g√¨ (What)\", th√¨ d√≤ng 3 l√† c√¢u tr·∫£ l·ªùi cho nh·ªØng c√¢u h·ªèi \"T·∫°i sao (Why)\", \"·ªû ƒë√¢u(Where)\", \"Nh∆∞ th·∫ø n√†o (How)\". ƒê√¢y l√† m√¥ h√¨nh 3W1H kh√° ƒë∆°n gi·∫£n. </p>\n<p>C√°ch vi·∫øt full th∆∞·ªùng d√πng cho nh·ªØng commit trong branch ch√≠nh nh∆∞ <code class=\"language-text\">develop</code>, <code class=\"language-text\">staging</code>, <code class=\"language-text\">master</code>. </p>\n<p>C√≤n trong c√°c commit ƒë∆°n gi·∫£n n·∫±m trong branch features, ta c√≥ th·ªÉ d√πng b·∫£n r√∫t g·ªçn, ch·ªâ c√≤n d√≤ng 1. Tuy nhi√™n, h√£y c·ªë g·∫Øng ƒë·∫£m b·∫£o format cho 1 d√≤ng ƒë√≥. </p>\n<p>T·ªïng k·∫øt l·∫°i, ch√∫ng ta s·∫Ω c√≥ nh·ªØng commit d·∫°ng th·∫ø n√†y : </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">[add] new post to &quot;git-commit&quot;\n\nNew post on how to write gitcommit professional.</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Ho·∫∑c th·∫ø n√†y : </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">[fix] some typo on new post.</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h1>Tricks</h1>\n<p>ƒê·ªÉ ƒë·∫£m b·∫£o commit ƒë·∫πp, anh em n√™n c·ªë g·∫Øng s·ª≠ d·ª•ng rebase. Trong github, khi merge c≈©ng c√≥ 3 options, l√† merge th√¥ng th∆∞·ªùng, squash merge, rebase merge. C√° nh√¢n anh th·∫•y rebase merge ƒë·∫πp v√† d·ªÖ thao t√°c khi g·∫∑p v·∫•n ƒë·ªÅ ph·ª©c t·∫°p sau n√†y h∆°n. </p>\n<p>Sau khi dev xong 1 features, th√¨ n√™n rebase l·∫°i c√°c commit. Commit ƒë·ªëi v·ªõi dev c≈©ng gi·ªëng nh∆∞ \"c√°i rƒÉng c√°i t√≥c\", m√¨nh ·ªü nh√† th·∫ø n√†o c≈©ng ƒë∆∞·ª£c, nh∆∞ng ra ƒë∆∞·ªùng th√¨ ph·∫£i t·ª≠ t·∫ø, th∆°m ngon :)). Rebase gi·ªëng nh∆∞ ki·ªÉu ch·∫£i l·∫°i t√≥c, ƒë√°nh l·∫°i rƒÉng ·∫•y :)). </p>\n<p>Anh em n√™n coi vi·∫øt code, l·∫≠p tr√¨nh gi·ªëng nh∆∞ l√†m th∆°, m√¨nh ph·∫£i chau chu·ªët v√† ngh·ªá sƒ©. </p>\n<p>ƒê·∫øn ƒë√¢y anh xin h·∫øt :)). </p>","id":"6e11912e-a24c-558c-b06a-77fc26811fe0","frontmatter":{"title":"C√°ch vi·∫øt git commit chuy√™n nghi·ªáp","date":"15-07-2020","tags":["git"]},"fields":{"slug":"/cach-viet-git-commit-chuyen-nghiep/","readingTime":{"text":"4 min read"}}}},{"node":{"excerpt":"V·∫•n ƒë·ªÅ ƒë·∫∑t ra T·∫°o ra m·ªôt View c√≥ animation s√≥ng trong iOS v·ªõi Swift. √ù t∆∞·ªüng S·ª≠ d·ª•ng ph∆∞∆°ng tr√¨nh s√≥ng c∆° trong v·∫≠t l√Ω l√†: y = (2œÄ( - )) V·ªõi: A l√† bi√™n ƒë·ªô c·ªßa s√≥ng t l√† th·ªùi gian T l√† chu k√¨ c·ªßa s√≥ng‚Ä¶","html":"<h2>V·∫•n ƒë·ªÅ ƒë·∫∑t ra</h2>\n<ul>\n<li>T·∫°o ra m·ªôt View c√≥ animation s√≥ng trong iOS v·ªõi Swift.</li>\n</ul>\n<h2>√ù t∆∞·ªüng</h2>\n<p>S·ª≠ d·ª•ng ph∆∞∆°ng tr√¨nh s√≥ng c∆° trong v·∫≠t l√Ω l√†:</p>\n<blockquote>\n<p>y = <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>A</mi></mrow><annotation encoding=\"application/x-tex\">A</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"mord mathdefault\">A</span></span></span></span><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>cos</mi><mo>‚Å°</mo></mrow><annotation encoding=\"application/x-tex\">\\cos</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mop\">cos</span></span></span></span>(2œÄ(<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mfrac><mi>t</mi><mi>T</mi></mfrac></mrow><annotation encoding=\"application/x-tex\">\\frac{t}{T}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.169556em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.824556em;\"><span style=\"top:-2.6550000000000002em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">t</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span> - <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mfrac><mi>x</mi><mi>Œª</mi></mfrac></mrow><annotation encoding=\"application/x-tex\">\\frac{x}{Œª}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.040392em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.695392em;\"><span style=\"top:-2.6550000000000002em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">Œª</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">x</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span>))</p>\n</blockquote>\n<p>V·ªõi:</p>\n<ul>\n<li>A l√† bi√™n ƒë·ªô c·ªßa s√≥ng</li>\n<li>t l√† th·ªùi gian</li>\n<li>T l√† chu k√¨ c·ªßa s√≥ng</li>\n<li>x l√† to·∫° ƒë·ªô theo tr·ª•c ho√†nh c·ªßa h·ªá to·∫° ƒë·ªô</li>\n<li>Œª l√† b∆∞·ªõc s√≥ng</li>\n</ul>\n<p>Ta c√≥ c√¥ng th·ª©c t√≠nh T theo Œª l√†: T = <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mfrac><mi>Œª</mi><mi>v</mi></mfrac></mrow><annotation encoding=\"application/x-tex\">\\frac{Œª}{v}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.2251079999999999em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8801079999999999em;\"><span style=\"top:-2.6550000000000002em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\" style=\"margin-right:0.03588em;\">v</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathdefault mtight\">Œª</span></span></span></span></span><span class=\"vlist-s\">‚Äã</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span>. V·ªõi v l√† v·∫≠n t·ªëc truy·ªÅn s√≥ng.</p>\n<p>V·ªõi c√¥ng th·ª©c tr√™n, √Ω t∆∞·ªüng ƒë·ªÉ t·∫°o chuy·ªÉn ƒë·ªông s√≥ng l√†:</p>\n<blockquote>\n<p>V·ªõi bi√™n ƒë·ªô A, b∆∞·ªõc s√≥ng Œª, chu k√¨ T c·ªë ƒë·ªãnh, x l√† gi√° tr·ªã thay ƒë·ªïi tr√™n tr·ª•c ho√†nh, v√† ·ª©ng v·ªõi m·ªói th·ªùi gian t tƒÉng d·∫ßn ta s·∫Ω t√¨m ƒë∆∞·ª£c gi√° tr·ªã to·∫° ƒë·ªô y => ta t·∫°o ƒë∆∞·ª£c m·ªôt ƒëi·ªÉm CGPoint d√πng ƒë·ªÉ v·∫Ω v·ªõi UIBezierPath</p>\n</blockquote>\n<h2>Tri·ªÉn khai √Ω t∆∞·ªüng</h2>\n<ul>\n<li>ƒê·∫ßu ti√™n ta kh·ªüi t·∫°o class <strong>WaveView</strong> v·ªõi c√°c thu·ªôc t√≠nh v√† ph∆∞∆°ng th·ª©c kh·ªüi t·∫°o. Vi·ªác t·∫°o ra m·ªôt class ri√™ng gi√∫p ta c√≥ th·ªÉ t√°i s·ª≠ d·ª•ng ·ªü nhi·ªÅu ViewController kh√°c nhau.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-swift line-numbers\"><code class=\"language-swift\"><span class=\"token keyword\">import</span> <span class=\"token builtin\">UIKit</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">WaveView</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">UIView</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> waveHeight<span class=\"token punctuation\">:</span> <span class=\"token builtin\">CGFloat</span> <span class=\"token operator\">=</span> <span class=\"token number\">10</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">didSet</span> <span class=\"token punctuation\">{</span>\n            A <span class=\"token operator\">=</span> waveHeight\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">var</span> waveSpeed<span class=\"token punctuation\">:</span> <span class=\"token builtin\">CGFloat</span> <span class=\"token operator\">=</span> <span class=\"token number\">1.5</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">didSet</span> <span class=\"token punctuation\">{</span>\n            v <span class=\"token operator\">=</span> waveSpeed\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> A<span class=\"token punctuation\">:</span> <span class=\"token builtin\">CGFloat</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> v<span class=\"token punctuation\">:</span> <span class=\"token builtin\">CGFloat</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> ùõå<span class=\"token punctuation\">:</span> <span class=\"token builtin\">CGFloat</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> T<span class=\"token punctuation\">:</span> <span class=\"token builtin\">CGFloat</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> t<span class=\"token punctuation\">:</span> <span class=\"token builtin\">CGFloat</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">let</span> pi <span class=\"token operator\">=</span> <span class=\"token builtin\">CGFloat</span><span class=\"token punctuation\">.</span>pi\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span>frame<span class=\"token punctuation\">:</span> <span class=\"token builtin\">CGRect</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span>frame<span class=\"token punctuation\">:</span> frame<span class=\"token punctuation\">)</span>\n        backgroundColor <span class=\"token operator\">=</span> <span class=\"token punctuation\">.</span>clear\n        A <span class=\"token operator\">=</span> waveHeight\n        v <span class=\"token operator\">=</span> waveSpeed\n        ùõå <span class=\"token operator\">=</span> frame<span class=\"token punctuation\">.</span>width <span class=\"token operator\">/</span> <span class=\"token number\">1.2</span>\n        T <span class=\"token operator\">=</span> ùõå <span class=\"token operator\">/</span> v\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">required</span> <span class=\"token keyword\">init</span><span class=\"token operator\">?</span><span class=\"token punctuation\">(</span>coder<span class=\"token punctuation\">:</span> <span class=\"token builtin\">NSCoder</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span>coder<span class=\"token punctuation\">:</span> coder<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>·ªû tr√™n m√¨nh ƒë√£ khai b√°o v√† kh·ªüi t·∫°o c√°c thu·ªôc t√≠nh nh∆∞ bi√™n ƒë·ªô A, v·∫≠n t·ªëc v, chu k√¨ T v√† b∆∞·ªõc s√≥ng Œª.</p>\n<p>Ti·∫øp theo, ƒë·ªÉ v·∫Ω s√≥ng th√¨ ta c·∫ßn override l·∫°i method draw c·ªßa UIView.</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-swift line-numbers\"><code class=\"language-swift\"><span class=\"token keyword\">override</span> <span class=\"token keyword\">func</span> <span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token number\">_</span> rect<span class=\"token punctuation\">:</span> <span class=\"token builtin\">CGRect</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">draw</span><span class=\"token punctuation\">(</span>rect<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">guard</span> <span class=\"token keyword\">let</span> context <span class=\"token operator\">=</span> <span class=\"token function\">UIGraphicsGetCurrentContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token function\">drawWave</span><span class=\"token punctuation\">(</span>rect<span class=\"token punctuation\">:</span> rect<span class=\"token punctuation\">,</span> <span class=\"token keyword\">in</span><span class=\"token punctuation\">:</span> context<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function\">drawWave</span><span class=\"token punctuation\">(</span>rect<span class=\"token punctuation\">:</span> <span class=\"token builtin\">CGRect</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">in</span> context<span class=\"token punctuation\">:</span> <span class=\"token builtin\">CGContext</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    context<span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span>rect<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">let</span> path <span class=\"token operator\">=</span> <span class=\"token function\">UIBezierPath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    path<span class=\"token punctuation\">.</span><span class=\"token function\">move</span><span class=\"token punctuation\">(</span>to<span class=\"token punctuation\">:</span> <span class=\"token function\">CGPoint</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> rect<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> x <span class=\"token keyword\">in</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token operator\">&lt;</span> <span class=\"token function\">Int</span><span class=\"token punctuation\">(</span>rect<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> z <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> pi <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span>t <span class=\"token operator\">/</span> T <span class=\"token operator\">-</span> <span class=\"token function\">CGFloat</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> ùõå<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">let</span> y <span class=\"token operator\">=</span> center<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> A <span class=\"token operator\">*</span> <span class=\"token function\">cos</span><span class=\"token punctuation\">(</span>z<span class=\"token punctuation\">)</span>\n        path<span class=\"token punctuation\">.</span><span class=\"token function\">addLine</span><span class=\"token punctuation\">(</span>to<span class=\"token punctuation\">:</span> <span class=\"token function\">CGPoint</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> <span class=\"token function\">CGFloat</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    path<span class=\"token punctuation\">.</span><span class=\"token function\">addLine</span><span class=\"token punctuation\">(</span>to<span class=\"token punctuation\">:</span> <span class=\"token function\">CGPoint</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> rect<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> rect<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    path<span class=\"token punctuation\">.</span><span class=\"token function\">addLine</span><span class=\"token punctuation\">(</span>to<span class=\"token punctuation\">:</span> <span class=\"token function\">CGPoint</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> rect<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token builtin\">UIColor</span><span class=\"token punctuation\">.</span>cyan<span class=\"token punctuation\">.</span><span class=\"token function\">setStroke</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    path<span class=\"token punctuation\">.</span><span class=\"token function\">stroke</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token builtin\">UIColor</span><span class=\"token punctuation\">.</span>cyan<span class=\"token punctuation\">.</span><span class=\"token function\">setFill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    path<span class=\"token punctuation\">.</span><span class=\"token function\">fill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    path<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    context<span class=\"token punctuation\">.</span><span class=\"token function\">addPath</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span>cgPath<span class=\"token punctuation\">)</span>\n    context<span class=\"token punctuation\">.</span><span class=\"token function\">drawPath</span><span class=\"token punctuation\">(</span>using<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span>fill<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>·ªû tr√™n, v√¨ h√†m draw c√≥ th·ªÉ g·ªçi l·∫°i nhi·ªÅu l·∫ßn n√™n c·∫ßn ph·∫£i d√πng UIGraphicsGetCurrentContext clear ƒëi m·ªói l·∫ßn n√≥ v·∫Ω l·∫°i. ·ªû h√†m drawWave, m√¨nh cho x thay ƒë·ªïi t·ª´ 0 ƒë·∫øn rect.width t·ª´ ƒë√≥ d√πng ƒë·ªÉ t√≠nh y theo ph∆∞∆°ng tr√¨nh s√≥ng c∆° m√¨nh ƒë√£ ƒë·ªÅ c·∫≠p ·ªü ph·∫ßn √Ω t∆∞·ªüng.</p>\n<p>N·∫øu ch·ªâ d·ª´ng l·∫°i ·ªü ƒë√¢y, th√¨ s·∫Ω kh√¥ng c√≥ animation cho s√≥ng v√¨ th·ªùi gian t ƒëang ƒë∆∞·ª£c fix c·ª©ng l√† 0. Do ƒë√≥ ƒë·ªÉ t c√≥ th·ªÉ tƒÉng d·∫ßn theo th·ªùi gian th√¨ ta ph·∫£i d√πng t·ªõi Timer.</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-swift line-numbers\"><code class=\"language-swift\"><span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> timer<span class=\"token punctuation\">:</span> <span class=\"token builtin\">CADisplayLink</span><span class=\"token operator\">?</span>\n\n<span class=\"token atrule\">@objc</span> <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function\">reDraw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    t <span class=\"token operator\">+</span><span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n    <span class=\"token function\">setNeedsDisplay</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    timer <span class=\"token operator\">=</span> <span class=\"token function\">CADisplayLink</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">:</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> selector<span class=\"token punctuation\">:</span> #<span class=\"token function\">selector</span><span class=\"token punctuation\">(</span>reDraw<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    timer<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>to<span class=\"token punctuation\">:</span> <span class=\"token builtin\">RunLoop</span><span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">,</span> forMode<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span>common<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    timer<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">invalidate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    timer <span class=\"token operator\">=</span> <span class=\"token constant\">nil</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>CADisplayLink c≈©ng gi·ªëng v·ªõi Timer, n√≥ hay ƒë∆∞·ª£c d√πng cho vi·ªác draw trong View v√¨ c√≥ c∆° ch·∫ø t·ª± t√≠nh th·ªùi gian repeat sao cho ph√π h·ª£p v·ªõi device.</p>\n<p>Cu·ªëi c√πng, ƒë·ªÉ s·ª≠ d·ª•ng WaveView ta ch·ªâ c·∫ßn kh·ªüi t·∫°o m·ªôt instance c·ªßa n√≥ r·ªìi addSubView v√†o m·ªôt View trong ViewController l√† ƒë∆∞·ª£c. B·∫°n c√≥ th·ªÉ tham kh·∫£o <a href=\"https://github.com/LaptrinhvaCuocsong/WaveView/blob/master/WaveViewDemo/WaveViewDemo/ViewController.swift\">t·∫°i ƒë√¢y</a></p>\n<p>M√¨nh c√≥ capture video k·∫øt qu·∫£, b·∫°n c√≥ th·ªÉ download file video <a href=\"https://github.com/LaptrinhvaCuocsong/WaveView/blob/master/Demo/Screen%20Recording%202020-07-05%20at%2016.38.17.mov.zip\">t·∫°i ƒë√¢y</a> nh√©.</p>\n<p>Nh∆∞ v·∫≠y, m√¨nh ƒë√£ tr√¨nh b√†y xong c√°ch ƒë·ªÉ t·∫°o ra m·ªôt chuy·ªÉn ƒë·ªông s√≥ng ƒë∆°n gi·∫£n s·ª≠ d·ª•ng ph∆∞∆°ng tr√¨nh s√≥ng c∆°. N·∫øu b·∫°n c√≥ c√°ch n√†o kh√°c th√¨ h√£y chia s·∫ª ho·∫∑c comment ph√≠a d∆∞·ªõi nh√© üòÑ.</p>\n<p>Happy reading!!!</p>","id":"76d25559-f9d9-5d4a-8f53-33e4c5470cff","frontmatter":{"title":"L√†m sao ƒë·ªÉ t·∫°o m·ªôt chuy·ªÉn ƒë·ªông s√≥ng ƒë∆°n gi·∫£n trong iOS v·ªõi Swift","date":"04-07-2020","tags":["swift","ios"]},"fields":{"slug":"/tao-animation-song-trong-ios-voi-swift/","readingTime":{"text":"4 min read"}}}},{"node":{"excerpt":"H∆∞·ªõng d·∫´n vi·∫øt b√†i cho TOMOSIA BLOG B∆∞·ªõc 1: Setup gatsby.js. Y√™u c·∫ßu: Node version 12.x\nTr∆∞·ªõc ti√™n c√†i ƒë·∫∑t gatsby CLI package Tr·ªù th√†nh contributor cho . Fork https://github.com/TOMOSIA-VIETNAM‚Ä¶","html":"<h1>H∆∞·ªõng d·∫´n vi·∫øt b√†i cho TOMOSIA BLOG</h1>\n<h3>B∆∞·ªõc 1: Setup <a href=\"https://www.gatsbyjs.org/\">gatsby.js</a>.</h3>\n<p>Y√™u c·∫ßu: Node version 12.x\nTr∆∞·ªõc ti√™n c√†i ƒë·∫∑t gatsby CLI package</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">yarn</span> global <span class=\"token function\">add</span> gatsby-cli</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Tr·ªù th√†nh contributor cho <code class=\"language-text\">TOMOSIA BLOG</code>.</p>\n<p>Fork <a href=\"https://github.com/TOMOSIA-VIETNAM/tomoblo\">https://github.com/TOMOSIA-VIETNAM/tomoblo</a> v·ªÅ t√†i kho·∫£ng github</p>\n<p>Clone repository sau khi <code class=\"language-text\">fork</code>, <code class=\"language-text\">Nguyenanh/tomoblo</code> l√† repository sau khi m√¨nh fork v·ªÅ</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> clone git@github.com:Nguyenanh/tomoblo.git</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Di chuy·ªÉn sang folder <code class=\"language-text\">tomoblo</code></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">cd</span> tomoblo</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>C√†i ƒë·∫∑t c√°c package</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">yarn</span> <span class=\"token function\">install</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Run d·ª± √°n</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ gatsby develop</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>M·ªü tr√¨nh duy·ªát v√† truy c·∫≠p <a href=\"http://localhost:8000/\">http://localhost:8000/</a></p>\n<h3>B∆∞·ªõc 2: Vi·∫øt b√†i v√† ƒëƒÉng b√†i.</h3>\n<h4>I. T·∫°o b√†i post.</h4>\n<p>T·∫°o m·ªôt b√†i vi·∫øt m·ªõi v·ªõi ti√™u ƒë·ªÅ <code class=\"language-text\">H∆∞·ªõng d·∫´n t·∫°o b√†i vi·∫øt m·ªõi</code> b·∫±ng <code class=\"language-text\">cli</code></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">yarn</span> post <span class=\"token string\">\"H∆∞·ªõng d·∫´n t·∫°o b√†i vi·∫øt m·ªõi\"</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Sau khi ch·∫°y xong  ch√∫ng ta s·∫Ω c√≥ m·ªôt file <code class=\"language-text\">posts/huong-dan-tao-bai-viet-moi.md\n-</code> tr√¥ng nh∆∞ th·∫ø n√†y:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token operator\">--</span><span class=\"token operator\">-</span>\ntitle<span class=\"token operator\">:</span> <span class=\"token string\">\"H∆∞·ªõng d·∫´n t·∫°o b√†i vi·∫øt m·ªõi\"</span>\ndate<span class=\"token operator\">:</span> <span class=\"token string\">\"2020-06-24\"</span>\npublished<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\ntags<span class=\"token operator\">:</span>\n  <span class=\"token operator\">-</span> change_me\n<span class=\"token operator\">--</span><span class=\"token operator\">-</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h4>II. Vi·∫øt b√†i.</h4>\n<p>ƒê·ªÉ vi·∫øt b√†i ch√∫ng ta s·∫Ω th√™m n·ªôi dung v√†o ph√≠a d∆∞·ªõi <code class=\"language-text\">---</code>, c√≥ 2 c√°ch ƒë·ªÉ vi·∫øt content.</p>\n<ul>\n<li>S·ª≠ d·ª•ng editor v√† setup th√™m  m·ªôt s·ªë package. v√≠ d·ª• m√¨nh ƒëang s·ª≠ d·ª•ng <code class=\"language-text\">atom</code> v√† c√†i ƒë·∫∑t th√™m  <a href=\"https://atom.io/packages/markdown-preview\">markdown-preview</a> package.</li>\n<li>S·ª≠ d·ª•ng m·ªôt editor online <a href=\"https://stackedit.io/app\">stackedit.io</a>\n<code class=\"language-text\">stackedit.io</code> h·ªó tr·ª£ vi·∫øt markdown cho to√°n h·ªçc  <a href=\"https://katex.org/\">katex</a> v√† <a href=\"https://mermaidjs.github.io/\">UML diagrams</a> n√™n m√¨nh suggest ae n√™n s·ª≠ d·ª•ng <code class=\"language-text\">stackedit.io</code></li>\n</ul>\n<p>Sau khi vi·∫øt b√†i xong truy c·∫≠p v√†o <a href=\"http://localhost:8000/huong-dan-tao-bai-viet-moi\">http://localhost:8000/huong-dan-tao-bai-viet-moi</a> ƒë·ªÉ xem k·∫øt qu·∫£.</p>\n<h4>III. ƒêƒÉng b√†i.</h4>\n<p>Khi ƒë√£ ho√†n th√†nh vi·∫øt b√†i h√£y <code class=\"language-text\">\u001dpush</code> b√†i vi·∫øt l√™n repository.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">git</span> <span class=\"token function\">add</span> --all\n$ <span class=\"token function\">git</span> commit -m <span class=\"token string\">'H∆∞·ªõng d·∫´n t·∫°o b√†i vi·∫øt m·ªõi.'</span>\n$ <span class=\"token function\">git</span> push origin master</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>T·∫°o <code class=\"language-text\">Pull Request</code> v√†o repository <code class=\"language-text\">TOMOSIA-VIETNAM/tomoblo</code>.</p>\n<p>Sau khi pull request ƒë∆∞·ª£c merge v√†o <code class=\"language-text\">TOMOSIA-VIETNAM/tomoblo</code> ch·ªù m·ªôt v√†i ph√∫t th√¨ b√†i vi·∫øt s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã l√™n <a href=\"http://blog.tomosia.com/\">http://blog.tomosia.com/</a>.</p>","id":"539009a4-eb44-5382-8281-4009020e6083","frontmatter":{"title":"H∆∞·ªõng d·∫´n t·∫°o b√†i vi·∫øt m·ªõi","date":"03-07-2020","tags":["ruby"]},"fields":{"slug":"/huong-dan-tao-bai-viet-moi/","readingTime":{"text":"2 min read"}}}},{"node":{"excerpt":"V·∫•n ƒë·ªÅ ƒë·∫∑t ra Th·ª© nh·∫•t: L√†m th·∫ø n√†o ƒë·ªÉ hi·ªÉn th·ªã 100 t·∫•m ·∫£nh/1 trang m·ªôt c√°ch nhanh nh·∫•t? ƒê·∫£m b·∫£o t·ªëi ∆∞u t·ªëc ƒë·ªô load ·∫£nh, n√¢ng cao hi·ªáu qu·∫£ SEO Google v√† tr·∫£i nghi·ªám ng∆∞·ªùi d√πng t·ªët h∆°n. Th·ª© hai: ƒê·ªÉ‚Ä¶","html":"<h2>V·∫•n ƒë·ªÅ ƒë·∫∑t ra</h2>\n<ul>\n<li>Th·ª© nh·∫•t: L√†m th·∫ø n√†o ƒë·ªÉ hi·ªÉn th·ªã 100 t·∫•m ·∫£nh/1 trang m·ªôt c√°ch nhanh nh·∫•t? ƒê·∫£m b·∫£o t·ªëi ∆∞u t·ªëc ƒë·ªô load ·∫£nh, n√¢ng cao hi·ªáu qu·∫£ SEO Google v√† tr·∫£i nghi·ªám ng∆∞·ªùi d√πng t·ªët h∆°n.</li>\n<li>Th·ª© hai: ƒê·ªÉ ng∆∞·ªùi d√πng \u001dupload ·∫£nh l√™n server v·ªõi dung l∆∞·ª£ng tr√™n 500MB. N·∫øu ƒë·ªÉ web server x·ª≠ l√Ω qu√° tr√¨nh nh·∫≠n d·ªØ li·ªáu t·ª´ user upload l√™n, sau ƒë√≥ convert ƒë·ªëi v·ªõi file c√≥ dung l∆∞·ª£ng l·ªõn th√¨ kh√¥ng h·ªÅ ·ªïn ch√∫t n√†o. V·∫≠y ƒë·ªÉ gi·∫£m t·∫£i cho web server th√¨ ta s·∫Ω s·ª≠ d·ª•ng serverless trong t√¨nh hu·ªëng n√†y. <a href=\"https://aws.amazon.com/vi/serverless/\">(V√¨ sao s·ª≠ d·ª•ng serverless?)</a></li>\n</ul>\n<h2>S·ª± tr·ªïi d·∫≠y c·ªßa Webp</h2>\n<p><img src=\"https://miro.medium.com/max/1698/1*fRLZo9RWFkC2rkHXJzrdQA.png\" alt=\"Compare\"></p>\n<p>ƒê·ªãnh d·∫°ng WebP ƒë√£ tr·ªü n√™n ng√†y c√†ng ph·ªï bi·∫øn k·ªÉ t·ª´ khi Google gi·ªõi thi·ªáu n√≥ v√†o nƒÉm 2010. ƒêi·ªÉm m·∫°nh l·ªõn nh·∫•t c·ªßa n√≥ n·∫±m ·ªü kh·∫£ nƒÉng t·∫°o k√≠ch th∆∞·ªõc t·ªáp nh·ªè h∆°n nhi·ªÅu trong khi v·∫´n duy tr√¨ ch·∫•t l∆∞·ª£ng h√¨nh ·∫£nh t∆∞∆°ng t·ª±.</p>\n<p>ƒê·ªãnh d·∫°ng Webp s·∫Ω gi√∫p b·∫°n gi·∫£m 26%  dung l∆∞·ª£ng so v·ªõi PNG. v√†  25 ‚Äì 34% so v·ªõi ƒë·ªãnh d·∫°ng JPEG, m√† v·∫´n v·∫´n gi·ªØ ƒë∆∞·ª£c ch·∫•t l∆∞·ª£ng hi·ªÉn th·ªã. ƒêi·ªÅu n√†y gi√∫p web gi·∫£m th·ªùi gian t·∫£i ·∫£nh, tƒÉng t·ªëc ƒë·ªô tr·∫£i nghi·ªám ng∆∞·ªùi d√πng.</p>\n<figure class=\"paragraph-image\">\n  <img src=\"https://user-images.githubusercontent.com/59222278/85985771-616f8700-ba15-11ea-9f7c-0b2161fa86f9.png\" alt=\"web compress\">\n  <figcaption>Ngu&#x1ED3;n t&#x1EEB;: https://bitsofco.de/why-and-how-to-use-webp-images-today/</figcaption>\n</figure>\n<p>Tuy nhi√™n v·ªõi ƒë·ªãnh d·∫°ng Webp th√¨ kh√¥ng ph·∫£i t·∫•t c·∫£ c√°c tr√¨nh duy·ªát ƒë·ªÅu h·ªó tr·ª£. Hi·ªán t·∫°i, WebP th·ª±c s·ª± ƒë∆∞·ª£c h·ªó tr·ª£ trong c√°c phi√™n b·∫£n m·ªõi nh·∫•t c·ªßa Google Chrome, Firefox, Edge, tr√¨nh duy·ªát Opera, Tr√¨nh duy·ªát Android v√† Samsung internet.</p>\n<figure class=\"paragraph-image\">\n  <img src=\"https://user-images.githubusercontent.com/59222278/85986227-19049900-ba16-11ea-8707-5e09c467ba4f.png\" alt=\"WebP support table\">\n  <figcaption><a href=\"https://bitsofco.de/why-and-how-to-use-webp-images-today\" target=\"_blank\">WebP support table</a></figcaption>\n</figure>\n<h2>Tri·ªÉn khai √Ω t∆∞·ªüng</h2>\n<p>·ªû browser, khi ng∆∞·ªùi d√πng upload ·∫£nh th√¨ web server s·∫Ω c√≥ nhi·ªám v·ª• gi√°n ti·∫øp nh·∫≠n h√¨nh ·∫£nh, x√°c th·ª±c v√† ƒë·∫©y ·∫£nh l√™n S3 ƒë·ªÉ l∆∞u tr·ªØ. Khi S3 nh·∫≠n th·∫•y r·∫±ng c√≥ ·∫£nh m·ªõi ƒë∆∞·ª£c ƒë·∫©y l√™n s·∫Ω g·ªçi (trigger) ƒë·∫øn lambda ƒë·ªÉ ti·∫øn h√†nh convert sang d·∫°ng webp. Sau khi convert ·∫£nh th√¨ s·∫Ω ƒë∆∞·ª£c l∆∞u t·∫°i th∆∞ m·ª•c m·ªõi m√† ta ch·ªâ ƒë·ªãnh (dƒ© nhi√™n ta s·∫Ω kh√¥ng override l·∫°i ·∫£nh g·ªëc m√† user ƒë·∫©y l√™n, m√† l√† t·∫°o ra 1 file ·∫£nh thumb v·ªõi ƒë·ªãnh d·∫°ng webp). Trong qu√° tr√¨nh  Lambda x·ª≠ l√Ω ta c√≥ th·ªÉ d√πng cloudWatch ƒë·ªÉ debug.</p>\n<figure class=\"paragraph-image\">\n  <img src=\"https://user-images.githubusercontent.com/59222278/85989062-30458580-ba1a-11ea-9a22-4dad722102d8.png\" alt=\"diagram s3-lambda\">\n  <figcaption>Diagram S3 Lambda</figcaption>\n</figure>\n<p>V·∫≠y ƒë·ªÉ chuy·ªÉn ƒë·ªïi ·∫£nh sang ƒë·ªãnh d·∫°ng Webp th√¨ ch√∫ng ta c√≥ th·ªÉ d√πng <a href=\"https://imagemagick.org/index.php\">imageMagick</a> ho·∫∑c <a href=\"https://developers.google.com/speed/webp/docs/cwebp\">cwebp</a>.</p>\n<figure class=\"paragraph-image\">\n  <img src=\"https://miro.medium.com/max/500/1*_TeG6-eUitTR_l3SKpJ5Ow.jpeg\" alt=\"LEGENDARY\">\n</figure>\n<h2>Th·ª±c hi·ªán</h2>\n<h3>1. ·ªû m√†n h√¨nh console Cloud AWS</h3>\n<p>Truy c·∫≠p IAM, ch·ªçn roles v√† t·∫°o full quy·ªÅn S3 v√† CloudWatch ƒë·ªÉ Lambda c√≥ th·ªÉ l·∫•y d·ªØ li·ªáu t·ª´ S3 v√† ghi log v√†o cloudWatch. ·ªû ƒë√¢y ta ƒë·∫∑t t√™n l√† <code class=\"language-text\">full-s3-logs</code></p>\n<p><img src=\"https://i.imgur.com/Rew8ydu.png\"></p>\n<p>Chu·∫©n b·ªã 1 c·∫∑p <code class=\"language-text\">access_key_id</code> v√† <code class=\"language-text\">secret_key_id</code>. N·∫øu ch∆∞a c√≥ h√£y click v√†o <em>Username > My security Credentials > Access keys > Ti·∫øn h√†nh t·∫°o key</em> (N√™n download file csv v·ªÅ m√°y, v√¨ key sau khi t·∫°o ra s·∫Ω kh√¥ng th·ªÉ kh√¥i ph·ª•c l·∫°i n·∫øu m·∫•t). H√£y nh·ªõ b·∫£o m·∫≠t key n√†y, kh√¥ng ƒë∆∞·ª£c public.</p>\n<p>Truy c·∫≠p v√†o trang  <a href=\"https://serverlessrepo.aws.amazon.com/applications\">https://serverlessrepo.aws.amazon.com/applications</a> t√¨m libraries  <a href=\"https://serverlessrepo.aws.amazon.com/applications/arn:aws:serverlessrepo:us-east-1:145266761615:applications~image-magick-lambda-layer\">image-magick-lambda-layer</a>. V√† click n√∫t deploy ƒë·ªÉ c√†i ƒë·∫∑t th∆∞ vi·ªán <em>imagemagick</em> cho serverless.</p>\n<p><img src=\"https://i.imgur.com/9d8kx1C.png\"></p>\n<h3>2. ·ªû m√¥i tr∆∞·ªùng Local</h3>\n<p>C√†i ƒë·∫∑t  <a href=\"https://www.serverless.com/\">serverless framework</a>  b·∫±ng npm:  <code class=\"language-text\">npm i serverless</code></p>\n<p>Ch·∫°y l·ªánh:  <code class=\"language-text\">serverless create -t aws-ruby -p image-resizer&lt;:T√™n Project&gt;</code>  ƒë·ªÉ t·∫°o project serverless vi·∫øt b·∫±ng ng√¥n ng·ªØ ruby</p>\n<p>Ch·∫°y l·ªánh:  <code class=\"language-text\">bundle init</code>  ƒë·ªÉ t·∫°o ra Gemfile. ·ªû ƒë√¢y ta d√πng 2 gem <code class=\"language-text\">aws-sdk</code> v√† <code class=\"language-text\">minimagick</code></p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-yaml line-numbers\"><code class=\"language-yaml\"><span class=\"token comment\"># Gemfile</span>\nsource 'https<span class=\"token punctuation\">:</span>//rubygems.org'\n\ngit_source(<span class=\"token punctuation\">:</span>github) <span class=\"token punctuation\">{</span><span class=\"token punctuation\">|</span>repo_name<span class=\"token punctuation\">|</span> \"https<span class=\"token punctuation\">:</span>//github.com/<span class=\"token comment\">#{repo_name}\" }</span>\n\ngem 'aws<span class=\"token punctuation\">-</span>sdk<span class=\"token punctuation\">-</span>s3'<span class=\"token punctuation\">,</span> <span class=\"token string\">'~> 1.30.0'</span>\ngem 'mini_magick'<span class=\"token punctuation\">,</span> <span class=\"token string\">'~> 4.9.0'</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>H√£y check version ruby tr∆∞·ªõc khi th·ª±c hi·ªán l·ªánh bundle. H√£y x√°c ƒë·ªãnh r·∫±ng serverless s·ª≠ d·ª•ng \u001dversion ruby n√†o th√¨ d∆∞·ªõi local l√∫c bundle ph·∫£i s·ª≠ d·ª•ng version ruby gi·ªëng nh∆∞ th·∫ø. ·ªû ƒë√¢y d√πng rvm n√™n ta c√≥ l·ªánh  <code class=\"language-text\">rvm use 2.7.0</code>  ƒë·ªÉ thi·∫øt l·∫≠p phi√™n b·∫£n ruby.</p>\n<p>Ch·∫°y l·ªánh:  <code class=\"language-text\">bundle install --path vendor/bundle</code> ƒë·ªÉ bundle v√†o th∆∞ m·ª•c d·ª± √°n</p>\n<p>C√≥ nhi·ªÅu c√°ch ƒë·ªÉ c√†i ƒë·∫∑t credential d∆∞·ªõi local  <a href=\"https://www.serverless.com/framework/docs/providers/aws/guide/credentials/\" title=\"H∆∞·ªõng d·∫´n c√†i ƒë·∫∑t credential\">(Tham kh·∫£o th√™m)</a>. ·ªû ƒë√¢y ta d√πng c√°ch ƒë∆°n gi·∫£n nh·∫•t l√† export bi·∫øn tr·ª±c ti·∫øp t·∫°i 1 session tab terminal (n·∫øu t·∫Øt tab ƒëi th√¨ h·∫øt hi·ªáu l·ª±c). G√µ l·ªánh  <code class=\"language-text\">export AWS_SECRET_ACCESS_KEY=secret_keys</code>  v√†  <code class=\"language-text\">export AWS_ACCESS_KEY_ID=access_key</code>.</p>\n<p>Sau c√°c b∆∞·ªõc chu·∫©n b·ªã ·ªü tr√™n th√¨ trong project s·∫Ω g·ªìm c√°c file: <em>Gemfile, serverless.yml, handler.rb v√† th∆∞ m·ª•c vendor/bundle/ruby/2.7.0</em></p>\n<h3>Code</h3>\n<p><em>handler.rb:</em>  File n√†y s·∫Ω l√† endpoint ƒë·ªÉ lambda g·ªçi t·ªõi. N√≥ s·∫Ω c√≥ 2 params truy·ªÅn v√†o l√† event v√† context</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ruby line-numbers\"><code class=\"language-ruby\">load_path <span class=\"token operator\">=</span> <span class=\"token builtin\">Dir</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"/opt/bundle/ruby/2.7.0/gems/**/lib\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token variable\">$LOAD_PATH</span><span class=\"token punctuation\">.</span>unshift<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>load_path<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">require</span> <span class=\"token string\">'converter'</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ImageHandler</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">process</span></span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span> context<span class=\"token punctuation\">:</span><span class=\"token punctuation\">)</span>\n    event <span class=\"token operator\">=</span> event<span class=\"token punctuation\">[</span><span class=\"token string\">\"Records\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>first\n    bucket <span class=\"token operator\">=</span> event<span class=\"token punctuation\">[</span><span class=\"token string\">\"s3\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"bucket\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">]</span>\n    filename <span class=\"token operator\">=</span> event<span class=\"token punctuation\">[</span><span class=\"token string\">\"s3\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"object\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"key\"</span><span class=\"token punctuation\">]</span>\n\n    file <span class=\"token operator\">=</span> <span class=\"token constant\">Converter</span><span class=\"token punctuation\">.</span>from_s3<span class=\"token punctuation\">(</span>bucket<span class=\"token punctuation\">,</span> filename<span class=\"token punctuation\">)</span>\n    file<span class=\"token punctuation\">.</span>convert2webp\n    file<span class=\"token punctuation\">.</span>upload_file<span class=\"token punctuation\">(</span><span class=\"token constant\">ENV</span><span class=\"token punctuation\">[</span><span class=\"token string\">'BUCKET_DEST'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>T·∫°o 1 file <em>converter.rb:</em> File n√†y d√πng ƒë·ªÉ \u001dl·∫•y image t·ª´ s3, ti·∫øn h√†nh convert v√† upload ng∆∞·ª£c l·∫°i l√™n s3.</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ruby line-numbers\"><code class=\"language-ruby\"><span class=\"token keyword\">require</span> <span class=\"token string\">\"aws-sdk-s3\"</span>\n<span class=\"token keyword\">require</span> <span class=\"token string\">\"mini_magick\"</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Converter</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">from_s3</span></span><span class=\"token punctuation\">(</span>bucket_name<span class=\"token punctuation\">,</span> filename<span class=\"token punctuation\">)</span>\n    puts <span class=\"token string\">'==###== Downloading image from S3'</span>\n    s3 <span class=\"token operator\">=</span> <span class=\"token constant\">Aws</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">S3</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">Resource</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    object <span class=\"token operator\">=</span> s3<span class=\"token punctuation\">.</span>bucket<span class=\"token punctuation\">(</span>bucket_name<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>object<span class=\"token punctuation\">(</span>filename<span class=\"token punctuation\">)</span>\n\n    tmp_filename <span class=\"token operator\">=</span> <span class=\"token string\">\"/tmp/<span class=\"token interpolation\"><span class=\"token delimiter tag\">#{</span>filename<span class=\"token delimiter tag\">}</span></span>\"</span>\n    object<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>response_target<span class=\"token punctuation\">:</span> tmp_filename<span class=\"token punctuation\">)</span>\n\n    puts  <span class=\"token string\">\"==###== Successfully downloaded\"</span>\n\n    <span class=\"token constant\">Converter</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">new</span><span class=\"token punctuation\">(</span>filename<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">rescue</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> e\n    puts <span class=\"token string\">\"==!!!== Error while downloading: <span class=\"token interpolation\"><span class=\"token delimiter tag\">#{</span>e<span class=\"token delimiter tag\">}</span></span>\"</span>\n  <span class=\"token keyword\">end</span>\n\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">initialize</span></span><span class=\"token punctuation\">(</span>filename<span class=\"token punctuation\">)</span>\n    extname <span class=\"token operator\">=</span> <span class=\"token builtin\">File</span><span class=\"token punctuation\">.</span>extname<span class=\"token punctuation\">(</span>filename<span class=\"token punctuation\">)</span>\n    <span class=\"token variable\">@filename</span> <span class=\"token operator\">=</span> filename\n    <span class=\"token variable\">@basename</span> <span class=\"token operator\">=</span> filename<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span>extname<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>first\n    <span class=\"token variable\">@tmp_file</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"/tmp/<span class=\"token interpolation\"><span class=\"token delimiter tag\">#{</span>filename<span class=\"token delimiter tag\">}</span></span>\"</span>\n  <span class=\"token keyword\">end</span>\n\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">convert2webp</span></span>\n    <span class=\"token variable\">@converted_filename</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"<span class=\"token interpolation\"><span class=\"token delimiter tag\">#{</span><span class=\"token variable\">@basename</span><span class=\"token delimiter tag\">}</span></span>.webp\"</span>\n    <span class=\"token variable\">@converted_tmp_file</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"/tmp/<span class=\"token interpolation\"><span class=\"token delimiter tag\">#{</span><span class=\"token variable\">@converted_filename</span><span class=\"token delimiter tag\">}</span></span>\"</span>\n\n    puts <span class=\"token string\">\"==###== Converting the image <span class=\"token interpolation\"><span class=\"token delimiter tag\">#{</span><span class=\"token variable\">@tmp_file</span><span class=\"token delimiter tag\">}</span></span> to <span class=\"token interpolation\"><span class=\"token delimiter tag\">#{</span><span class=\"token variable\">@converted_tmp_file</span><span class=\"token delimiter tag\">}</span></span>\"</span>\n\n    <span class=\"token constant\">MiniMagick</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">Tool</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">Convert</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">new</span> <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>convert<span class=\"token operator\">|</span>\n      convert <span class=\"token operator\">&lt;</span><span class=\"token operator\">&lt;</span> <span class=\"token variable\">@tmp_file</span>\n      convert <span class=\"token operator\">&lt;</span><span class=\"token operator\">&lt;</span> <span class=\"token variable\">@converted_tmp_file</span>\n    <span class=\"token keyword\">end</span>\n    puts  <span class=\"token string\">\"==###== Successfully converted\"</span>\n  <span class=\"token keyword\">rescue</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> e\n    puts <span class=\"token string\">\"==!!!== Error while converting: <span class=\"token interpolation\"><span class=\"token delimiter tag\">#{</span>e<span class=\"token delimiter tag\">}</span></span>\"</span>\n  <span class=\"token keyword\">end</span>\n\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">upload_file</span></span><span class=\"token punctuation\">(</span>dest_bucket<span class=\"token punctuation\">)</span>\n    puts <span class=\"token string\">'==###== Uploading image to S3'</span>\n\n    s3 <span class=\"token operator\">=</span> <span class=\"token constant\">Aws</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">S3</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">Resource</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    object <span class=\"token operator\">=</span> s3<span class=\"token punctuation\">.</span>bucket<span class=\"token punctuation\">(</span>dest_bucket<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>object<span class=\"token punctuation\">(</span><span class=\"token variable\">@converted_filename</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>upload_file<span class=\"token punctuation\">(</span><span class=\"token variable\">@converted_tmp_file</span><span class=\"token punctuation\">)</span>\n    puts  <span class=\"token string\">\"==###== Successfully uploaded\"</span>\n  <span class=\"token keyword\">rescue</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> e\n    puts <span class=\"token string\">\"==!!!== Error while uploading: <span class=\"token interpolation\"><span class=\"token delimiter tag\">#{</span>e<span class=\"token delimiter tag\">}</span></span>\"</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><em>serverless.yml:</em> File config cho framework</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-yaml line-numbers\"><code class=\"language-yaml\"><span class=\"token key atrule\">service</span><span class=\"token punctuation\">:</span> convert<span class=\"token punctuation\">-</span>image<span class=\"token punctuation\">-</span>to<span class=\"token punctuation\">-</span>webp\n\n<span class=\"token key atrule\">custom</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">bucket</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">source</span><span class=\"token punctuation\">:</span> your<span class=\"token punctuation\">-</span>images\n    <span class=\"token key atrule\">dest</span><span class=\"token punctuation\">:</span> convert<span class=\"token punctuation\">-</span>image<span class=\"token punctuation\">-</span>to<span class=\"token punctuation\">-</span>webp<span class=\"token punctuation\">-</span><span class=\"token number\">2705</span>\n<span class=\"token key atrule\">provider</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> aws\n  <span class=\"token key atrule\">runtime</span><span class=\"token punctuation\">:</span> ruby2.7\n  <span class=\"token key atrule\">region</span><span class=\"token punctuation\">:</span> us<span class=\"token punctuation\">-</span>east<span class=\"token punctuation\">-</span><span class=\"token number\">1</span>\n  <span class=\"token key atrule\">role</span><span class=\"token punctuation\">:</span> arn<span class=\"token punctuation\">:</span>aws<span class=\"token punctuation\">:</span>iam<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span>440937316816<span class=\"token punctuation\">:</span>role/full<span class=\"token punctuation\">-</span>s3<span class=\"token punctuation\">-</span>logs\n\n<span class=\"token key atrule\">functions</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">handle_convert</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">handler</span><span class=\"token punctuation\">:</span> handler.ImageHandler.process\n    <span class=\"token key atrule\">layers</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">{</span><span class=\"token key atrule\">Ref</span><span class=\"token punctuation\">:</span> GemsLambdaLayer<span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">-</span> arn<span class=\"token punctuation\">:</span>aws<span class=\"token punctuation\">:</span>lambda<span class=\"token punctuation\">:</span>us<span class=\"token punctuation\">-</span>east<span class=\"token punctuation\">-</span>1<span class=\"token punctuation\">:</span>440937316816<span class=\"token punctuation\">:</span>layer<span class=\"token punctuation\">:</span>image<span class=\"token punctuation\">-</span>magick<span class=\"token punctuation\">:</span><span class=\"token number\">1</span>\n    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">BUCKET_DEST</span><span class=\"token punctuation\">:</span> convert<span class=\"token punctuation\">-</span>image<span class=\"token punctuation\">-</span>to<span class=\"token punctuation\">-</span>webp<span class=\"token punctuation\">-</span><span class=\"token number\">2705</span>\n    <span class=\"token key atrule\">memorySize</span><span class=\"token punctuation\">:</span> <span class=\"token number\">512</span> <span class=\"token comment\"># in MB</span>\n    <span class=\"token key atrule\">timeout</span><span class=\"token punctuation\">:</span> <span class=\"token number\">900</span> <span class=\"token comment\"># in seconds</span>\n    <span class=\"token key atrule\">events</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">s3</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">bucket</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>self<span class=\"token punctuation\">:</span>custom.bucket.source<span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">event</span><span class=\"token punctuation\">:</span> s3<span class=\"token punctuation\">:</span>ObjectCreated<span class=\"token punctuation\">:</span>*\n<span class=\"token key atrule\">package</span><span class=\"token punctuation\">:</span>\n <span class=\"token key atrule\">exclude</span><span class=\"token punctuation\">:</span>\n   <span class=\"token punctuation\">-</span> vendor/<span class=\"token important\">**</span>\n   <span class=\"token punctuation\">-</span> Gemfile\n   <span class=\"token punctuation\">-</span> Gemfile.lock\n\n<span class=\"token key atrule\">layers</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">gems</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> vendor\n    <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> Project's vendor\n\n<span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">Resources</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">ConvertImage</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">Type</span><span class=\"token punctuation\">:</span> AWS<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span>S3<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span>Bucket\n      <span class=\"token key atrule\">Properties</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">BucketName</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>self<span class=\"token punctuation\">:</span>custom.bucket.dest<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Cu·ªëi c√πng th√¨ ch·∫°y l·ªánh  <code class=\"language-text\">serverless deploy</code>. Framework s·∫Ω ti·∫øn h√†nh t·∫°o cloudformation tr√™n AWS v√† Cloudformation s·∫Ω t·ª± ƒë·ªông build serverless lambda theo nh·ªØng g√¨ ta ƒë√£ c·∫•u h√¨nh trong file serverless.yml</p>\n<h2>Gi·∫£i th√≠ch</h2>\n<p>Trong n√†y ch·ªâ c√≥ file serverless.yml l√† c·∫ßn ƒë·ªÉ gi·∫£i th√≠ch t·ª´ng ƒëo·∫°n code, c√≤n file ruby th√¨ ch√∫ng ta ƒë·ªçc c·ªßng c√≥ th·ªÉ n·∫Øm ƒë∆∞·ª£c n·ªôi dung r·ªìi.</p>\n<p><strong>ƒêo·∫°n 1</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-yaml line-numbers\"><code class=\"language-yaml\"><span class=\"token key atrule\">custom</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">bucket</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">source</span><span class=\"token punctuation\">:</span> your<span class=\"token punctuation\">-</span>images\n    <span class=\"token key atrule\">dest</span><span class=\"token punctuation\">:</span> convert<span class=\"token punctuation\">-</span>image<span class=\"token punctuation\">-</span>to<span class=\"token punctuation\">-</span>webp<span class=\"token punctuation\">-</span><span class=\"token number\">2705</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>D√πng ƒë·ªÉ t·∫°o bi·∫øn tham chi·∫øu cho b√™n d∆∞·ªõi s·ª≠ d·ª•ng. ·ªû ƒë√¢y ta c√≥ 2 tham chi·∫øu l√† source v√† dest. C√°ch g·ªçi th√¨ syntax: <code class=\"language-text\">${self.custom.bucket.source}</code> v√†  <code class=\"language-text\">${self:custom.bucket.dest}</code></p>\n<p><strong>ƒêo·∫°n 2</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-yaml line-numbers\"><code class=\"language-yaml\"><span class=\"token key atrule\">provider</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> aws\n  <span class=\"token key atrule\">runtime</span><span class=\"token punctuation\">:</span> ruby2.7\n  <span class=\"token key atrule\">region</span><span class=\"token punctuation\">:</span> us<span class=\"token punctuation\">-</span>east<span class=\"token punctuation\">-</span><span class=\"token number\">1</span>\n  <span class=\"token key atrule\">role</span><span class=\"token punctuation\">:</span> arn<span class=\"token punctuation\">:</span>aws<span class=\"token punctuation\">:</span>iam<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span>440937316816<span class=\"token punctuation\">:</span>role/full<span class=\"token punctuation\">-</span>s3<span class=\"token punctuation\">-</span>logs</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>name:</strong>  S·ª≠ d·ª•ng d·ªãch v·ª• AWS</p>\n<p><strong>runtime:</strong>  Ch·∫°y phi√™n b·∫£n ruby2.7</p>\n<p><strong>region:</strong>  Region ch·∫°y lambda</p>\n<p><strong>role:</strong>  Do tr∆∞·ªõc ƒë√≥ ta ƒë√£ t·∫°o role r·ªìi, n√™n ·ªü ƒë√¢y ta ch·ªâ c·∫ßn link ƒë·∫øn l√† ƒë∆∞·ª£c. C√≤n kh√¥ng th√¨ ta v·∫´n c√≥ th·ªÉ t·∫°o ·ªü trong n√†y. C√≥ th·ªÉ tham kh·∫£o th√™m t·∫°i trang ch·ªß serverless.</p>\n<p><strong>ƒêo·∫°n 3</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-yaml line-numbers\"><code class=\"language-yaml\"><span class=\"token key atrule\">functions</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">handle_convert</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">handler</span><span class=\"token punctuation\">:</span> handler.ImageHandler.process\n    <span class=\"token key atrule\">layers</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token punctuation\">{</span><span class=\"token key atrule\">Ref</span><span class=\"token punctuation\">:</span> GemsLambdaLayer<span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">-</span> arn<span class=\"token punctuation\">:</span>aws<span class=\"token punctuation\">:</span>lambda<span class=\"token punctuation\">:</span>us<span class=\"token punctuation\">-</span>east<span class=\"token punctuation\">-</span>1<span class=\"token punctuation\">:</span>440937316816<span class=\"token punctuation\">:</span>layer<span class=\"token punctuation\">:</span>image<span class=\"token punctuation\">-</span>magick<span class=\"token punctuation\">:</span><span class=\"token number\">1</span>\n    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">BUCKET_DEST</span><span class=\"token punctuation\">:</span> convert<span class=\"token punctuation\">-</span>image<span class=\"token punctuation\">-</span>to<span class=\"token punctuation\">-</span>webp<span class=\"token punctuation\">-</span><span class=\"token number\">2705</span>\n    <span class=\"token key atrule\">memorySize</span><span class=\"token punctuation\">:</span> <span class=\"token number\">512</span> <span class=\"token comment\"># in MB</span>\n    <span class=\"token key atrule\">timeout</span><span class=\"token punctuation\">:</span> <span class=\"token number\">900</span> <span class=\"token comment\"># in seconds</span>\n    <span class=\"token key atrule\">events</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">s3</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">bucket</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>self<span class=\"token punctuation\">:</span>custom.bucket.source<span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">event</span><span class=\"token punctuation\">:</span> s3<span class=\"token punctuation\">:</span>ObjectCreated<span class=\"token punctuation\">:</span>*</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>functions:</strong>  ·ªû ƒë√¢y ta ch·ªâ ƒë·ªãnh nghƒ©a 1 function l√† <code class=\"language-text\">handle_convert</code>. Ngo√†i ra c·ªßng c√≥ th·ªÉ define nhi·ªÅu function h∆°n</p>\n<p><strong>handler:</strong>  S·∫Ω define endpoint ƒë·ªÉ lambda trigger  <code class=\"language-text\">handler(t√™n file).ImageHandler(t√™n class).process(t√™n method)</code></p>\n<p><strong>layers:</strong>  Ch√∫ng ta s·ª≠ d·ª•ng 2 l·ªõp layer ƒë·ªÉ ph·ª•c v·ª• cho vi·ªác convert, l·ªõp layer ƒë·∫ßu ti√™n c√≥ t√™n l√† GemsLambdaLayer (layer n√†y s·∫Ω ƒë·ªÅ c·∫≠p ·ªü ƒëo·∫°n 5). Layer n√†y ch∆∞a th∆∞ m·ª•c bundle. Function n√†y mu·ªën tham chi·∫øu ƒë·∫øn layer th√¨ s·ª≠ d·ª•ng syntax <code class=\"language-text\">{Ref: TenLayer&lt;Vi·∫øt theo ki·ªÉu CamelCase&gt;}</code></p>\n<p>Layer th·ª© 2 l√† 1 ƒë∆∞·ªùng link arn:aws. Do b∆∞·ªõc tr√™n ta c√≥ s·ª≠ d·ª•ng 1 layer c√≥ s·∫µn c·ªßa AWS l√† image-magick-lambda n√™n ta s·∫Ω pasted ƒë∆∞·ªùng link layer ƒë√≥ v√†o ƒë√¢y.</p>\n<p><strong>environment:</strong>  Khai b√°o t√™n bi·∫øn m√¥i tr∆∞·ªùng</p>\n<p><strong>memorySize:</strong>  Khai b√°o l∆∞·ª£ng Ram ƒë·ªÉ lambda x·ª≠ l√Ω</p>\n<p><strong>timeout:</strong>  Th·ªùi gian gi·ªõi h·∫°n x·ª≠ l√Ω. N·∫øu ta ƒë·ªÉ Ram qu√° √≠t ho·∫∑c timeout qu√° √≠t th√¨ lambda s·∫Ω kh√¥ng th·ª±c hi·ªán ƒë∆∞·ª£c. Nh∆∞ng ƒë·ªÉ nhi·ªÅu qu√° th√¨ l·∫°i t·ªën ph√≠ (b·ªüi v√¨ lambda s·∫Ω d·ª±a v√†o 2 ti√™u ch√≠ n√†y ƒë·ªÉ t√≠nh ti·ªÅn), cho n√™n h√£y c√¢n nh·∫Øc sao cho ph√π h·ª£p.</p>\n<p><strong>events:</strong>  ·ªû ƒë√¢y ta mu·ªën h∆∞·ªõng ƒë·∫øn l√† S3 v·ªõi bucket l√†  your-images. S·ª± ki·ªán khi c√≥ 1 object ƒë∆∞·ª£c t·∫°o th√¨ s·∫Ω trigger ƒë·∫øn lambda.</p>\n<p><strong>ƒêo·∫°n 4</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-yaml line-numbers\"><code class=\"language-yaml\"><span class=\"token key atrule\">package</span><span class=\"token punctuation\">:</span>\n <span class=\"token key atrule\">exclude</span><span class=\"token punctuation\">:</span>\n   <span class=\"token punctuation\">-</span> vendor/<span class=\"token important\">**</span>\n   <span class=\"token punctuation\">-</span> Gemfile\n   <span class=\"token punctuation\">-</span> Gemfile.lock</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>M·ª•c ƒë√≠ch l√† ta kh√¥ng mu·ªën ƒë·∫©y c√°c file b√™n d∆∞·ªõi l√™n serverless.</p>\n<p><strong>ƒêo·∫°n 5</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-yaml line-numbers\"><code class=\"language-yaml\"><span class=\"token key atrule\">layers</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">gems</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> vendor\n    <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> Project's vendor</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>·ªû d∆∞·ªõi local khi ta bundle th√¨ s·∫Ω t·∫°o ra th∆∞ m·ª•c vendor. V·∫≠y ta s·∫Ω d√πng vendor n√†y ƒë·ªÉ l√†m 1 l·ªõp Layer. ·ªû ƒë√¢y m√¨nh ƒë·∫∑t t√™n layer l√†  <code class=\"language-text\">gems</code>  Cho n√™n khi reference th√¨ ta ph·∫£i vi·∫øt cho ƒë√∫ng syntax m√† framework y√™u c·∫ßu, t·ª©c l√† vi·∫øt d·∫°ng camelCase v·ªõi suffix l√†  <code class=\"language-text\">LambdaLayer</code>. Cho n√™n d·ªü ƒëo·∫°n 3 ta m·ªõi ghi l√† <code class=\"language-text\">{Ref: GemsLambdaLayer}</code></p>\n<p><strong>ƒêo·∫°n 6</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-yaml line-numbers\"><code class=\"language-yaml\"><span class=\"token key atrule\">resources</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">Resources</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">ConvertImage</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">Type</span><span class=\"token punctuation\">:</span> AWS<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span>S3<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span>Bucket\n      <span class=\"token key atrule\">Properties</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">BucketName</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span>self<span class=\"token punctuation\">:</span>custom.bucket.dest<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>D√πng ƒë·ªÉ t·∫°o 1 bucket ƒë√≠ch. ƒê·ªÉ sau khi x·ª≠ l√Ω convert xong th√¨ ta upload v√†o bucket n√†y</p>\n<h2>L·ªùi k·∫øt</h2>\n<p>Trong b√†i n√†y m√¨nh ƒë√£ h∆∞·ªõng d·∫´n v√† gi·∫£i th√≠ch chi ti·∫øt, hi v·ªçng khi th·ª±c hi·ªán s·∫Ω kh√¥ng ph√°t sinh l·ªói. N·∫øu c√≥ th√¨ ch√∫ng ta c√≥ th·ªÉ xem log trong Cloudwatch ƒë·ªÉ fix d·∫ßn th√¥i. Ch√∫c c√°c b·∫°n th√†nh c√¥ng.</p>","id":"e3f28457-1ead-5db4-bd20-a19daa784814","frontmatter":{"title":"S·ª≠ d·ª•ng Serverless ƒë·ªÉ chuy·ªÉn ƒë·ªïi ·∫£nh sang ƒë·ªãnh d·∫°ng WEBP b·∫±ng Ruby","date":"29-06-2020","tags":["ruby"]},"fields":{"slug":"/su-dung-serverless-de-chuyen-doi-anh-sang-dinh-dang-webp-bang-ruby/","readingTime":{"text":"9 min read"}}}}]}},"pageContext":{}},"staticQueryHashes":["3963689063","63159454","81262063"]}