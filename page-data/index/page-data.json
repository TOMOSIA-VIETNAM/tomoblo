{"componentChunkName":"component---src-pages-index-js","path":"/","result":{"data":{"site":{"siteMetadata":{"title":"TOMOSIA VIETNAM","author":"「共に」「幸せ」「灯す」","labels":[{"tag":"javascript","tech":"JavaScript","name":"M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z","size":20,"color":"yellow"},{"tag":"react","tech":"React","name":"M12 9.861A2.139 2.139 0 1 0 12 14.139 2.139 2.139 0 1 0 12 9.861zM6.008 16.255l-.472-.12C2.018 15.246 0 13.737 0 11.996s2.018-3.25 5.536-4.139l.472-.119.133.468a23.53 23.53 0 0 0 1.363 3.578l.101.213-.101.213a23.307 23.307 0 0 0-1.363 3.578l-.133.467zM5.317 8.95c-2.674.751-4.315 1.9-4.315 3.046 0 1.145 1.641 2.294 4.315 3.046a24.95 24.95 0 0 1 1.182-3.046A24.752 24.752 0 0 1 5.317 8.95zM17.992 16.255l-.133-.469a23.357 23.357 0 0 0-1.364-3.577l-.101-.213.101-.213a23.42 23.42 0 0 0 1.364-3.578l.133-.468.473.119c3.517.889 5.535 2.398 5.535 4.14s-2.018 3.25-5.535 4.139l-.473.12zm-.491-4.259c.48 1.039.877 2.06 1.182 3.046 2.675-.752 4.315-1.901 4.315-3.046 0-1.146-1.641-2.294-4.315-3.046a24.788 24.788 0 0 1-1.182 3.046zM5.31 8.945l-.133-.467C4.188 4.992 4.488 2.494 6 1.622c1.483-.856 3.864.155 6.359 2.716l.34.349-.34.349a23.552 23.552 0 0 0-2.422 2.967l-.135.193-.235.02a23.657 23.657 0 0 0-3.785.61l-.472.119zm1.896-6.63c-.268 0-.505.058-.705.173-.994.573-1.17 2.565-.485 5.253a25.122 25.122 0 0 1 3.233-.501 24.847 24.847 0 0 1 2.052-2.544c-1.56-1.519-3.037-2.381-4.095-2.381zM16.795 22.677c-.001 0-.001 0 0 0-1.425 0-3.255-1.073-5.154-3.023l-.34-.349.34-.349a23.53 23.53 0 0 0 2.421-2.968l.135-.193.234-.02a23.63 23.63 0 0 0 3.787-.609l.472-.119.134.468c.987 3.484.688 5.983-.824 6.854a2.38 2.38 0 0 1-1.205.308zm-4.096-3.381c1.56 1.519 3.037 2.381 4.095 2.381h.001c.267 0 .505-.058.704-.173.994-.573 1.171-2.566.485-5.254a25.02 25.02 0 0 1-3.234.501 24.674 24.674 0 0 1-2.051 2.545zM18.69 8.945l-.472-.119a23.479 23.479 0 0 0-3.787-.61l-.234-.02-.135-.193a23.414 23.414 0 0 0-2.421-2.967l-.34-.349.34-.349C14.135 1.778 16.515.767 18 1.622c1.512.872 1.812 3.37.824 6.855l-.134.468zM14.75 7.24c1.142.104 2.227.273 3.234.501.686-2.688.509-4.68-.485-5.253-.988-.571-2.845.304-4.8 2.208A24.849 24.849 0 0 1 14.75 7.24zM7.206 22.677A2.38 2.38 0 0 1 6 22.369c-1.512-.871-1.812-3.369-.823-6.854l.132-.468.472.119c1.155.291 2.429.496 3.785.609l.235.02.134.193a23.596 23.596 0 0 0 2.422 2.968l.34.349-.34.349c-1.898 1.95-3.728 3.023-5.151 3.023zm-1.19-6.427c-.686 2.688-.509 4.681.485 5.254.987.563 2.843-.305 4.8-2.208a24.998 24.998 0 0 1-2.052-2.545 24.976 24.976 0 0 1-3.233-.501zM12 16.878c-.823 0-1.669-.036-2.516-.106l-.235-.02-.135-.193a30.388 30.388 0 0 1-1.35-2.122 30.354 30.354 0 0 1-1.166-2.228l-.1-.213.1-.213a30.3 30.3 0 0 1 1.166-2.228c.414-.716.869-1.43 1.35-2.122l.135-.193.235-.02a29.785 29.785 0 0 1 5.033 0l.234.02.134.193a30.006 30.006 0 0 1 2.517 4.35l.101.213-.101.213a29.6 29.6 0 0 1-2.517 4.35l-.134.193-.234.02c-.847.07-1.694.106-2.517.106zm-2.197-1.084c1.48.111 2.914.111 4.395 0a29.006 29.006 0 0 0 2.196-3.798 28.585 28.585 0 0 0-2.197-3.798 29.031 29.031 0 0 0-4.394 0 28.477 28.477 0 0 0-2.197 3.798 29.114 29.114 0 0 0 2.197 3.798z","size":20,"color":"deepskyblue"},{"tag":"nodejs","tech":"Node.js","name":"M11.177 25.3a1.94 1.94 0 0 1-.969-.259l-3.086-1.826c-.46-.257-.235-.349-.083-.402.614-.213.739-.262 1.394-.635.069-.038.159-.024.231.018l2.37 1.407a.304.304 0 0 0 .287 0l9.241-5.333a.292.292 0 0 0 .141-.25V7.355a.3.3 0 0 0-.143-.255l-9.237-5.329a.29.29 0 0 0-.285 0L1.803 7.102a.296.296 0 0 0-.146.253v10.666c0 .102.056.198.145.247l2.532 1.462c1.374.687 2.215-.122 2.215-.935V8.265c0-.149.12-.266.269-.266H7.99c.146 0 .267.117.267.266v10.53c0 1.833-.998 2.885-2.736 2.885-.534 0-.955 0-2.129-.579L.969 19.706A1.953 1.953 0 0 1 0 18.02V7.355c0-.693.371-1.339.969-1.684l9.242-5.34a2.023 2.023 0 0 1 1.942 0l9.241 5.34c.599.346.971.992.971 1.684V18.02c0 .693-.372 1.337-.971 1.686l-9.241 5.335a1.942 1.942 0 0 1-.973.259zm2.855-7.348c-4.045 0-4.892-1.857-4.892-3.414 0-.148.118-.266.266-.266h1.195c.133 0 .245.096.265.226.18 1.216.717 1.831 3.164 1.831 1.946 0 2.775-.441 2.775-1.473 0-.596-.234-1.037-3.26-1.334-2.528-.25-4.093-.809-4.093-2.831 0-1.865 1.572-2.977 4.207-2.977 2.961 0 4.425 1.027 4.611 3.233a.27.27 0 0 1-.267.291h-1.2a.266.266 0 0 1-.259-.209c-.288-1.28-.988-1.689-2.886-1.689-2.126 0-2.373.74-2.373 1.295 0 .673.292.869 3.161 1.248 2.84.375 4.19.907 4.19 2.902 0 2.014-1.678 3.167-4.606 3.167z","size":20,"color":"lightgreen"},{"tag":"ruby","tech":"Ruby","name":"M20.156.083c3.033.525 3.893 2.598 3.829 4.77L24 4.822 22.635 22.71 4.89 23.926h.016C3.433 23.864.15 23.729 0 19.139l1.645-3 2.819 6.586.503 1.172 2.805-9.144-.03.007.016-.03 9.255 2.956-1.396-5.431-.99-3.9 8.82-.569-.615-.51L16.5 2.114 20.159.073l-.003.01zM0 19.089v.026-.029.003zM5.13 5.073c3.561-3.533 8.157-5.621 9.922-3.84 1.762 1.777-.105 6.105-3.673 9.636-3.563 3.532-8.103 5.734-9.864 3.957-1.766-1.777.045-6.217 3.612-9.75l.003-.003z","size":20,"color":"crimson"},{"tag":"rails","tech":"Ruby on Rails","name":"M20.8848485 15.8107143v1.1635714h1.9818182c.4060606 0 1.1030303-.315 1.1272727-1.19571427v-.45c0-.75214286-.5818182-1.1957143-1.1272727-1.1957143h-.9878788v-.54h1.9575757v-1.17h-1.8787878c-.4848485 0-1.1333334.42428573-1.1333334 1.215v.405c0 .7907143.6424243 1.1957143 1.1333334 1.1957143 1.3636363.00642857-.3272728 0 .9333333 0v.56571428l-2.0060606.0064286zm-10.6181818-.28285716s1.060606-.09642857 1.060606-1.5492857c0-1.45285715-1.2848485-1.58785715-1.2848485-1.58785715H7.72727273v4.5835714H8.8909091v-1.1057143l1.0060606 1.1057142h1.7212121l-1.3515151-1.4464286zm-.44848488-.93857143H8.8909091v-1.0478571h.93333332s.26060608.1028572.26060608.5207143c0 .4178572-.26666668.5271429-.26666668.5271429zM14.2 12.4228572h-1.1818182c-.8424242 0-1.1272727.81-1.1272727 1.1957143v3.35571427h1.1818182v-.8035714h1.1090909v.8035714h1.1454545V13.6185715c0-.97714286-.8363636-1.1957143-1.1272727-1.1957143zm-.0181818 2.44928572h-1.1151515V13.76s0-.2507143.3696969-.2507143h.4060606c.3272728 0 .3333334.2507143.3333334.2507143v1.11214286h.0060606zm1.6848485-2.44928573h1.230303v4.5514285h-1.230303v-4.5514285zm2.9575757 3.375v-3.375H17.6v4.5514285h2.8787879v-1.1764285h-1.6545455zM.42424242 16.9742857h4.7878788S4.2969697 12.545 7.3272727 10.75142858c.66060607-.34071428 2.76363638-1.61357143 6.20606058 1.08642857.1090909-.09642857.2121212-.17357143.2121212-.17357143s-3.1515151-3.33642856-6.66060602-2.9635714c-1.76363636.16714284-3.93333333 1.87071427-5.2060606 4.12071427-1.27272726 2.25-1.45454546 4.1528571-1.45454546 4.1528571zM.42424242 16.9742857h4.7878788S4.2969697 12.545 7.3272727 10.75142858c.66060607-.34071428 2.76363638-1.61357143 6.20606058 1.08642857.1090909-.09642857.2121212-.17357143.2121212-.17357143s-3.1515151-3.33642856-6.66060602-2.9635714c-1.76363636.16714284-3.93333333 1.87071427-5.2060606 4.12071427-1.27272726 2.25-1.45454546 4.1528571-1.45454546 4.1528571zM.42424242 16.9742857h4.7878788S4.2969697 12.545 7.3272727 10.75142858c.66060607-.34071428 2.76363638-1.61357143 6.20606058 1.08642857.1090909-.09642857.2121212-.17357143.2121212-.17357143s-3.1515151-3.33642856-6.66060602-2.9635714c-1.76969696.16714284-3.93939393 1.87071427-5.2121212 4.12071427C.6 15.0714285.4242424 16.9742857.4242424 16.9742857zM10.4 9.0607143L10.4242424 8.63c-.0545454-.03214286-.2060606-.1092857-.58787876-.225l-.02424243.4242857c.2.0707143.3939394.14785716.5878788.2314286zM9.82424242 10.42357143l-.02424242.405c.2.00642857.4.03214286.6.07714286l.0242424-.3985715c-.2060606-.045-.4060606-.0707143-.59999998-.0835715zm-2.24242424-2.0057143h.06060606l-.12121212-.39214284c-.1878788 0-.38181818.0128571-.58181818.0385714l.1151515.3792857c.1757576-.0192857.35151517-.0257143.52727274-.0257143zm.2909091 2.3657143l.13939393.44357143c.1757576-.09.3515152-.16714286.5272728-.225l-.1333333-.42428572c-.2060606.06428572-.3818182.135-.5333333.2057143zM5.1212121 9.09285713l-.27272727-.44357142c-.15151515.0835715-.3090909.1735715-.47272727.2764286l.27878787.45c.15757576-.1028571.3090909-.1992857.46666667-.2828571zm1.24242424 2.89285716l.2909091.4628571c.1030303-.1607143.22424242-.3085715.35757575-.4564286L6.7393939 11.555c-.13939394.135-.26666667.28285714-.37575758.4307143zm-.87878788 2.07l.4909091.4114285C6 14.2164285 6.04242424 13.9657143 6.1030303 13.715l-.43636363-.36642857c-.07878788.23785714-.13333334.47571428-.1818182.70714286zM2.830303 11.0021428L2.4 10.60357142c-.15757576.1607143-.3090909.32142858-.44848485.48214287L2.41818182 11.51c.12727273-.17357143.26666666-.34714286.4121212-.50785714zM1 13.8757143l-.6969697-.27c-.1151515.27642856-.24242424.59785713-.3030303.77142856l.6969697.27C.77575758 14.42857143.9030303 14.11357143 1 13.8757143zm4.3939394 1.81285713c.0121212.34071428.04242424.61714286.07272727.81L6.1939394 16.775c-.05454546-.2507143-.10909092-.53357143-.14545455-.8357143l-.65454546-.25071427z","size":20,"color":"#CC0000"},{"tag":"php","tech":"php","name":"M7.01 10.207h-.944l-.515 2.648h.838c.556 0 .97-.105 1.242-.314.272-.21.455-.559.55-1.049.092-.47.05-.802-.124-.995-.175-.193-.523-.29-1.047-.29zM12 5.688C5.373 5.688 0 8.514 0 12s5.373 6.313 12 6.313S24 15.486 24 12c0-3.486-5.373-6.312-12-6.312zm-3.26 7.451c-.261.25-.575.438-.917.551-.336.108-.765.164-1.285.164H5.357l-.327 1.681H3.652l1.23-6.326h2.65c.797 0 1.378.209 1.744.628.366.418.476 1.002.33 1.752a2.836 2.836 0 0 1-.305.847c-.143.255-.33.49-.561.703zm4.024.715l.543-2.799c.063-.318.039-.536-.068-.651-.107-.116-.336-.174-.687-.174H11.46l-.704 3.625H9.388l1.23-6.327h1.367l-.327 1.682h1.218c.767 0 1.295.134 1.586.401s.378.7.263 1.299l-.572 2.944h-1.389zm7.597-2.265a2.782 2.782 0 0 1-.305.847c-.143.255-.33.49-.561.703a2.44 2.44 0 0 1-.917.551c-.336.108-.765.164-1.286.164h-1.18l-.327 1.682h-1.378l1.23-6.326h2.649c.797 0 1.378.209 1.744.628.366.417.477 1.001.331 1.751zM17.766 10.207h-.943l-.516 2.648h.838c.557 0 .971-.105 1.242-.314.272-.21.455-.559.551-1.049.092-.47.049-.802-.125-.995s-.524-.29-1.047-.29z","size":20,"color":"#777BB4"},{"tag":"laravel","tech":"Laravel","name":"M23.644 5.43c.009.032.014.065.014.099v5.15c0 .135-.073.26-.189.326l-4.323 2.49v4.934c0 .135-.072.258-.188.326L9.931 23.95c-.021.012-.043.02-.066.027-.008.002-.016.008-.024.01-.063.018-.13.018-.192 0-.011-.002-.02-.008-.029-.012-.021-.008-.043-.014-.063-.025L.534 18.755c-.117-.068-.189-.191-.189-.326V2.974c0-.033.005-.066.014-.098.003-.012.01-.021.014-.032.006-.02.014-.04.023-.058.004-.013.015-.022.023-.033.012-.016.021-.031.033-.045.012-.01.025-.018.037-.027.014-.012.027-.024.041-.034h.001L5.044.05c.115-.067.259-.067.375 0l4.512 2.597h.002c.015.01.027.021.041.033.012.009.025.018.037.027.013.014.021.029.033.045.008.011.02.021.025.033.011.019.017.038.024.058.003.011.011.021.013.032.01.031.014.064.014.098v9.652l3.76-2.164V5.527c0-.033.005-.066.014-.098.003-.011.009-.021.013-.032.007-.02.014-.039.024-.059.007-.012.018-.021.025-.033.012-.015.021-.03.033-.043.012-.012.025-.02.037-.028.014-.011.026-.023.041-.032h.001l4.513-2.598c.116-.067.259-.067.375 0l4.513 2.598c.016.01.027.021.042.031.012.01.025.018.036.028.013.014.022.029.034.044.008.012.019.021.024.033.011.02.018.039.024.059.006.011.012.022.015.033zm-.74 5.032V6.179l-1.578.908-2.182 1.256v4.283l3.76-2.164zm-4.511 7.75v-4.287l-2.146 1.225-6.127 3.498v4.326l8.273-4.762zM1.095 3.624v14.588l8.273 4.762v-4.326l-4.322-2.445-.002-.003h-.002c-.014-.01-.025-.021-.04-.031-.011-.01-.024-.018-.035-.027l-.001-.002c-.013-.012-.021-.025-.031-.039-.01-.012-.021-.023-.028-.037h-.002c-.008-.014-.013-.031-.02-.047-.006-.016-.014-.027-.018-.043-.004-.018-.006-.037-.008-.057-.002-.014-.006-.027-.006-.041V5.789l-2.18-1.257-1.578-.908zM5.231.81l-3.76 2.164 3.76 2.164 3.758-2.164L5.231.81zm1.956 13.505l2.182-1.256V3.624l-1.58.909-2.182 1.256v9.435l1.58-.909zM18.769 3.364l-3.76 2.164 3.76 2.163 3.759-2.164-3.759-2.163zm-.376 4.979l-2.182-1.256-1.579-.908v4.283l2.182 1.256 1.579.908V8.343zm-8.65 9.654l5.514-3.148 2.756-1.572-3.757-2.163-4.324 2.489-3.941 2.27 3.752 2.124z","size":20,"color":"#FF2D20"},{"tag":"cakephp","tech":"CakePHP","name":"M0 13.875v3.745c0 2.067 5.37 3.743 12 3.743V17.62c-6.63 0-12-1.68-12-3.743v-.002zm21.384 2.333L12 13.875v3.745l9.384 2.333C23.02 19.313 24 18.503 24 17.62v-3.745c0 .882-.98 1.692-2.616 2.333zM12 10.133v3.742c-6.627 0-12-1.677-12-3.744V6.38c0-2.064 5.37-3.743 12-3.743 6.625 0 12 1.68 12 3.744v3.75c0 .883-.98 1.69-2.616 2.334L12 10.13v.003z","size":20,"color":"#D33C43"},{"tag":"swift","tech":"Swift","name":"M21.984 16.348c.056-.112.056-.224.112-.336 1.346-5.272-1.851-11.44-7.347-14.693 2.412 3.253 3.365 7.122 2.524 10.599-.056.28-.168.617-.28.897a5.173 5.173 0 0 1-.45-.28S11.104 9.17 5.273 3.282c-.169-.168 3.14 4.71 6.841 8.58-1.738-1.01-6.673-4.542-9.758-7.403.337.617.842 1.234 1.346 1.851 2.58 3.309 5.945 7.346 9.983 10.43-2.86 1.74-6.842 1.851-10.88 0-1.01-.448-1.85-1.009-2.804-1.682 1.682 2.636 4.318 5.048 7.459 6.337 3.757 1.627 7.57 1.515 10.318 0h.057c.112-.056.224-.112.336-.224 1.346-.673 3.982-1.402 5.44 1.402.392.785 1.121-2.86-1.626-6.225z","size":20,"color":"#FA7343"},{"tag":"ios","tech":"iOS","name":"M7.078 23.55c-.473-.316-.893-.703-1.244-1.15-.383-.463-.738-.95-1.064-1.454-.766-1.12-1.365-2.345-1.78-3.636-.5-1.502-.743-2.94-.743-4.347 0-1.57.34-2.94 1.002-4.09.49-.9 1.22-1.653 2.1-2.182.85-.53 1.84-.82 2.84-.84.35 0 .73.05 1.13.15.29.08.64.21 1.07.37.55.21.85.34.95.37.32.12.59.17.8.17.16 0 .39-.05.645-.13.145-.05.42-.14.81-.31.386-.14.692-.26.935-.35.37-.11.728-.21 1.05-.26.39-.06.777-.08 1.148-.05.71.05 1.36.2 1.94.42 1.02.41 1.843 1.05 2.457 1.96-.26.16-.5.346-.725.55-.487.43-.9.94-1.23 1.505-.43.77-.65 1.64-.644 2.52.015 1.083.29 2.035.84 2.86.387.6.904 1.114 1.534 1.536.31.21.582.355.84.45-.12.375-.252.74-.405 1.1-.347.807-.76 1.58-1.25 2.31-.432.63-.772 1.1-1.03 1.41-.402.48-.79.84-1.18 1.097-.43.285-.935.436-1.452.436-.35.015-.7-.03-1.034-.127-.29-.095-.576-.202-.856-.323-.293-.134-.596-.248-.905-.34-.38-.1-.77-.148-1.164-.147-.4 0-.79.05-1.16.145-.31.088-.61.196-.907.325-.42.175-.695.29-.855.34-.324.096-.656.154-.99.175-.52 0-1.004-.15-1.486-.45zm6.854-18.46c-.68.34-1.326.484-1.973.436-.1-.646 0-1.31.27-2.037.24-.62.56-1.18 1-1.68.46-.52 1.01-.95 1.63-1.26.66-.34 1.29-.52 1.89-.55.08.68 0 1.35-.25 2.07-.228.64-.568 1.23-1 1.76-.435.52-.975.95-1.586 1.26z","size":20,"color":"#403f3f"},{"tag":"kotlin","tech":"Kotlin","name":"M1.3 24l11.3-11.5L24 24zM0 0h12L0 12.5zM13.4 0L0 14v10l12-12L24 0z","size":20,"color":"#0095D5"},{"tag":"android","tech":"Android","name":"M24 19H0a13.6 13.6 0 0 1 2.21-6.07A11.2 11.2 0 0 1 5.87 9.4l.41-.23-2.02-3.41a.51.51 0 0 1 .17-.7.5.5 0 0 1 .69.18l2.08 3.5a12.62 12.62 0 0 1 4.84-.9 12.2 12.2 0 0 1 4.75.9l2.07-3.5a.5.5 0 0 1 .7-.17.51.51 0 0 1 .16.7L17.7 9.19l.5.28a11.38 11.38 0 0 1 3.63 3.62A14.48 14.48 0 0 1 24 19zm-7.5-4.48a1 1 0 0 0 1 1 1 1 0 0 0 1-1 1 1 0 0 0-1-1 1 1 0 0 0-1 1zm-11 0a1 1 0 0 0 1 1 1 1 0 0 0 1-1 1 1 0 0 0-1-1 1 1 0 0 0-1 1z","size":20,"color":"#3DDC84"},{"tag":"git","tech":"Git","name":"M23.546 10.93L13.067.452c-.604-.603-1.582-.603-2.188 0L8.708 2.627l2.76 2.76c.645-.215 1.379-.07 1.889.441.516.515.658 1.258.438 1.9l2.658 2.66c.645-.223 1.387-.078 1.9.435.721.72.721 1.884 0 2.604-.719.719-1.881.719-2.6 0-.539-.541-.674-1.337-.404-1.996L12.86 8.955v6.525c.176.086.342.203.488.348.713.721.713 1.883 0 2.6-.719.721-1.889.721-2.609 0-.719-.719-.719-1.879 0-2.598.182-.18.387-.316.605-.406V8.835c-.217-.091-.424-.222-.6-.401-.545-.545-.676-1.342-.396-2.009L7.636 3.7.45 10.881c-.6.605-.6 1.584 0 2.189l10.48 10.477c.604.604 1.582.604 2.186 0l10.43-10.43c.605-.603.605-1.582 0-2.187","size":20,"color":"#403f3f"},{"tag":"aws","tech":"AWS","name":"M6.763 10.036c0 .296.032.535.088.71.064.176.144.368.256.576.04.063.056.127.056.183 0 .08-.048.16-.152.24l-.503.335a.383.383 0 0 1-.208.072c-.08 0-.16-.04-.239-.112a2.47 2.47 0 0 1-.287-.375 6.18 6.18 0 0 1-.248-.471c-.622.734-1.405 1.101-2.347 1.101-.67 0-1.205-.191-1.596-.574-.391-.384-.59-.894-.59-1.533 0-.678.239-1.23.726-1.644.487-.415 1.133-.623 1.955-.623.272 0 .551.024.846.064.296.04.6.104.918.176v-.583c0-.607-.127-1.03-.375-1.277-.255-.248-.686-.367-1.3-.367-.28 0-.568.031-.863.103-.295.072-.583.16-.862.272a2.287 2.287 0 0 1-.28.104.488.488 0 0 1-.127.023c-.112 0-.168-.08-.168-.247v-.391c0-.128.016-.224.056-.28a.597.597 0 0 1 .224-.167c.279-.144.614-.264 1.005-.36a4.84 4.84 0 0 1 1.246-.151c.95 0 1.644.216 2.091.647.439.43.662 1.085.662 1.963v2.586zm-3.24 1.214c.263 0 .534-.048.822-.144.287-.096.543-.271.758-.51.128-.152.224-.32.272-.512.047-.191.08-.423.08-.694v-.335a6.66 6.66 0 0 0-.735-.136 6.02 6.02 0 0 0-.75-.048c-.535 0-.926.104-1.19.32-.263.215-.39.518-.39.917 0 .375.095.655.295.846.191.2.47.296.838.296zm6.41.862c-.144 0-.24-.024-.304-.08-.064-.048-.12-.16-.168-.311L7.586 5.55a1.398 1.398 0 0 1-.072-.32c0-.128.064-.2.191-.2h.783c.151 0 .255.025.31.08.065.048.113.16.16.312l1.342 5.284 1.245-5.284c.04-.16.088-.264.151-.312a.549.549 0 0 1 .32-.08h.638c.152 0 .256.025.32.08.063.048.12.16.151.312l1.261 5.348 1.381-5.348c.048-.16.104-.264.16-.312a.52.52 0 0 1 .311-.08h.743c.127 0 .2.065.2.2 0 .04-.009.08-.017.128a1.137 1.137 0 0 1-.056.2l-1.923 6.17c-.048.16-.104.263-.168.311a.51.51 0 0 1-.303.08h-.687c-.151 0-.255-.024-.32-.08-.063-.056-.119-.16-.15-.32l-1.238-5.148-1.23 5.14c-.04.16-.087.264-.15.32-.065.056-.177.08-.32.08zm10.256.215c-.415 0-.83-.048-1.229-.143-.399-.096-.71-.2-.918-.32-.128-.071-.215-.151-.247-.223a.563.563 0 0 1-.048-.224v-.407c0-.167.064-.247.183-.247.048 0 .096.008.144.024.048.016.12.048.2.08.271.12.566.215.878.279.319.064.63.096.95.096.502 0 .894-.088 1.165-.264a.86.86 0 0 0 .415-.758.777.777 0 0 0-.215-.559c-.144-.151-.416-.287-.807-.415l-1.157-.36c-.583-.183-1.014-.454-1.277-.813a1.902 1.902 0 0 1-.4-1.158c0-.335.073-.63.216-.886.144-.255.335-.479.575-.654.24-.184.51-.32.83-.415.32-.096.655-.136 1.006-.136.175 0 .359.008.535.032.183.024.35.056.518.088.16.04.312.08.455.127.144.048.256.096.336.144a.69.69 0 0 1 .24.2.43.43 0 0 1 .071.263v.375c0 .168-.064.256-.184.256a.83.83 0 0 1-.303-.096 3.652 3.652 0 0 0-1.532-.311c-.455 0-.815.071-1.062.223-.248.152-.375.383-.375.71 0 .224.08.416.24.567.159.152.454.304.877.44l1.134.358c.574.184.99.44 1.237.767.247.327.367.702.367 1.117 0 .343-.072.655-.207.926-.144.272-.336.511-.583.703-.248.2-.543.343-.886.447-.36.111-.734.167-1.142.167zM21.698 16.207c-2.626 1.94-6.442 2.969-9.722 2.969-4.598 0-8.74-1.7-11.87-4.526-.247-.223-.024-.527.272-.351 3.384 1.963 7.559 3.153 11.877 3.153 2.914 0 6.114-.607 9.06-1.852.439-.2.814.287.383.607zM22.792 14.961c-.336-.43-2.22-.207-3.074-.103-.255.032-.295-.192-.063-.36 1.5-1.053 3.967-.75 4.254-.399.287.36-.08 2.826-1.485 4.007-.215.184-.423.088-.327-.151.32-.79 1.03-2.57.695-2.994z","size":20,"color":"#232F3E"},{"tag":"instagram","tech":"Instagram","name":"M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z","size":20,"color":"#E4405F"},{"tag":"facebook","tech":"Facebook","name":"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z","size":20,"color":"#1877F2"},{"tag":"gitlab ci","tech":"Gitlab CI","name":"M4.844.904a1.007 1.007 0 00-.955.692l-2.53 7.783c0 .007-.005.012-.007.02L.07 13.335a1.437 1.437 0 00.522 1.607l11.072 8.045a.566.566 0 00.67-.004l11.074-8.04a1.436 1.436 0 00.522-1.61l-1.26-3.867a.547.547 0 00-.031-.104l-2.526-7.775a1.004 1.004 0 00-.957-.684.987.987 0 00-.949.69l-2.406 7.408H8.203l-2.41-7.408a.987.987 0 00-.943-.69h-.006zm-.006 1.42l2.174 6.678H2.674l2.164-6.678zm14.328 0l2.168 6.678h-4.342l2.174-6.678zm-10.594 7.81h6.862l-2.15 6.618L12 20.693 8.572 10.135zm-5.515.005h4.322l3.086 9.5-7.408-9.5zm13.568 0h4.326l-6.703 8.588-.709.914 2.959-9.108.127-.394zM2.1 10.762l6.978 8.947-7.818-5.682a.305.305 0 01-.112-.341l.952-2.924zm19.8 0l.952 2.922a.305.305 0 01-.11.341v.002l-7.82 5.68.025-.035 6.953-8.91Z","size":20,"color":"#FCA121"}]}},"allMarkdownRemark":{"totalCount":81,"edges":[{"node":{"excerpt":"Bạn có thể viết như FORTRAN bằng bất kỳ ngôn ngữ nào. Tuy nhiên, mỗi ngôn ngữ có văn hóa riêng của nó, và để thực sự hiểu ngôn ngữ đó, cần phải học chính xác nền văn hóa đó. Trong những năm học trung…","snippet":"<div class=\"custom-block-body\"><p>B&#x1EA1;n c&#xF3; th&#x1EC3; vi&#x1EBF;t nh&#x1B0; FORTRAN b&#x1EB1;ng b&#x1EA5;t k&#x1EF3; ng&#xF4;n ng&#x1EEF; n&#xE0;o. Tuy nhi&#xEA;n, m&#x1ED7;i ng&#xF4;n ng&#x1EEF; c&#xF3; v&#x103;n h&#xF3;a ri&#xEA;ng c&#x1EE7;a n&#xF3;, v&#xE0; &#x111;&#x1EC3; th&#x1EF1;c s&#x1EF1; hi&#x1EC3;u ng&#xF4;n ng&#x1EEF; &#x111;&#xF3;, c&#x1EA7;n ph&#x1EA3;i h&#x1ECD;c ch&#xED;nh x&#xE1;c n&#x1EC1;n v&#x103;n h&#xF3;a &#x111;&#xF3;.</p></div>","html":"<div class=\"custom-block snippet\"><div class=\"custom-block-body\"><p>Bạn có thể viết như FORTRAN bằng bất kỳ ngôn ngữ nào. Tuy nhiên, mỗi ngôn ngữ có văn hóa riêng của nó, và để thực sự hiểu ngôn ngữ đó, cần phải học chính xác nền văn hóa đó.</p></div></div>\n<p>Trong những năm học trung học phổ thông, tôi đã chọn tiếng Pháp cho tiết học ngoại ngữ của mình. Thế nhưng khi ấy tôi nghĩ rằng \"Tương lai sau này chỉ cần tiếng Anh là tôi có thể tự mình xoay sở được rồi\" và thế là tôi đã ngủ trong tiết học tiếng Pháp của mình suốt 3 năm . Một vài năm sau đó tôi đã có một chuyến du lịch tới Tunisia. Tiếng Ả Rập là ngôn ngữ chính thống ở đây nhưng bên cạnh đó tiếng Pháp cũng được sử dụng rộng rãi bởi nơi đây từng là thuộc địa của Pháp.\n​</p>\n<p>Tiếng Anh chỉ là ngôn ngữ ở những khu du lịch. Tôi không hiểu ngôn ngữ nên chẳng còn cách nào khác tôi ở bên cạnh hồ bơi suốt để đọc cuốn <em>Finnegans Wake</em> của James Joyce. Cuốn tiểu thuyết này là một tác phẩm tuyệt vời cả về văn phong và ngôn ngữ. Liên tiếp chơi chữ với việc vận dụng hơn 40 ngôn ngữ là một điều thực sự đáng kinh ngạc và việc đọc nó cũng tốn nhiều công sức. Và tôi cảm thấy rằng tác giả đã mở rộng phạm vi diễn đạt của mình rất nhiều bằng cách đan xen một lượng lớn các từ và cụm từ nước ngoài. Đâu đó tôi thấy rằng đây cũng là việc mà tôi đã làm với tư cách là lập trình viên.\n​</p>\n<p>Trong cuốn sách <em>The Pragmatic Programmer</em> kinh điển của mình Andy Hunt và Dave Thomas đã khuyến khích rằng nên học một ngôn ngữ lập trình mới mỗi năm. Tôi đã làm theo lời khuyên đó và thực sự đã học được nhiều ngôn ngữ trong vài năm qua. Và tôi đã học được bài học quan trọng rằng \"học một ngôn ngữ không chỉ là học ngữ pháp và cú pháp, mà còn là văn hóa đằng sau nó.\"\n​\n<img src=\"https://i.ibb.co/zJwYxn0/Image-Blogt2.png\" alt=\"Đúng giờ\"></p>\n<p>Bạn có thể viết như FORTRAN bằng bất kỳ ngôn ngữ nào. Tuy nhiên, mỗi ngôn ngữ có văn hóa riêng của nó, và để thực sự hiểu ngôn ngữ đó, cần phải học chính xác nền văn hóa đó.\n​</p>\n<p>Khi bạn mới bắt đầu học C #, có thể bạn sẽ viết code chỉ toàn là các Main method dài và Helper method tĩnh, nhưng tôi nghĩ không cần phải xấu hổ. Thay vào đó, điều quan trọng là phải học và hiểu “tại sao lại tồn tại cái gọi là class”. Kể cả ban đầu bạn không hiểu các biểu thức lambda được sử dụng trong functional languages thì cũng đừng sợ. Nỗ lực hết mình sử dụng nó cho đến khi bạn hiểu nó.\n​</p>\n<p>Nhờ học Ruby, tôi đã có thể sử dụng thành thạo delegate của C #. Ngoài ra, bằng cách hiểu đầy đủ tiềm năng của NETs generics, tôi đã có thể hiểu cách hoạt động của Java Generics và nhờ học LINQ, tôi có thể hiểu Scala một cách dễ dàng.\n​</p>\n<p>Học nhiều hơn một ngôn ngữ sẽ giúp bạn hiểu sâu hơn về các design pattern. Khi các lập trình viên C học C # và Java, họ sẽ nhận thấy ở cả hai ngôn ngữ này Iterator pattern thường được sử dụng phổ biến. Nếu bạn học một ngôn ngữ động chẳng hạn như Ruby, bạn sẽ thấy rằng Visitor pattern vẫn được sử dụng trong một ngôn ngữ động, nhưng cách triển khai của nó trông khác với ví dụ được đưa ra trong cuốn Gang of Four.\n​</p>\n<p>Đối với cuốn tiểu thuyết <em>Finegans Wake</em> có những người tranh luận rằng \"Tôi không thể đọc cuốn này\", trong khi những người khác lại khen ngợi vẻ đẹp ở văn phong của nó. Đối với cuốn sách này, bản dịch có thể dễ đọc hơn. Nếu hơn 40 ngôn ngữ trong nguyên tác được sắp xếp thành một ngôn ngữ, thì có thể dễ đọc hơn một chút. Nhưng, thật trớ trêu cho tôi, bản dịch đầu tiên lại là bản tiếng Pháp.\n​</p>\n<p>Điều này cũng đúng với code của chúng ta. Nếu bạn viết code như kiểu của cuốn <em>Finegans Wake</em>, một phần bằng Python, một phần bằng Java và một phần bằng Erlang, dự án của bạn sẽ bị lộn xộn như mớ bòng bong đấy. Thay vào đó, điều quan trọng là phải lấy ý tưởng mới từ các ngôn ngữ mới và tìm ra các giải pháp khác nhau cho cùng một vấn đề. Khi bạn học một ngôn ngữ mới, nhiều khi bạn có thể viết những đoạn code đẹp hơn bằng chính ngôn ngữ truyền thống mà bạn vẫn sử dụng.\n​</p>\n<hr>\n<p>Trích dịch từ cuốn  \"* プログラマが知るべき97のことプログラマが知るべき97のこと*\"</p>\n<ol start=\"27\">\n<li>言語だけでなく文化も学ぶ</li>\n</ol>\n<div class=\"custom-block author\"><div class=\"custom-block-heading\">Mahi </div><div class=\"custom-block-body\"></div></div>","id":"4d9189b7-3cac-5eb5-b182-3735d82969e2","frontmatter":{"title":"Đừng chỉ học ngôn ngữ, hãy hiểu cả văn hóa","date":"12-03-2021","tags":["comtor"]},"fields":{"slug":"/dung-chi-hoc-ngon-ngu-hay-hieu-ca-van-hoa/","readingTime":{"text":"5 min read"}}}},{"node":{"excerpt":"TOMOSIA của chúng ta với hầu như 100% đối tác là Nhật, vậy tại sao chúng ta không thử  so sánh một chút về phong cách làm việc của hai nước Việt Nam và Nhật Bản. 1. Đúng giờ ​\nNgười Nhật rất nghiêm…","snippet":"<div class=\"custom-block-body\"><p>TOMOSIA c&#x1EE7;a ch&#xFA;ng ta v&#x1EDB;i h&#x1EA7;u nh&#x1B0; 100% &#x111;&#x1ED1;i t&#xE1;c l&#xE0; Nh&#x1EAD;t, v&#x1EAD;y t&#x1EA1;i sao ch&#xFA;ng ta kh&#xF4;ng th&#x1EED;  so s&#xE1;nh m&#x1ED9;t ch&#xFA;t v&#x1EC1; phong c&#xE1;ch l&#xE0;m vi&#x1EC7;c c&#x1EE7;a hai n&#x1B0;&#x1EDB;c Vi&#x1EC7;t Nam v&#xE0; Nh&#x1EAD;t B&#x1EA3;n.</p></div>","html":"<div class=\"custom-block snippet\"><div class=\"custom-block-body\"><p>TOMOSIA của chúng ta với hầu như 100% đối tác là Nhật, vậy tại sao chúng ta không thử  so sánh một chút về phong cách làm việc của hai nước Việt Nam và Nhật Bản.</p></div></div>\n<h3>1. Đúng giờ</h3>\n<p>​\nNgười Nhật rất nghiêm khắc với bản thân về chuyện giờ giấc. Không chỉ đúng giờ trong công việc mà với mọi hình thức trong cuộc sống hàng ngày. Luôn phải đến sớm hơn ít nhất 5~10p là luật bất thành văn ở Nhật, được coi là văn hoá tối thiểu.\n​\nTuy nhiên đối với Việt Nam việc chậm 5~10p được coi là khá bình thường, dường như việc cao su thời gian đã thành thói quen, nếp sống.\n<img src=\"https://drive.google.com/uc?export=view&#x26;id=1xN1Qmpt8VVC9HpRzNVES82Gq2cDiPqe3\" alt=\"Đúng giờ\"></p>\n<h2>2. Mối quan hệ giữa đồng nghiệp</h2>\n<p>Ở nhật rất quan trọng mối quan hệ thứ bậc, văn hoá tiền bối hậu bối. Tiền bối ở đây không hẳn là những người lớn tuổi hơn bạn, mà là người đi trước vào công ty trước bạn. Bạn có thể sẽ ngạc nhiên thấy lạ khi thấy một người lớn tuổi luôn cư xử lễ phép dạ vâng đối với người ít tuổi hơn. Đối với hậu bối phải tôn trọng lắng nghe ý kiến của những người đi trước.\n​\nỞ Việt Nam thì khác đối với quan hệ đồng nghiệp đơn giản thoả mái hơn, không rườm rà, mọi người đều có sự tôn trọng đối với người lớn tuổi hơn, học hỏi các kinh nghiệm của người đi trước tuy nhiên  không phải gò bó khuân phép như ở Nhật nên đối với người trẻ Việt có thể tự do đưa ra ý kiến sáng tạo các phương pháp mới.\n<img src=\"https://drive.google.com/uc?export=view&#x26;id=1SDaWRWfQOAMB0m4ta2rKMaDL6blygz5W\" alt=\"Mối quan hệ giữa đồng nghiệp\"></p>\n<h2>3. Nói giảm, nói tránh</h2>\n<p>Người Nhật luôn có 2 mặt, che giấu cảm xúc thật sự của bản thân,  hạn chế từ chối thẳng thừng cho dù họ không thích không đồng tình thì cũng không từ chối hay phê phán trực tiếp. Họ luôn nói giảm nói tránh để hạn chế tối đa sự tổn thương mất lòng cho đối phương, không thể hiện quá nhiều cảm xúc ra bên ngoài. Ngược lại đối với người Việt Nam thì khá là thẳng thắn, luôn nêu rõ quan điểm của mình.\n​</p>\n<h2>4. Tính tập thể</h2>\n<p>​\nHọc sinh ở Nhật từ mẫu giáo đến cấp 3 đều có đồng phục, trăm người như một để tránh sự phân biệt giữa các học sinh giúp họ bình đẳng với nhau. Họ không thích sự nổi bật giữa đám đông, kể cả khi đi phỏng vấn cũng luôn theo một khuân mẫu chung: mặc vest đen hoặc ghi, đi giày đen, cùng kiểu tóc để  không mất thời gian chú ý ngoại hình lẫn nhau mà tập chung vào năng lực. Trong công ty Nhật luôn đề cao tính tập thể, họ đề cao việc trao đổi, chia sẻ kiến thức và cùng nhau giải quyết vấn đề, họ luôn quan niệm thành công không phải do cá nhân mà do sự cố gắng đoàn kết của cả một tập thể. Luôn đặt lợi ích chung của cả tập thể lên hàng đầu.\n​</p>\n<p>Ngược lại ở Việt Nam vẫn thường mang tính lợi ích cá nhân, ngày nay ở một số công ty cũng đã đề cao tinh thần teamwork trong công việc nhưng vẫn còn hạn chế.\n​</p>\n<h2>5. Lập kế hoạch</h2>\n<p>​\nNgười Nhật không chỉ lập kế hoạch cho công việc mà ngay cả vấn đề đi chơi họ cũng lập kế hoạch đi ngày nào, giờ nào, làm những gì trong thời gian bao lâu. Việc họ lên kế hoạch rõ ràng như vậy sẽ giúp người Nhật quản lí tốt được công việc và thời gian một cách dễ dàng. Tuy nhiên, khi có một sự thay đổi nào gấp gáp và những công việc không có thời hạn kết thúc thì họ lại bị lúng túng và khó khăn trong việc sắp xếp lại công việc.\n​</p>\n<p>Ngược lại với người Nhật thì người Việt khá tốt trong việc thích ứng với sự thay đổi đột ngột và giải quyết những công việc không có thời hạn cụ thể. Thế nhưng, người Việt lại thường thực hiện công việc vào sát deadline, không có kế hoạch trước hoặc có nhưng lại không tuân thủ theo tiến độ.\n​</p>\n<p>Ví dụ: Nếu có một công việc đề ra trong vòng 2 tuần thì người Nhật sẽ cố gắng hoàn thành kế hoạch trong vòng 1 tuần đầu và tuần  còn lại là khoảng thời gian xem xét và chỉnh sửa, hoàn thành công việc. Còn người Việt sẽ không cố gắng hoàn thành kế hoạch trong vòng 1 tuần đầu mà sẽ kéo dài cố gắng hoàn thành trong tuần  thứ 2.<br>\nMỗi nước có một văn hoá riêng có ưu điểm và nhược điểm khác nhau. Chúng ta cùng học hỏi điểm tốt khắc phục những điểm hạn chế để cùng nhau phát triển.\n​</p>\n<p>Trên đây là những so sánh mang tính cá nhân của bản thân bằng kinh nghiệm ít ỏi sống ở Nhật rất mong nhận được sự góp ý của mọi người.</p>\n<hr>\n<div class=\"custom-block author\"><div class=\"custom-block-heading\">Quyên Đỗ </div><div class=\"custom-block-body\"></div></div>","id":"47a32e9e-a2d2-5d6c-9e3d-297dbe6a86f5","frontmatter":{"title":"Sự khác biệt trong văn hoá làm việc giữa Việt Nam và Nhật Bản","date":"12-03-2021","tags":["comtor"]},"fields":{"slug":"/su-khac-biet-trong-van-hoa-lam-viec-giua-viet-nam-va-nhat-ban/","readingTime":{"text":"5 min read"}}}},{"node":{"excerpt":"MessageKit Là Gì ?    MessageKit là một thư viện mã nguồn mở dùng để tạo ra màn hình chat với chuẩn về UI/UX. Github: MessageKit Cấu trúc của MessageKit Cấu trúc của Cell.\nMessageKit chia làm hai loại…","snippet":"<div class=\"custom-block-body\"><p>   <strong>MessageKit</strong> l&#xE0; m&#x1ED9;t th&#x1B0; vi&#x1EC7;n m&#xE3; ngu&#x1ED3;n m&#x1EDF; d&#xF9;ng &#x111;&#x1EC3; t&#x1EA1;o ra m&#xE0;n h&#xEC;nh chat v&#x1EDB;i chu&#x1EA9;n v&#x1EC1; UI/UX.</p></div>","html":"<h1>MessageKit Là Gì ?</h1>\n<div class=\"custom-block snippet\"><div class=\"custom-block-body\"><p>   <strong>MessageKit</strong> là một thư viện mã nguồn mở dùng để tạo ra màn hình chat với chuẩn về UI/UX.</p></div></div>\n<p>Github: <a href=\"https://github.com/MessageKit/MessageKit\">MessageKit</a></p>\n<h3>Cấu trúc của MessageKit</h3>\n<ol>\n<li>\n<p>Cấu trúc của Cell.\nMessageKit chia làm hai loại Cell đó là mặc định và custom. Cell mặc định đó là những Cell do MessageKit cung cấp cho chúng ta, chúng kế thừa từ class <strong>MessageContentCell</strong>. Cell custom là những Cell mà ta tự custom, chúng kế thừa từ class <strong>UICollectionViewCell</strong>.</p>\n<p>Với Cell mặc định còn chia thành nhiều loại khác nhau gồm: TextMessageCell, MediaMessageCell, LocationMessageCell, AudioMessageCell, ContactMessageCell, LinkPreviewMessageCell.</p>\n<p>Hãy xem kiểu MessageKind được define trong MessageKit như sau:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-swift line-numbers\"><code class=\"language-swift\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">enum</span> <span class=\"token builtin\">MessageKind</span> <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">case</span> <span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">String</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// TextMessageCell</span>\n<span class=\"token keyword\">case</span> <span class=\"token function\">attributedText</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">NSAttributedString</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// TextMessageCell</span>\n<span class=\"token keyword\">case</span> <span class=\"token function\">photo</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">MediaItem</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// MediaMessageCell</span>\n<span class=\"token keyword\">case</span> <span class=\"token function\">video</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">MediaItem</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// MediaMessageCell</span>\n<span class=\"token keyword\">case</span> <span class=\"token function\">location</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">LocationItem</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// LocationMessageCell</span>\n<span class=\"token keyword\">case</span> <span class=\"token function\">emoji</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">String</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// TextMessageCell</span>\n<span class=\"token keyword\">case</span> <span class=\"token function\">audio</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">AudioItem</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// AudioMessageCell</span>\n<span class=\"token keyword\">case</span> <span class=\"token function\">contact</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">ContactItem</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// ContactMessageCell</span>\n<span class=\"token keyword\">case</span> <span class=\"token function\">linkPreview</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">LinkItem</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// LinkPreviewMessageCell</span>\n\n<span class=\"token comment\">/// A custom message.</span>\n<span class=\"token comment\">/// - Note: Using this case requires that you implement the following methods and handle this case:</span>\n<span class=\"token comment\">///   - MessagesDataSource: customCell(for message: MessageType, at indexPath: IndexPath, in messagesCollectionView: MessagesCollectionView) -> UICollectionViewCell</span>\n<span class=\"token comment\">///   - MessagesLayoutDelegate: customCellSizeCalculator(for message: MessageType, at indexPath: IndexPath, in messagesCollectionView: MessagesCollectionView) -> CellSizeCalculator</span>\n<span class=\"token keyword\">case</span> <span class=\"token function\">custom</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">Any</span><span class=\"token operator\">?</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Tất cả những Cell mặc định trên đều sẽ kế thừa từ MessageContentCell nên nó đều có cấu trúc giống như sau:\n<img src=\"https://raw.githubusercontent.com/MessageKit/MessageKit/master/Assets/CellStructure.png\" alt=\"MessageContentCell\">\nNó chia làm 7 phần, lần lượt từ dưới xuống đó là: cellTopLabel, messageTopLabel, messageContainerView, messageBottomLabel, cellBottomLabel và hai phần đặc biệt đó là avatarView, accessoryView.</p>\n</li>\n<li>\n<p>Cấu trúc của MessageInputBar.\nMessageInputBar là class được MessageKit tích hợp từ thư viện <a href=\"https://github.com/nathantannar4/InputBarAccessoryView\">InputBarAccessoryView</a>. MessageInputBar có cấu trúc như sau:\n<img src=\"https://raw.githubusercontent.com/MessageKit/MessageKit/master/Assets/InputBarAccessoryViewLayout.png\" alt=\"MessageInputBar\">\nVới cấu trúc như trên thì nó rất dễ để customize như thay đổi size, thêm các button.</p>\n<h3>Demo</h3>\n<p>Tới đây chúng ta sẽ cùng implement một màn hình Chat đơn giản với MessageKit.\nĐầu tiên, cần khởi tạo project với XCode và pod install với lệnh sau được thêm vào file Podfile.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">pod &#39;MessageKit&#39;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Vì MessageKit đã tích hợp sẵn với InputBarAccessoryView nên ta không cần phải install InputBarAccessoryView nữa.\nProject của chúng ta sẽ như thế này sau khi khởi tạo:\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/cc7ef53d9d8f3076db17bbcfe0ef33c2/c2d13/start_project.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.28571428571429%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAACCUlEQVQoz32S22vUQBTG87eYy2RmksllMrlsuttdLRYqRa3Yxa5YfFBBainoi4gXVBB99+/9PCfZ1d0Kffg4mcnMb75z8craYb6Yoa4bSKlIGqZsUTU9bFnAZKxykNIGOskRhBJ+IBAJhVt+gDCK4NO3H0bwrGuxenqOe8cnSAxfKlCUHbKiobUjgIVUBWKZUcwp5sOaz/FeSKBQSILGiGIFL6GXHz5eYnHncABqutS5GTLbIy86GIIyaFcbuBlhW/ImE4ujo7tQSUYykDqDzRo0bo7CTZGailyWfx1tJMmpiA2C6BrQUu26roNO6WBukWSOwCXitQsGqTVQ6mInxvSfgX4oBg1AqVJyYEZg4RDzZTXW6f9Ut7WpoURKjUtMPgI51dRQurQR1TOItKJ0zPD6dorXxVBOOSSHgiaDtQYaJCk7pPpRg2JNr/OlG9z96/hYw4A6zBqAnC471ElKddHDoZtT3QUH62aMUXENNTSBpFJ0gOwLTQPL42CGyBJ0UcQZzdk68p5ISQmlLMjdKP72bDtHOz2AmyzQ9LeR2j3YqsXEVahcDVc5lGmJIi9hC4ucYm1r2HoPisbLpwcCGqGAG6RLeNNnP9GffUO/+o7+yVfsP/+FNxcX+P3pBd6+v8K7V0uc7x9ief8Ar1cnOH70AJcvL7G6+ojp2Qc0p1/QLkmnn4nxA38A0jt6IouHQ/IAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Start project\"\n        title=\"Start project\"\n        src=\"/static/cc7ef53d9d8f3076db17bbcfe0ef33c2/8c557/start_project.png\"\n        srcset=\"/static/cc7ef53d9d8f3076db17bbcfe0ef33c2/4edbd/start_project.png 175w,\n/static/cc7ef53d9d8f3076db17bbcfe0ef33c2/13ae7/start_project.png 350w,\n/static/cc7ef53d9d8f3076db17bbcfe0ef33c2/8c557/start_project.png 700w,\n/static/cc7ef53d9d8f3076db17bbcfe0ef33c2/e996b/start_project.png 1050w,\n/static/cc7ef53d9d8f3076db17bbcfe0ef33c2/2cefc/start_project.png 1400w,\n/static/cc7ef53d9d8f3076db17bbcfe0ef33c2/c2d13/start_project.png 2560w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\nMessageKit cung cấp cho chúng ta một UIViewController là MessagesViewController, đây là class đã cung cấp sẵn một UICollectionView, và các thuộc tính và phương thức tiện ích để xử lý keyboard, show thời gian khi swipe, ... Có một vấn đề là do Swift không hỗ trợ đa kế thừa nên không thể dùng ViewController kế thừa trực tiếp MessagesViewController được vì ViewController cần phải kế thừa BaseVC. Cho nên chúng ta cần tạo ra một class là MessageController cho việc kế thừa MessagesViewController và sẽ add MessageController vào trong ViewController.\nMessageController sau khi khởi tạo như sau:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-swift line-numbers\"><code class=\"language-swift\"><span class=\"token keyword\">import</span> <span class=\"token builtin\">MessageKit</span>\n<span class=\"token keyword\">import</span> <span class=\"token builtin\">Foundation</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n</li>\n</ol>\n<p>class MessageController: MessagesViewController {\nweak var viewController: ViewController?</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">override func viewDidLoad() {\n    super.viewDidLoad()\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>}</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Add MessageController vào ViewController:\n```swift\nimport MessageKit\nimport UIKit\n\nclass ViewController: UIViewController {\n\n    private lazy var messageController: MessageController = {\n        let vc = MessageController()\n        vc.viewController = self\n        return vc\n    }()\n    \n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        addChild(messageController)\n        messageController.view.autoresizingMask = [.flexibleWidth, .flexibleHeight]\n        messageController.view.frame = view.bounds\n        view.addSubview(messageController.view)\n    }\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Sau đó ở MessageCollectionView, ta cần config MessageCollectionView và config MessageInputBar.\nConfig MessageCollectionView thì dùng hàm sau:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-swift line-numbers\"><code class=\"language-swift\"><span class=\"token keyword\">func</span> <span class=\"token function\">configureMessageCollectionView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        messagesCollectionView<span class=\"token punctuation\">.</span>messagesDataSource <span class=\"token operator\">=</span> <span class=\"token keyword\">self</span>\n        messagesCollectionView<span class=\"token punctuation\">.</span>messageCellDelegate <span class=\"token operator\">=</span> <span class=\"token keyword\">self</span>\n        messagesCollectionView<span class=\"token punctuation\">.</span>messagesLayoutDelegate <span class=\"token operator\">=</span> <span class=\"token keyword\">self</span>\n        messagesCollectionView<span class=\"token punctuation\">.</span>messagesDisplayDelegate <span class=\"token operator\">=</span> <span class=\"token keyword\">self</span>\n        scrollsToLastItemOnKeyboardBeginsEditing <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span> <span class=\"token comment\">// default false</span>\n        maintainPositionOnKeyboardFrameChanged <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span> <span class=\"token comment\">// default false</span>\n        showMessageTimestampOnSwipeLeft <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span> <span class=\"token comment\">// default false</span>\n        \n        <span class=\"token comment\">// Với những Cell của message do currentUser gửi thì sẽ không hiển thị avatar</span>\n        <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> layout <span class=\"token operator\">=</span> messagesCollectionView<span class=\"token punctuation\">.</span>collectionViewLayout <span class=\"token keyword\">as</span><span class=\"token operator\">?</span> <span class=\"token builtin\">MessagesCollectionViewFlowLayout</span> <span class=\"token punctuation\">{</span>\n            layout<span class=\"token punctuation\">.</span>textMessageSizeCalculator<span class=\"token punctuation\">.</span>outgoingAvatarSize <span class=\"token operator\">=</span> <span class=\"token punctuation\">.</span>zero\n            layout<span class=\"token punctuation\">.</span>textMessageSizeCalculator<span class=\"token punctuation\">.</span>outgoingMessageBottomLabelAlignment<span class=\"token punctuation\">.</span>textInsets<span class=\"token punctuation\">.</span><span class=\"token keyword\">right</span> <span class=\"token operator\">=</span> <span class=\"token number\">12</span>\n            layout<span class=\"token punctuation\">.</span>photoMessageSizeCalculator<span class=\"token punctuation\">.</span>outgoingAvatarSize <span class=\"token operator\">=</span> <span class=\"token punctuation\">.</span>zero\n            layout<span class=\"token punctuation\">.</span>photoMessageSizeCalculator<span class=\"token punctuation\">.</span>outgoingMessageBottomLabelAlignment<span class=\"token punctuation\">.</span>textInsets<span class=\"token punctuation\">.</span><span class=\"token keyword\">right</span> <span class=\"token operator\">=</span> <span class=\"token number\">12</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Về MessageInputBar thì có thể dùng luôn biến messageInputBar được define sẵn trong class MessagesViewController hoặc dùng một input bar tự custom khác. Ở đây, mình dùng một MessageInputBar tự custom như sau:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-swift line-numbers\"><code class=\"language-swift\"><span class=\"token keyword\">import</span> <span class=\"token builtin\">InputBarAccessoryView</span>\n<span class=\"token keyword\">import</span> <span class=\"token builtin\">UIKit</span>\n\n<span class=\"token keyword\">protocol</span> <span class=\"token builtin\">SlackInputBarDelegate</span><span class=\"token punctuation\">:</span> <span class=\"token keyword\">class</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function\">slackInputBar</span><span class=\"token punctuation\">(</span><span class=\"token number\">_</span> view<span class=\"token punctuation\">:</span> <span class=\"token builtin\">SlackInputBar</span><span class=\"token punctuation\">,</span> didTapCameraButton button<span class=\"token punctuation\">:</span> <span class=\"token builtin\">InputBarButtonItem</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function\">slackinputBar</span><span class=\"token punctuation\">(</span><span class=\"token number\">_</span> view<span class=\"token punctuation\">:</span> <span class=\"token builtin\">SlackInputBar</span><span class=\"token punctuation\">,</span> didTapLibraryButton button<span class=\"token punctuation\">:</span> <span class=\"token builtin\">InputBarButtonItem</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">final</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SlackInputBar</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">InputBarAccessoryView</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">weak</span> <span class=\"token keyword\">var</span> slackDelegate<span class=\"token punctuation\">:</span> <span class=\"token builtin\">SlackInputBarDelegate</span><span class=\"token operator\">?</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span>frame<span class=\"token punctuation\">:</span> <span class=\"token builtin\">CGRect</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span>frame<span class=\"token punctuation\">:</span> frame<span class=\"token punctuation\">)</span>\n        <span class=\"token function\">configure</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">required</span> <span class=\"token keyword\">init</span><span class=\"token operator\">?</span><span class=\"token punctuation\">(</span>coder aDecoder<span class=\"token punctuation\">:</span> <span class=\"token builtin\">NSCoder</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">fatalError</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"init(coder:) has not been implemented\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">func</span> <span class=\"token function\">configure</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> items <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token function\">makeButton</span><span class=\"token punctuation\">(</span>named<span class=\"token punctuation\">:</span> <span class=\"token string\">\"ic_camera\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>onTextViewDidChange <span class=\"token punctuation\">{</span> button<span class=\"token punctuation\">,</span> textView <span class=\"token keyword\">in</span>\n                button<span class=\"token punctuation\">.</span>isEnabled <span class=\"token operator\">=</span> textView<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">.</span><span class=\"token builtin\">isEmpty</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span>onSelected <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">weak</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">]</span> item <span class=\"token keyword\">in</span>\n                <span class=\"token keyword\">guard</span> <span class=\"token keyword\">let</span> <span class=\"token keyword\">self</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">self</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token punctuation\">}</span>\n                item<span class=\"token punctuation\">.</span>tintColor <span class=\"token operator\">=</span> <span class=\"token punctuation\">.</span>systemBlue\n                <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>slackDelegate<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">slackInputBar</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> didTapCameraButton<span class=\"token punctuation\">:</span> item<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">.</span>flexibleSpace<span class=\"token punctuation\">,</span>\n            <span class=\"token function\">makeButton</span><span class=\"token punctuation\">(</span>named<span class=\"token punctuation\">:</span> <span class=\"token string\">\"ic_library\"</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span>onSelected <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">weak</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">]</span> item <span class=\"token keyword\">in</span>\n                    <span class=\"token keyword\">guard</span> <span class=\"token keyword\">let</span> <span class=\"token keyword\">self</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">self</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token punctuation\">}</span>\n                    item<span class=\"token punctuation\">.</span>tintColor <span class=\"token operator\">=</span> <span class=\"token punctuation\">.</span>systemBlue\n                    <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>slackDelegate<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">slackinputBar</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">self</span><span class=\"token punctuation\">,</span> didTapLibraryButton<span class=\"token punctuation\">:</span> item<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            sendButton\n                <span class=\"token punctuation\">.</span>configure <span class=\"token punctuation\">{</span>\n                    $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span>layer<span class=\"token punctuation\">.</span>cornerRadius <span class=\"token operator\">=</span> <span class=\"token number\">8</span>\n                    $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span>layer<span class=\"token punctuation\">.</span>borderWidth <span class=\"token operator\">=</span> <span class=\"token number\">1.5</span>\n                    $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span>layer<span class=\"token punctuation\">.</span>borderColor <span class=\"token operator\">=</span> $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token function\">titleColor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">for</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span>disabled<span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">.</span>cgColor\n                    $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token function\">setTitleColor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span>white<span class=\"token punctuation\">,</span> <span class=\"token keyword\">for</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span>normal<span class=\"token punctuation\">)</span>\n                    $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token function\">setTitleColor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span>white<span class=\"token punctuation\">,</span> <span class=\"token keyword\">for</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span>highlighted<span class=\"token punctuation\">)</span>\n                    $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token function\">setSize</span><span class=\"token punctuation\">(</span><span class=\"token function\">CGSize</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">:</span> <span class=\"token number\">52</span><span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> animated<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span>onDisabled <span class=\"token punctuation\">{</span>\n                    $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span>layer<span class=\"token punctuation\">.</span>borderColor <span class=\"token operator\">=</span> $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token function\">titleColor</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">for</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span>disabled<span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">.</span>cgColor\n                    $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span>backgroundColor <span class=\"token operator\">=</span> <span class=\"token punctuation\">.</span>clear\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span>onEnabled <span class=\"token punctuation\">{</span>\n                    $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span>backgroundColor <span class=\"token operator\">=</span> <span class=\"token punctuation\">.</span>systemBlue\n                    $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span>layer<span class=\"token punctuation\">.</span>borderColor <span class=\"token operator\">=</span> <span class=\"token builtin\">UIColor</span><span class=\"token punctuation\">.</span>clear<span class=\"token punctuation\">.</span>cgColor\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span>onSelected <span class=\"token punctuation\">{</span>\n                    <span class=\"token comment\">// We use a transform because changing the size would cause the other views to relayout</span>\n                    $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span>transform <span class=\"token operator\">=</span> <span class=\"token function\">CGAffineTransform</span><span class=\"token punctuation\">(</span>scaleX<span class=\"token punctuation\">:</span> <span class=\"token number\">1.2</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token number\">1.2</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span>onDeselected <span class=\"token punctuation\">{</span>\n                    $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span>transform <span class=\"token operator\">=</span> <span class=\"token builtin\">CGAffineTransform</span><span class=\"token punctuation\">.</span>identity\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span>\n        items<span class=\"token punctuation\">.</span>forEach <span class=\"token punctuation\">{</span> $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span>tintColor <span class=\"token operator\">=</span> <span class=\"token punctuation\">.</span>lightGray <span class=\"token punctuation\">}</span>\n\n        <span class=\"token comment\">// We can change the container insets if we want</span>\n        inputTextView<span class=\"token punctuation\">.</span>textContainerInset <span class=\"token operator\">=</span> <span class=\"token function\">UIEdgeInsets</span><span class=\"token punctuation\">(</span>top<span class=\"token punctuation\">:</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">left</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> bottom<span class=\"token punctuation\">:</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">right</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n        inputTextView<span class=\"token punctuation\">.</span>placeholderLabelInsets <span class=\"token operator\">=</span> <span class=\"token function\">UIEdgeInsets</span><span class=\"token punctuation\">(</span>top<span class=\"token punctuation\">:</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">left</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> bottom<span class=\"token punctuation\">:</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">right</span><span class=\"token punctuation\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">let</span> maxSizeItem <span class=\"token operator\">=</span> <span class=\"token function\">InputBarButtonItem</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span>configure <span class=\"token punctuation\">{</span>\n                $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span>image <span class=\"token operator\">=</span> <span class=\"token function\">UIImage</span><span class=\"token punctuation\">(</span>named<span class=\"token punctuation\">:</span> <span class=\"token string\">\"icons8-expand\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">withRenderingMode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span>alwaysTemplate<span class=\"token punctuation\">)</span>\n                $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span>tintColor <span class=\"token operator\">=</span> <span class=\"token punctuation\">.</span>darkGray\n                $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token function\">setSize</span><span class=\"token punctuation\">(</span><span class=\"token function\">CGSize</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> animated<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span>onSelected <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">let</span> oldValue <span class=\"token operator\">=</span> $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span>inputBarAccessoryView<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span>shouldForceTextViewMaxHeight <span class=\"token operator\">?</span><span class=\"token operator\">?</span> <span class=\"token boolean\">false</span>\n                $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span>image <span class=\"token operator\">=</span> oldValue <span class=\"token operator\">?</span> <span class=\"token function\">UIImage</span><span class=\"token punctuation\">(</span>named<span class=\"token punctuation\">:</span> <span class=\"token string\">\"icons8-expand\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">withRenderingMode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span>alwaysTemplate<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> <span class=\"token function\">UIImage</span><span class=\"token punctuation\">(</span>named<span class=\"token punctuation\">:</span> <span class=\"token string\">\"icons8-collapse\"</span><span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">withRenderingMode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span>alwaysTemplate<span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">setShouldForceMaxTextViewHeight</span><span class=\"token punctuation\">(</span>to<span class=\"token punctuation\">:</span> <span class=\"token operator\">!</span>oldValue<span class=\"token punctuation\">,</span> animated<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n        rightStackView<span class=\"token punctuation\">.</span>alignment <span class=\"token operator\">=</span> <span class=\"token punctuation\">.</span>top\n        <span class=\"token function\">setStackViewItems</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>maxSizeItem<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> forStack<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span><span class=\"token keyword\">right</span><span class=\"token punctuation\">,</span> animated<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">setRightStackViewWidthConstant</span><span class=\"token punctuation\">(</span>to<span class=\"token punctuation\">:</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span> animated<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token comment\">// Finally set the items</span>\n        <span class=\"token function\">setStackViewItems</span><span class=\"token punctuation\">(</span>items<span class=\"token punctuation\">,</span> forStack<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span>bottom<span class=\"token punctuation\">,</span> animated<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n\n        shouldAnimateTextDidChangeLayout <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function\">makeButton</span><span class=\"token punctuation\">(</span>named<span class=\"token punctuation\">:</span> <span class=\"token builtin\">String</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">InputBarButtonItem</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">InputBarButtonItem</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span>configure <span class=\"token punctuation\">{</span>\n                $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span>spacing <span class=\"token operator\">=</span> <span class=\"token punctuation\">.</span><span class=\"token function\">fixed</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n                $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span>image <span class=\"token operator\">=</span> <span class=\"token function\">UIImage</span><span class=\"token punctuation\">(</span>named<span class=\"token punctuation\">:</span> named<span class=\"token punctuation\">)</span><span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">withRenderingMode</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span>alwaysTemplate<span class=\"token punctuation\">)</span>\n                $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span><span class=\"token function\">setSize</span><span class=\"token punctuation\">(</span><span class=\"token function\">CGSize</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> animated<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span>onSelected <span class=\"token punctuation\">{</span>\n                $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span>tintColor <span class=\"token operator\">=</span> <span class=\"token punctuation\">.</span>systemBlue\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span>onDeselected <span class=\"token punctuation\">{</span>\n                $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span>tintColor <span class=\"token operator\">=</span> <span class=\"token builtin\">UIColor</span><span class=\"token punctuation\">.</span>lightGray\n            <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Sau đó ta tạo một instance của SlackInputBar ở MessageController và setup cho nó như sau:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-swift line-numbers\"><code class=\"language-swift\"><span class=\"token keyword\">lazy</span> <span class=\"token keyword\">var</span> slackInputBar <span class=\"token operator\">=</span> <span class=\"token function\">SlackInputBar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">configureMessageInputBar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    slackInputBar<span class=\"token punctuation\">.</span>slackDelegate <span class=\"token operator\">=</span> <span class=\"token keyword\">self</span>\n    slackInputBar<span class=\"token punctuation\">.</span>delegate <span class=\"token operator\">=</span> <span class=\"token keyword\">self</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Để hiển thị được SlackInputBar thì cần setup như sau ở ViewController:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-swift line-numbers\"><code class=\"language-swift\"><span class=\"token keyword\">override</span> <span class=\"token keyword\">var</span> inputAccessoryView<span class=\"token punctuation\">:</span> <span class=\"token builtin\">UIView</span><span class=\"token operator\">?</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> messageVC<span class=\"token punctuation\">.</span>slackInputBar\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">override</span> <span class=\"token keyword\">var</span> canBecomeFirstResponder<span class=\"token punctuation\">:</span> <span class=\"token builtin\">Bool</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Lúc này, khi run app, ta có thể nhận được màn hình màn Chat như sau:\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/051dda9f8c50212623256c3c77ab3983/8efc2/chat_init.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 216.57142857142856%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAArCAYAAAB4pah1AAAACXBIWXMAAAsSAAALEgHS3X78AAABeElEQVRIx+1X246CQAyd//8m133SRGT/QRGM4oKsMNyh21N3yEp0DYkP+zBNTjrTaU9beGlVkef0lSQU+D7FcURlUVCuNcEOfQ/mDTq9XCQ2CHyxqaosKTweae045G23VFfVEAjypq7FZjBOGEcRfbguOasVFSDEA5y6tuWAcnCGLTmfaed5kvBwONA+CMSGN/j8jm2bRu4KBDrLKEtT0bnORKNyf7ejt9lMsr/P5+Su19IFSOBjgFgg57NqmBltDWiAhmo+d11HkL7vBRDppL76XH1vYxU9EUM0Pj8SZbK/Ck8rnCqW0BJaQktoCS2hJbSEEwj/7WwzEL6qsqFlDJUwQE9BizGYYe5mCBXCgkfcqe2NzymPxOARwpLn6fG3eNZexRsBAEGlOEMrMC+XSwrD8CajaWvcKtqCeLwduLxOdF1Pp9MnRVHMVf4M7QkvPvgG4wH9L0F7cRyLr9Y5QwuHuvfrTQWofMUrhYHDy9FisaDNZvMw0TeHiUlsF/s+pAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ViewController\"\n        title=\"ViewController\"\n        src=\"/static/051dda9f8c50212623256c3c77ab3983/8c557/chat_init.png\"\n        srcset=\"/static/051dda9f8c50212623256c3c77ab3983/4edbd/chat_init.png 175w,\n/static/051dda9f8c50212623256c3c77ab3983/13ae7/chat_init.png 350w,\n/static/051dda9f8c50212623256c3c77ab3983/8c557/chat_init.png 700w,\n/static/051dda9f8c50212623256c3c77ab3983/8efc2/chat_init.png 828w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\nTiếp theo, ta sẽ cần implement phần Chat, ta làm phần này trên class MessageController. Tuy nhiên trước tiên cần phải implement hai model là User và Message.\n<strong>User</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-swift line-numbers\"><code class=\"language-swift\"><span class=\"token keyword\">import</span> <span class=\"token builtin\">MessageKit</span>\n<span class=\"token keyword\">import</span> <span class=\"token builtin\">Foundation</span>\n\n<span class=\"token keyword\">struct</span> <span class=\"token builtin\">User</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">SenderType</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> senderId<span class=\"token punctuation\">:</span> <span class=\"token builtin\">String</span>\n    <span class=\"token keyword\">var</span> displayName<span class=\"token punctuation\">:</span> <span class=\"token builtin\">String</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>Message</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-swift line-numbers\"><code class=\"language-swift\"><span class=\"token keyword\">import</span> <span class=\"token builtin\">Foundation</span>\n<span class=\"token keyword\">import</span> <span class=\"token builtin\">MessageKit</span>\n<span class=\"token keyword\">import</span> <span class=\"token builtin\">UIKit</span>\n\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">struct</span> <span class=\"token builtin\">ImageMediaItem</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">MediaItem</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> url<span class=\"token punctuation\">:</span> <span class=\"token constant\">URL</span><span class=\"token operator\">?</span>\n    <span class=\"token keyword\">var</span> image<span class=\"token punctuation\">:</span> <span class=\"token builtin\">UIImage</span><span class=\"token operator\">?</span>\n    <span class=\"token keyword\">var</span> placeholderImage<span class=\"token punctuation\">:</span> <span class=\"token builtin\">UIImage</span>\n    <span class=\"token keyword\">var</span> size<span class=\"token punctuation\">:</span> <span class=\"token builtin\">CGSize</span>\n\n    <span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">:</span> <span class=\"token builtin\">UIImage</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>image <span class=\"token operator\">=</span> image\n        size <span class=\"token operator\">=</span> <span class=\"token function\">CGSize</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">:</span> <span class=\"token number\">240</span><span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">:</span> <span class=\"token number\">240</span><span class=\"token punctuation\">)</span>\n        placeholderImage <span class=\"token operator\">=</span> <span class=\"token function\">UIImage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span>imageURL<span class=\"token punctuation\">:</span> <span class=\"token constant\">URL</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        url <span class=\"token operator\">=</span> imageURL\n        size <span class=\"token operator\">=</span> <span class=\"token function\">CGSize</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">:</span> <span class=\"token number\">240</span><span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">:</span> <span class=\"token number\">240</span><span class=\"token punctuation\">)</span>\n        placeholderImage <span class=\"token operator\">=</span> <span class=\"token function\">UIImage</span><span class=\"token punctuation\">(</span>imageLiteralResourceName<span class=\"token punctuation\">:</span> <span class=\"token string\">\"image_message_placeholder\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">struct</span> <span class=\"token builtin\">Message</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">MessageType</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> sender<span class=\"token punctuation\">:</span> <span class=\"token builtin\">SenderType</span>\n    <span class=\"token keyword\">var</span> messageId<span class=\"token punctuation\">:</span> <span class=\"token builtin\">String</span>\n    <span class=\"token keyword\">var</span> sentDate<span class=\"token punctuation\">:</span> <span class=\"token builtin\">Date</span>\n    <span class=\"token keyword\">var</span> kind<span class=\"token punctuation\">:</span> <span class=\"token builtin\">MessageKind</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span>sender<span class=\"token punctuation\">:</span> <span class=\"token builtin\">SenderType</span><span class=\"token punctuation\">,</span> messageId<span class=\"token punctuation\">:</span> <span class=\"token builtin\">String</span><span class=\"token punctuation\">,</span> sentDate<span class=\"token punctuation\">:</span> <span class=\"token builtin\">Date</span><span class=\"token punctuation\">,</span> kind<span class=\"token punctuation\">:</span> <span class=\"token builtin\">MessageKind</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>sender <span class=\"token operator\">=</span> sender\n        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>messageId <span class=\"token operator\">=</span> messageId\n        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>sentDate <span class=\"token operator\">=</span> sentDate\n        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>kind <span class=\"token operator\">=</span> kind\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span>sender<span class=\"token punctuation\">:</span> <span class=\"token builtin\">SenderType</span><span class=\"token punctuation\">,</span> messageId<span class=\"token punctuation\">:</span> <span class=\"token builtin\">String</span><span class=\"token punctuation\">,</span> sentDate<span class=\"token punctuation\">:</span> <span class=\"token builtin\">Date</span><span class=\"token punctuation\">,</span> text<span class=\"token punctuation\">:</span> <span class=\"token builtin\">String</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span>sender<span class=\"token punctuation\">:</span> sender<span class=\"token punctuation\">,</span> messageId<span class=\"token punctuation\">:</span> messageId<span class=\"token punctuation\">,</span> sentDate<span class=\"token punctuation\">:</span> sentDate<span class=\"token punctuation\">,</span> kind<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span>sender<span class=\"token punctuation\">:</span> <span class=\"token builtin\">SenderType</span><span class=\"token punctuation\">,</span> messageId<span class=\"token punctuation\">:</span> <span class=\"token builtin\">String</span><span class=\"token punctuation\">,</span> sentDate<span class=\"token punctuation\">:</span> <span class=\"token builtin\">Date</span><span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">:</span> <span class=\"token builtin\">UIImage</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">let</span> mediaItem <span class=\"token operator\">=</span> <span class=\"token function\">ImageMediaItem</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">:</span> image<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">init</span><span class=\"token punctuation\">(</span>sender<span class=\"token punctuation\">:</span> sender<span class=\"token punctuation\">,</span> messageId<span class=\"token punctuation\">:</span> messageId<span class=\"token punctuation\">,</span> sentDate<span class=\"token punctuation\">:</span> sentDate<span class=\"token punctuation\">,</span> kind<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span><span class=\"token function\">photo</span><span class=\"token punctuation\">(</span>mediaItem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Ở MessageController ta cần implement những protocol sau:  MessagesDataSource, MessageCellDelegate, InputBarAccessoryViewDelegate, MessagesDisplayDelegate, MessagesLayoutDelegate, SlackInputBarDelegate, UIImagePickerControllerDelegate, UINavigationControllerDelegate.\nMessagesDataSource cung cấp những phương thức để truyền data vào cho các Cell. Ví dụ như sau:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-swift line-numbers\"><code class=\"language-swift\"><span class=\"token comment\">// MARK: - MessagesDataSource</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">currentSender</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">SenderType</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> currentUser\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">messageForItem</span><span class=\"token punctuation\">(</span>at indexPath<span class=\"token punctuation\">:</span> <span class=\"token builtin\">IndexPath</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">in</span> messagesCollectionView<span class=\"token punctuation\">:</span> <span class=\"token builtin\">MessagesCollectionView</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">MessageType</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> messageList<span class=\"token punctuation\">[</span>indexPath<span class=\"token punctuation\">.</span>section<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">numberOfSections</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">in</span> messagesCollectionView<span class=\"token punctuation\">:</span> <span class=\"token builtin\">MessagesCollectionView</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">Int</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> messageList<span class=\"token punctuation\">.</span><span class=\"token builtin\">count</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>MessagesDisplayDelegate cung cấp những phương thức để custom hiển thị của một Cell. Ví dụ như sau, ta custom việc hiển thị của AvatarView:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-swift line-numbers\"><code class=\"language-swift\"><span class=\"token comment\">// MARK: - MessagesDisplayDelegate</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">configureAvatarView</span><span class=\"token punctuation\">(</span><span class=\"token number\">_</span> avatarView<span class=\"token punctuation\">:</span> <span class=\"token builtin\">AvatarView</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">for</span> message<span class=\"token punctuation\">:</span> <span class=\"token builtin\">MessageType</span><span class=\"token punctuation\">,</span> at indexPath<span class=\"token punctuation\">:</span> <span class=\"token builtin\">IndexPath</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">in</span> messagesCollectionView<span class=\"token punctuation\">:</span> <span class=\"token builtin\">MessagesCollectionView</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> message<span class=\"token punctuation\">.</span>sender<span class=\"token punctuation\">.</span>senderId <span class=\"token operator\">==</span> <span class=\"token function\">currentSender</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>senderId <span class=\"token punctuation\">{</span>\n        avatarView<span class=\"token punctuation\">.</span>isHidden <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        avatarView<span class=\"token punctuation\">.</span>backgroundColor <span class=\"token operator\">=</span> <span class=\"token punctuation\">.</span>red\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>InputBarAccessoryViewDelegate cung cấp những phương thức cho việc xử lý các tương tác của người dùng với MessageInputBar như tap send button, ... Dưới đây là việc xử lý gửi một tin nhắn do người dùng nhập từ bàn phím và bấm vào nút Send.</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-swift line-numbers\"><code class=\"language-swift\"><span class=\"token comment\">// MARK: - InputBarAccessoryViewDelegate</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">inputBar</span><span class=\"token punctuation\">(</span><span class=\"token number\">_</span> inputBar<span class=\"token punctuation\">:</span> <span class=\"token builtin\">InputBarAccessoryView</span><span class=\"token punctuation\">,</span> didPressSendButtonWith text<span class=\"token punctuation\">:</span> <span class=\"token builtin\">String</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">processInputBar</span><span class=\"token punctuation\">(</span>slackInputBar<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">processInputBar</span><span class=\"token punctuation\">(</span><span class=\"token number\">_</span> inputBar<span class=\"token punctuation\">:</span> <span class=\"token builtin\">InputBarAccessoryView</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Here we can parse for which substrings were autocompleted</span>\n    <span class=\"token keyword\">let</span> attributedText <span class=\"token operator\">=</span> inputBar<span class=\"token punctuation\">.</span>inputTextView<span class=\"token punctuation\">.</span>attributedText<span class=\"token operator\">!</span>\n    <span class=\"token keyword\">let</span> range <span class=\"token operator\">=</span> <span class=\"token function\">NSRange</span><span class=\"token punctuation\">(</span>location<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> length<span class=\"token punctuation\">:</span> attributedText<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span>\n    attributedText<span class=\"token punctuation\">.</span><span class=\"token function\">enumerateAttribute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span>autocompleted<span class=\"token punctuation\">,</span> <span class=\"token keyword\">in</span><span class=\"token punctuation\">:</span> range<span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token number\">_</span><span class=\"token punctuation\">,</span> range<span class=\"token punctuation\">,</span> <span class=\"token number\">_</span> <span class=\"token keyword\">in</span>\n\n        <span class=\"token keyword\">let</span> substring <span class=\"token operator\">=</span> attributedText<span class=\"token punctuation\">.</span><span class=\"token function\">attributedSubstring</span><span class=\"token punctuation\">(</span>from<span class=\"token punctuation\">:</span> range<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">let</span> context <span class=\"token operator\">=</span> substring<span class=\"token punctuation\">.</span><span class=\"token function\">attribute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">.</span>autocompletedContext<span class=\"token punctuation\">,</span> at<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> effectiveRange<span class=\"token punctuation\">:</span> <span class=\"token constant\">nil</span><span class=\"token punctuation\">)</span>\n        <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Autocompleted: `\"</span><span class=\"token punctuation\">,</span> substring<span class=\"token punctuation\">,</span> <span class=\"token string\">\"` with context: \"</span><span class=\"token punctuation\">,</span> context <span class=\"token operator\">?</span><span class=\"token operator\">?</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">let</span> components <span class=\"token operator\">=</span> inputBar<span class=\"token punctuation\">.</span>inputTextView<span class=\"token punctuation\">.</span>components\n    inputBar<span class=\"token punctuation\">.</span>inputTextView<span class=\"token punctuation\">.</span>text <span class=\"token operator\">=</span> <span class=\"token function\">String</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    inputBar<span class=\"token punctuation\">.</span><span class=\"token function\">invalidatePlugins</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// Send button activity animation</span>\n    inputBar<span class=\"token punctuation\">.</span>sendButton<span class=\"token punctuation\">.</span><span class=\"token function\">startAnimating</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    inputBar<span class=\"token punctuation\">.</span>inputTextView<span class=\"token punctuation\">.</span>placeholder <span class=\"token operator\">=</span> <span class=\"token string\">\"Sending...\"</span>\n    <span class=\"token comment\">// Resign first responder for iPad split view</span>\n    inputBar<span class=\"token punctuation\">.</span>inputTextView<span class=\"token punctuation\">.</span><span class=\"token function\">resignFirstResponder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token builtin\">DispatchQueue</span><span class=\"token punctuation\">.</span><span class=\"token function\">global</span><span class=\"token punctuation\">(</span>qos<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">.</span><span class=\"token keyword\">default</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>async <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// fake send request task</span>\n        <span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n        <span class=\"token builtin\">DispatchQueue</span><span class=\"token punctuation\">.</span>main<span class=\"token punctuation\">.</span>async <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">weak</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">in</span>\n            inputBar<span class=\"token punctuation\">.</span>sendButton<span class=\"token punctuation\">.</span><span class=\"token function\">stopAnimating</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            inputBar<span class=\"token punctuation\">.</span>inputTextView<span class=\"token punctuation\">.</span>placeholder <span class=\"token operator\">=</span> <span class=\"token string\">\"Aa\"</span>\n            <span class=\"token keyword\">self</span><span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">insertMessages</span><span class=\"token punctuation\">(</span>components<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">self</span><span class=\"token operator\">?</span><span class=\"token punctuation\">.</span>messagesCollectionView<span class=\"token punctuation\">.</span><span class=\"token function\">scrollToLastItem</span><span class=\"token punctuation\">(</span>animated<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">func</span> <span class=\"token function\">insertMessages</span><span class=\"token punctuation\">(</span><span class=\"token number\">_</span> data<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token builtin\">Any</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">for</span> object <span class=\"token keyword\">in</span> data <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> text <span class=\"token operator\">=</span> object <span class=\"token keyword\">as</span><span class=\"token operator\">?</span> <span class=\"token builtin\">String</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">let</span> message <span class=\"token operator\">=</span> <span class=\"token function\">Message</span><span class=\"token punctuation\">(</span>sender<span class=\"token punctuation\">:</span> currentUser<span class=\"token punctuation\">,</span> messageId<span class=\"token punctuation\">:</span> <span class=\"token function\">String</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">Int</span><span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">in</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token operator\">&lt;</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> sentDate<span class=\"token punctuation\">:</span> <span class=\"token function\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> text<span class=\"token punctuation\">:</span> text<span class=\"token punctuation\">)</span>\n            <span class=\"token function\">insertMessage</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> image <span class=\"token operator\">=</span> object <span class=\"token keyword\">as</span><span class=\"token operator\">?</span> <span class=\"token builtin\">UIImage</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">let</span> message <span class=\"token operator\">=</span> <span class=\"token function\">Message</span><span class=\"token punctuation\">(</span>sender<span class=\"token punctuation\">:</span> currentUser<span class=\"token punctuation\">,</span> messageId<span class=\"token punctuation\">:</span> <span class=\"token function\">String</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">Int</span><span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">in</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token operator\">&lt;</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> sentDate<span class=\"token punctuation\">:</span> <span class=\"token function\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">:</span> image<span class=\"token punctuation\">)</span>\n            <span class=\"token function\">insertMessage</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">insertMessage</span><span class=\"token punctuation\">(</span><span class=\"token number\">_</span> message<span class=\"token punctuation\">:</span> <span class=\"token builtin\">Message</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    messageList<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// Reload last section to update header/footer labels and insert a new one</span>\n    messagesCollectionView<span class=\"token punctuation\">.</span><span class=\"token function\">performBatchUpdates</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        messagesCollectionView<span class=\"token punctuation\">.</span><span class=\"token function\">insertSections</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>messageList<span class=\"token punctuation\">.</span><span class=\"token builtin\">count</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">if</span> messageList<span class=\"token punctuation\">.</span><span class=\"token builtin\">count</span> <span class=\"token operator\">>=</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">{</span>\n            messagesCollectionView<span class=\"token punctuation\">.</span><span class=\"token function\">reloadSections</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>messageList<span class=\"token punctuation\">.</span><span class=\"token builtin\">count</span> <span class=\"token operator\">-</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> completion<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">weak</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">]</span> <span class=\"token number\">_</span> <span class=\"token keyword\">in</span>\n        <span class=\"token keyword\">if</span> <span class=\"token keyword\">self</span><span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">isLastSectionVisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">self</span><span class=\"token operator\">?</span><span class=\"token punctuation\">.</span>messagesCollectionView<span class=\"token punctuation\">.</span><span class=\"token function\">scrollToLastItem</span><span class=\"token punctuation\">(</span>animated<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">isLastSectionVisible</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">Bool</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">guard</span> <span class=\"token operator\">!</span>messageList<span class=\"token punctuation\">.</span><span class=\"token builtin\">isEmpty</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">let</span> lastIndexPath <span class=\"token operator\">=</span> <span class=\"token function\">IndexPath</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> section<span class=\"token punctuation\">:</span> messageList<span class=\"token punctuation\">.</span><span class=\"token builtin\">count</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> messagesCollectionView<span class=\"token punctuation\">.</span>indexPathsForVisibleItems<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span>lastIndexPath<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Để gửi một tin nhắn thì ta cần xác định được model Message là gì, rồi add vào array messageList và reload collectionView, MessageKit sẽ tự làm những việc còn lại.\nSlackInputBarDelegate cung cấp hai func cho việc xử lý việc user tap và nút camera và nút show library.</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-swift line-numbers\"><code class=\"language-swift\"><span class=\"token comment\">// MARK: - SlackInputBarDelegate</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">slackInputBar</span><span class=\"token punctuation\">(</span><span class=\"token number\">_</span> view<span class=\"token punctuation\">:</span> <span class=\"token builtin\">SlackInputBar</span><span class=\"token punctuation\">,</span> didTapCameraButton button<span class=\"token punctuation\">:</span> <span class=\"token builtin\">InputBarButtonItem</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Show camera\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">slackinputBar</span><span class=\"token punctuation\">(</span><span class=\"token number\">_</span> view<span class=\"token punctuation\">:</span> <span class=\"token builtin\">SlackInputBar</span><span class=\"token punctuation\">,</span> didTapLibraryButton button<span class=\"token punctuation\">:</span> <span class=\"token builtin\">InputBarButtonItem</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> pickerVC <span class=\"token operator\">=</span> <span class=\"token function\">UIImagePickerController</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    pickerVC<span class=\"token punctuation\">.</span>sourceType <span class=\"token operator\">=</span> <span class=\"token punctuation\">.</span>photoLibrary\n    pickerVC<span class=\"token punctuation\">.</span>modalPresentationStyle <span class=\"token operator\">=</span> <span class=\"token punctuation\">.</span>fullScreen\n    pickerVC<span class=\"token punctuation\">.</span>delegate <span class=\"token operator\">=</span> <span class=\"token keyword\">self</span>\n    pickerVC<span class=\"token punctuation\">.</span>allowsEditing <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n    viewController<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">present</span><span class=\"token punctuation\">(</span>pickerVC<span class=\"token punctuation\">,</span> animated<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> completion<span class=\"token punctuation\">:</span> <span class=\"token constant\">nil</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Sau khi user chọn ảnh ở Photo library xong thì chỉ cần tạo một message và insert vào là xong.</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-swift line-numbers\"><code class=\"language-swift\"><span class=\"token comment\">// MARKL - UIImagePickerControllerDelegate</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">imagePickerControllerDidCancel</span><span class=\"token punctuation\">(</span><span class=\"token number\">_</span> picker<span class=\"token punctuation\">:</span> <span class=\"token builtin\">UIImagePickerController</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    picker<span class=\"token punctuation\">.</span><span class=\"token function\">dismiss</span><span class=\"token punctuation\">(</span>animated<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> completion<span class=\"token punctuation\">:</span> <span class=\"token constant\">nil</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">imagePickerController</span><span class=\"token punctuation\">(</span><span class=\"token number\">_</span> picker<span class=\"token punctuation\">:</span> <span class=\"token builtin\">UIImagePickerController</span><span class=\"token punctuation\">,</span> didFinishPickingMediaWithInfo info<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token builtin\">UIImagePickerController</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">InfoKey</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">Any</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">guard</span> <span class=\"token keyword\">let</span> image <span class=\"token operator\">=</span> info<span class=\"token punctuation\">[</span><span class=\"token punctuation\">.</span>editedImage<span class=\"token punctuation\">]</span> <span class=\"token keyword\">as</span><span class=\"token operator\">?</span> <span class=\"token builtin\">UIImage</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span>\n    <span class=\"token punctuation\">}</span>\n    picker<span class=\"token punctuation\">.</span><span class=\"token function\">dismiss</span><span class=\"token punctuation\">(</span>animated<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">weak</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">in</span>\n        <span class=\"token keyword\">guard</span> <span class=\"token keyword\">let</span> <span class=\"token keyword\">self</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">self</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">return</span> <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">let</span> message <span class=\"token operator\">=</span> <span class=\"token function\">Message</span><span class=\"token punctuation\">(</span>sender<span class=\"token punctuation\">:</span> <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span>currentUser<span class=\"token punctuation\">,</span> messageId<span class=\"token punctuation\">:</span> <span class=\"token function\">String</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">Int</span><span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">in</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token operator\">&lt;</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> sentDate<span class=\"token punctuation\">:</span> <span class=\"token function\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">:</span> image<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">self</span><span class=\"token punctuation\">.</span><span class=\"token function\">insertMessage</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Xong xuôi, app của mình hiện giờ đã có thể gửi text và gửi ảnh như đây:\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 634px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6fc333b23d0f0c42852b803958290b16/14369/result.webp\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 202.28571428571428%; position: relative; bottom: 0; left: 0; background-image: url('data:image/webp;base64,UklGRsAAAABXRUJQVlA4ILQAAAAwBgCdASoUACgAPslWpUunpSOhsBqqqPAZCWMAuMjSR/iCnEMgl7LycQeoDURNnqsWKU8VDFjYqQQAAP5BN9O3C6e54rC4A6eD0f73Ha/ffoiZAFXdfAE0ps+iRglrqtLvNvTp/CfBE31Fx27noG3gtSJAkyLoBBJAIO/FTZcTmTMxYaY8QPmJD3Hgp2P95SjbDGfXtDFNJFrQ53pVp4q37zvgsUdlEdO9tD+Cz+U/pNkAAAA='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Kết quả\"\n        title=\"Kết quả\"\n        src=\"/static/6fc333b23d0f0c42852b803958290b16/14369/result.webp\"\n        srcset=\"/static/6fc333b23d0f0c42852b803958290b16/c54d4/result.webp 175w,\n/static/6fc333b23d0f0c42852b803958290b16/a3432/result.webp 350w,\n/static/6fc333b23d0f0c42852b803958290b16/14369/result.webp 634w\"\n        sizes=\"(max-width: 634px) 100vw, 634px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\nTrên đây là một số hiểu biết của mình về MessageKit, mọi người nếu có ý kiến gì có thể comment ở phía dưới. Cảm ơn và hẹn gặp lại.\nHappy Reading!!!\n[[author | Manh Hung Nguyen. ]]</p>","id":"327cf7c5-76e0-5624-a407-bf0dd191ef8f","frontmatter":{"title":"MessageKit in iOS","date":"07-03-2021","tags":["ios","swift"]},"fields":{"slug":"/tim-hieu-messagekit/","readingTime":{"text":"10 min read"}}}},{"node":{"excerpt":"Bộ quy tắc này được tạo ra nhằm giảm bới những khó khăn trong việc đọc code của người khác. Nó thực hiện điều đó bằng cách đặt ra những quy định hay gợi ý về việc format PHP code.   1. Khái quát chung…","snippet":"<html><head></head><body><p>B&#x1ED9; quy t&#x1EAF;c n&#xE0;y &#x111;&#x1B0;&#x1EE3;c t&#x1EA1;o ra nh&#x1EB1;m gi&#x1EA3;m b&#x1EDB;i nh&#x1EEF;ng kh&#xF3; kh&#x103;n trong vi&#x1EC7;c &#x111;&#x1ECD;c code<br> c&#x1EE7;a ng&#x1B0;&#x1EDD;i kh&#xE1;c. N&#xF3; th&#x1EF1;c hi&#x1EC7;n &#x111;i&#x1EC1;u &#x111;&#xF3; b&#x1EB1;ng c&#xE1;ch &#x111;&#x1EB7;t ra nh&#x1EEF;ng quy &#x111;&#x1ECB;nh hay g&#x1EE3;i<br> &#xFD; v&#x1EC1; vi&#x1EC7;c format PHP code. </p> <h1>1. Kh&#xE1;i qu&#xE1;t chung</h1> <ul> <li>Code ph&#x1EA3;i tu&#xE2;n theo &quot;coding style&#x2026;</li></ul></body></html>","html":"<p>Bộ quy tắc này được tạo ra nhằm giảm bới những khó khăn trong việc đọc code<br>\ncủa người khác. Nó thực hiện điều đó bằng cách đặt ra những quy định hay gợi<br>\ný về việc format PHP code.  </p>\n<h1>1. Khái quát chung</h1>\n<ul>\n<li>Code phải tuân theo \"coding style guide\" PSR [[PSR-1]].  </li>\n<li>Không có hard limit về độ dài của một dòng, không quá 120 ký tự</li>\n<li>Một dòng nên có không quá 80 chữ.  </li>\n<li>Cần phải có một dòng trống ở sau phần khai báo <code class=\"language-text\">namespace</code>. Ngoài ra cũng cần có<br>\nmột dòng trống phía sau phần khai báo <code class=\"language-text\">use</code>.  </li>\n<li>Dấu mở ngặc nhọn dùng khi khai báo class phải được viết ở dòng mới (không viết cùng dòng với phần khai báo tên class),  và dấu đóng ngoặc nhọn của một class phải được viết ở dòng mới sau khi kết thúc body của class.  </li>\n<li>Dấu mở ngặc nhọn dùng khi khai báo method phải được viết ở dòng mới (không viết cùng dòng với phần khai báo tên method),  và dấu đóng ngoặc nhọn của một method phải được viết ở dòng mới sau khi kết thúc body của method.  </li>\n<li>Phải luôn khai báo tính visibility (<code class=\"language-text\">public</code>, <code class=\"language-text\">protected</code> hay là <code class=\"language-text\">private</code>) của properties cũng như methods.<br>\n<code class=\"language-text\">abstract</code> và <code class=\"language-text\">final</code> phải được khai báo phía trước tính visibility và <code class=\"language-text\">static</code> phải được khai báo sau tính visibility.  </li>\n<li>Cần phải có một dấu cách phía sau những từ khoá Control structure (như <code class=\"language-text\">if</code>, <code class=\"language-text\">else</code>, <code class=\"language-text\">for</code> ...).<br>\nKhông được có dấu cách phía sau tên của method khi gọi hàm.  </li>\n<li>Dấu mở ngoặc nhọn cho control structures (như <code class=\"language-text\">if</code>, <code class=\"language-text\">else</code>, <code class=\"language-text\">for</code> ...) phải được viết cùng dòng, trong khi đó đấu đóng ngoặc<br>\nphải được viết ở dòng mới.  </li>\n<li>Trong câu lệnh control structures, không được phép có dấu cách ở sau dấu mở ngặc tròn cũng như ở trước dấu đóng ngoặc tròn.  </li>\n</ul>\n<h3>1.1. Ví dụ</h3>\n<p>Ví dụ dưới đây bao gồm một vài quy tắc đã được đề cập ở phần trên, overview:  </p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">namespace</span> <span class=\"token package\">Vendor<span class=\"token punctuation\">\\</span>Package</span><span class=\"token punctuation\">;</span>  \n  \n<span class=\"token keyword\">use</span> <span class=\"token package\">FooInterface</span><span class=\"token punctuation\">;</span>  \n<span class=\"token keyword\">use</span> <span class=\"token package\">BarClass</span> <span class=\"token keyword\">as</span> Bar<span class=\"token punctuation\">;</span>  \n<span class=\"token keyword\">use</span> <span class=\"token package\">OtherVendor<span class=\"token punctuation\">\\</span>OtherPackage<span class=\"token punctuation\">\\</span>BazClass</span><span class=\"token punctuation\">;</span>  \n  \n<span class=\"token comment\">/**\n * Class Foo.\n *\n * @package App\\Controller\n */</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Foo</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Bar</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">FooInterface</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/**\n     * Comment sample function.\n     * \n     * @param int      $a A comment.\n     * @param int|null $b B comment.\n     *                    \n     * @return void\n     */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">sampleFunction</span><span class=\"token punctuation\">(</span>int <span class=\"token variable\">$a</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$b</span> <span class=\"token operator\">=</span> <span class=\"token constant\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> void \n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$a</span> <span class=\"token operator\">===</span> <span class=\"token variable\">$b</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token function\">bar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">elseif</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$a</span> <span class=\"token operator\">></span> <span class=\"token variable\">$b</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token variable\">$foo</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">bar</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$arg1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            BazClass<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">bar</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$arg2</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$arg3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">/**\n     * Method bar.\n     * \n     * @return void\n     */</span>\n    <span class=\"token keyword\">final</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">function</span> <span class=\"token function\">bar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> void \n    <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// method body</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>  </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1>2. Tổng thể</h1>\n<h3>2.1 Basic Coding Standard</h3>\n<p>Code phải tuân theo \"coding style guide\" PSR [[PSR-1]].  </p>\n<h3>2.2 Files</h3>\n<p>Mọi PHP files phải kết thúc bằng một dòng trống.  </p>\n<p>Trong một file chỉ bao gồm code PHP thì không được viết tag đóng <code class=\"language-text\">?&gt;</code>.  </p>\n<h3>2.3. Lines</h3>\n<p>Không có hard limit về độ dài của một dòng.  </p>\n<p>Soft limit của độ dài một dòng phải là 120 chữ. </p>\n<p>Chương trình check style tự động phải báo warning nhưng không được báo error khi vượt quá soft limit.  </p>\n<p>Một dòng nên có không quá 80 chữ. Dòng mà dài quá 80 chữ thì nên chia nhỏ ra thành nhiều dòng với độ dài mỗi dòng không quá 80 chữ.  </p>\n<p>Một dòng không trống không được phép có trailing whitespace (dấu cách ở cuối dòng)  </p>\n<p>Dòng trống có thể được thêm vào để code có thể được dễ đọc hơn và để phân cách những đoạn code.  </p>\n<p>Không được phép có quá một statement trên một dòng.  </p>\n<h3>2.4. Canh lề - Indenting</h3>\n<p>Code không dùng tab, mà phải sử dụng 4 dấu cách làm indent.  </p>\n<h3>2.5. Keywords và True/False/Null</h3>\n<p>Những <a href=\"http://php.net/manual/en/reserved.keywords.php\">keywords</a> của PHP phải được viết thường. (không viết hoa)  </p>\n<p>Những constants của PHP là <code class=\"language-text\">true</code>, <code class=\"language-text\">false</code>, và <code class=\"language-text\">null</code> cũng cần phải viết thường.  </p>\n<h1>3. Khai báo Namespace và Use</h1>\n<p>Cần phải có một dòng trắng phía sau khai báo <code class=\"language-text\">namespace</code>.  </p>\n<p>Những phần khai báo <code class=\"language-text\">use</code> phải được đặt phía sau phần khai báo <code class=\"language-text\">namespace</code>.  </p>\n<p>Phải dùng một từ <code class=\"language-text\">use</code> cho mỗi khao báo.  </p>\n<p>Phải có một dòng trắng phía sau đoạn code <code class=\"language-text\">use</code>.  </p>\n<p>Ví dụ:  </p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">namespace</span> <span class=\"token package\">Vendor<span class=\"token punctuation\">\\</span>Package</span><span class=\"token punctuation\">;</span>  \n  \n<span class=\"token keyword\">use</span> <span class=\"token package\">FooClass</span><span class=\"token punctuation\">;</span>  \n<span class=\"token keyword\">use</span> <span class=\"token package\">BarClass</span> <span class=\"token keyword\">as</span> Bar<span class=\"token punctuation\">;</span>  \n<span class=\"token keyword\">use</span> <span class=\"token package\">OtherVendor<span class=\"token punctuation\">\\</span>OtherPackage<span class=\"token punctuation\">\\</span>BazClass</span><span class=\"token punctuation\">;</span>  \n  \n<span class=\"token comment\">// ... additional PHP code ...  </span>\n  </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1>4. Classes, Properties, và Methods</h1>\n<p>Từ class dưới đây được hiểu là cả những class bình thường, hay cả interfaces và traits.  </p>\n<h3>4.1. Extends và Implements</h3>\n<p>Từ khoá <code class=\"language-text\">extends</code> và <code class=\"language-text\">implements</code> phải được viết cùng dòng với tên class.  </p>\n<p>Dấu mở ngoặc nhọn của class phải đứng trên một dòng riêng. Dấu đóng ngoặc phải được viết ở dòng sau của phần body.  </p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">namespace</span> <span class=\"token package\">Vendor<span class=\"token punctuation\">\\</span>Package</span><span class=\"token punctuation\">;</span>  \n  \n<span class=\"token keyword\">use</span> <span class=\"token package\">FooClass</span><span class=\"token punctuation\">;</span>  \n<span class=\"token keyword\">use</span> <span class=\"token package\">BarClass</span> <span class=\"token keyword\">as</span> Bar<span class=\"token punctuation\">;</span>  \n<span class=\"token keyword\">use</span> <span class=\"token package\">OtherVendor<span class=\"token punctuation\">\\</span>OtherPackage<span class=\"token punctuation\">\\</span>BazClass</span><span class=\"token punctuation\">;</span>  \n  \n<span class=\"token comment\">/**\n * Class ClassName.\n *\n * @package App\\Controller.\n */</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ClassName</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">ParentClass</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\"><span class=\"token punctuation\">\\</span>ArrayAccess</span><span class=\"token punctuation\">,</span> \\<span class=\"token package\">Countable</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// constants, properties, methods</span>\n<span class=\"token punctuation\">}</span>  </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Danh sách những interface được <code class=\"language-text\">implements</code> có thể được viết trên nhiều dòng, trong đó mỗi dòng theo sau được indent 1 lần.  </p>\n<p>Khi thực hiện việc đó thì tên interface đầu tiên phải được đặt trên 1 dòng mới, và mỗi dòng chỉ được phép chứa tên 1 interface.  </p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">namespace</span> <span class=\"token package\">Vendor<span class=\"token punctuation\">\\</span>Package</span><span class=\"token punctuation\">;</span>  \n  \n<span class=\"token keyword\">use</span> <span class=\"token package\">FooClass</span><span class=\"token punctuation\">;</span>  \n<span class=\"token keyword\">use</span> <span class=\"token package\">BarClass</span> <span class=\"token keyword\">as</span> Bar<span class=\"token punctuation\">;</span>  \n<span class=\"token keyword\">use</span> <span class=\"token package\">OtherVendor<span class=\"token punctuation\">\\</span>OtherPackage<span class=\"token punctuation\">\\</span>BazClass</span><span class=\"token punctuation\">;</span>  \n  \n<span class=\"token comment\">/**\n * Class ClassName.\n *\n * @package App\\Controller\n */</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ClassName</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">ParentClass</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\"><span class=\"token punctuation\">\\</span>ArrayAccess</span><span class=\"token punctuation\">,</span> \\<span class=\"token package\">Countable</span><span class=\"token punctuation\">,</span> \\<span class=\"token package\">Serializable</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// constants, properties, methods</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3>4.2. Properties</h3>\n<p>Tính Visibility phải được khai báo ở mọi properties.  </p>\n<p>Không được dùng từ khoá <code class=\"language-text\">var</code> để khai báo một property.  </p>\n<p>Trong một câu thì không được khai báo quá một property.  </p>\n<p>Tên property không nên được prefix bởi dấu gạch dưới <code class=\"language-text\">_</code> để biểu thị tính protected hay private.  </p>\n<p>Khai báo property giống như sau.  </p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">namespace</span> <span class=\"token package\">Vendor<span class=\"token punctuation\">\\</span>Package</span><span class=\"token punctuation\">;</span>  \n  \n<span class=\"token comment\">/**\n * Class ClassName.\n *\n * @package App\\Controller\n */</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ClassName</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/**\n     * Comment foo.\n     *\n     * @var null\n     */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token variable\">$foo</span> <span class=\"token operator\">=</span> <span class=\"token constant\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3>4.3. Methods</h3>\n<p>Tính Visibility phải được khao báo ở mọi  </p>\n<p>Tên Method không nên được prefix bởi dấu gạch dưới <code class=\"language-text\">_</code> để biểu thị tính protected hay private.  </p>\n<p>Khi khai báo tên method thì không được để một khoảng trắng ở phía sau tên method.  </p>\n<p>Dấu mở ngoặc nhọn phải được nằm trên một dòng riêng, và dấu đóng ngoặc phải được nằm trên dòng ngay sau phần thân của method.  </p>\n<p>Không được có khoảng trắng sau dấu mở ngoặc tròn, và không được có khoảng trắng phía trước dấu đóng ngoặc tròn.  </p>\n<p>Khai báo một hàm giống như sau. Chú ý đến vị trí của dấu ngặc đơn, dấu phẩy, khoảng trắng và dấu ngoặc nhọn.  </p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">namespace</span> <span class=\"token package\">Vendor<span class=\"token punctuation\">\\</span>Package</span><span class=\"token punctuation\">;</span>  \n  \n<span class=\"token comment\">/**\n * Class ClassName.\n *\n * @package App\\Controller\n */</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ClassName</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/**\n     * Method foo bar baz.\n     *\n     * @param array $arg1 Comment type arg1.\n     * @param array $arg2 Comment type arg2.\n     * @param array $arg3 Comment type arg1.\n     *                    \n     * @return void\n     */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">fooBarBaz</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">array</span> <span class=\"token variable\">$arg1</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">array</span> <span class=\"token operator\">&amp;</span><span class=\"token variable\">$arg2</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">array</span> <span class=\"token variable\">$arg3</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> void\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// method body</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3>4.4. Method Arguments</h3>\n<p>Trong danh sách argument (đối số) thì không được có khoảng trắng trước mỗi dấu phẩy, và phải có một khoảng trắng sau mỗi dấu phẩy.  </p>\n<p>Những arguments của Method mà có giá trị mặc định phải được đặt ở cuối của danh sách argument.  </p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">namespace</span> <span class=\"token package\">Vendor<span class=\"token punctuation\">\\</span>Package</span><span class=\"token punctuation\">;</span>  \n  \n<span class=\"token comment\">/**\n * Class ClassName.\n *\n * @package App\\Controller\n */</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ClassName</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/**\n     * Method foo bar baz.\n     *\n     * @param array $arg1 Comment type arg1.\n     * @param array $arg2 Comment type arg2.\n     * @param array $arg3 Comment type arg1.\n     *                    \n     * @return void\n     */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">fooBarBaz</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">array</span> <span class=\"token variable\">$arg1</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">array</span> <span class=\"token operator\">&amp;</span><span class=\"token variable\">$arg2</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">array</span> <span class=\"token variable\">$arg3</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> void\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// method body</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Danh sách argument có thể được tách thành nhiều dòng, trong đó mỗi dòng theo sau được indent một lần.<br>\nKhi làm vậy thì argument đầu tiên trong danh sách phải được đặt ở trên một dòng mới, và mỗi dòng chỉ được phép có một argument.  </p>\n<p>Khi mà danh sách argument được chia làm nhiều dòng, thì dấu đóng ngoặc tròn và dấu mở ngoặc nhọn phải được đặt cùng nhau trên một dòng, với một khoảng trắng ở giữa.  </p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">namespace</span> <span class=\"token package\">Vendor<span class=\"token punctuation\">\\</span>Package</span><span class=\"token punctuation\">;</span>  \n  \n<span class=\"token comment\">/**\n * Class ClassName.\n *\n * @package App\\Controller\n */</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ClassName</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/**\n     * Method aVeryLongMethodName.\n     * \n     * @param ClassTypeHint $arg1 Comment classTypeHint arg1.\n     * @param array         $arg2 Comment type arg1.\n     * @param array         $arg3 Comment type arg1.\n     *                            \n     * @return void\n     */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">aVeryLongMethodName</span><span class=\"token punctuation\">(</span>ClassTypeHint <span class=\"token variable\">$arg1</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">array</span> <span class=\"token operator\">&amp;</span><span class=\"token variable\">$arg2</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">array</span> <span class=\"token variable\">$arg3</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> void \n    <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//method body </span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>  </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3>4.5. <code class=\"language-text\">abstract</code>, <code class=\"language-text\">final</code>, và <code class=\"language-text\">static</code></h3>\n<p>Khi được sử dụng, <code class=\"language-text\">abstract</code> và <code class=\"language-text\">final</code> phải được đặt trước phần khai báo visibility.  </p>\n<p>Khi được sử dụng, <code class=\"language-text\">static</code> phải được đặt sau phần khai báo visibility.  </p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">namespace</span> <span class=\"token package\">Vendor<span class=\"token punctuation\">\\</span>Package</span><span class=\"token punctuation\">;</span>  \n  \n<span class=\"token comment\">/**\n * Class ClassName.\n *\n * @package App\\Controller\n */</span>\n<span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ClassName</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/**\n     * Comment foo.\n     *\n     * @var string\n     */</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token keyword\">static</span> <span class=\"token variable\">$foo</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/**\n     * Comment zim.\n     *\n     * @return mixed\n     */</span>\n    <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">protected</span> <span class=\"token keyword\">function</span> <span class=\"token function\">zim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">/**\n     * Method bar.\n     *\n     * @return void\n     */</span>\n    <span class=\"token keyword\">final</span> <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">function</span> <span class=\"token function\">bar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> void\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">//method body</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3>4.6. Gọi Method và Function</h3>\n<p>Khi gọi một method hay một function, không được phép có khoảng trắng giữa tên của method hay function và dấu mở ngoặc tròn.  </p>\n<p>Không được phép có khoảng trắng sau dấu mở ngoặc tròn.  </p>\n<p>Và không được phép có khoảng trắng trước dấu đóng ngoặc tròn.  </p>\n<p>Trong danh sách argument, không được phép có khoảng trắng trước mỗi dấu phẩy,  và phải có một khoảng trắng sau mỗi dấu phẩy.  </p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token function\">bar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n<span class=\"token variable\">$foo</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">bar</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$arg1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \nFoo<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">bar</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$arg2</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$arg3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Danh sách argument có thể được tách ra thành nhiều dòng, trong đó mỗi dòng theo sau được indent một lần.<br>\nKhi làm như vậy thì argument đầu tiên phải được đặt trên một dòng mới, và mỗi dòng chỉ được phép chứa một argument.  </p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token variable\">$foo</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">bar</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$longArgument</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$longerArgument</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$muchLongerArgument</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h1>5. Control Structures</h1>\n<p>Những quy tắc chung khi viết Control Structures bao gồm:  </p>\n<ul>\n<li>Phải có một khoảng trắng sau control structure keyword  </li>\n<li>Không được có một khoảng trắng sau dấu mở ngoặc tròn  </li>\n<li>Không được có một khoảng trắng trước dấu đóng ngoặc tròn  </li>\n<li>Phải có một khoảng trắng sau đấu đóng ngoặc tròn và trước dấu mở ngoặc nhọn  </li>\n<li>Phần thân của structure phải được indent một lần  </li>\n<li>Dấu đóng ngoặc nhọn phỉa được đặt trên một dòng mới sau phần thân  </li>\n</ul>\n<p>Phần thân của mỗi structure phải được đặt trong dấu đóng mở ngoặc kép. Điều này sẽ làm tiêu chuẩn hoá cách viết structures,  và làm giảm thiểu việc phát sinh ra lỗi khi mà có những dòng mới được thêm vào phần thân.  </p>\n<h3>5.1. <code class=\"language-text\">if</code>, <code class=\"language-text\">elseif</code>, <code class=\"language-text\">else</code></h3>\n<p>Một <code class=\"language-text\">if</code> structure được viết như sau.<br>\nHãy chú ý đến vị trí của dấu ngoặc tròn, khoảng trắng, dấu ngoặc nhọn. <code class=\"language-text\">else</code> và <code class=\"language-text\">elseif</code> được đặt trên cùng một dòng  với dấu đóng ngoặc nhọn của phần body phía trước.  </p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$expr1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//if body</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">elseif</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$expr2</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//elseif body</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">//else body;</span>\n<span class=\"token punctuation\">}</span>  </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Từ khoá <code class=\"language-text\">elseif</code> nên được dùng thay cho <code class=\"language-text\">else if</code>, để mọi control keywords chỉ là một từ đơn.  </p>\n<h3>5.2. <code class=\"language-text\">switch</code>, <code class=\"language-text\">case</code></h3>\n<p>Một <code class=\"language-text\">switch</code> structure được viết như sau.</p>\n<p>Hãy chú ý đến vị trí của dấu ngoặc tròn, khoảng trắng và dấu ngoặc nhọn.  </p>\n<p>Phần <code class=\"language-text\">case</code> phải được indent một lần so với <code class=\"language-text\">switch</code>, và <code class=\"language-text\">break</code> keyword (hay các keyword ngắt khác) phải được indent giống với phần thân của <code class=\"language-text\">case</code>.  </p>\n<p>Phải có một comment kiểu như <code class=\"language-text\">// no break</code> nếu phần thân của <code class=\"language-text\">case</code> không trống, và được cố tình cho qua (không có break)  </p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$expr</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">echo</span> <span class=\"token single-quoted-string string\">'First case, with a break'</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> <span class=\"token number\">1</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">echo</span> <span class=\"token single-quoted-string string\">'Second case, which falls through'</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// no break case 2: case 3: case 4:</span>\n        <span class=\"token comment\">// echo 'Third case, return instead of break'; </span>\n        <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">default</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">echo</span> <span class=\"token single-quoted-string string\">'Default case'</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>  </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3>5.3. <code class=\"language-text\">while</code>, <code class=\"language-text\">do while</code></h3>\n<p>Một câu lệnh <code class=\"language-text\">while</code> được viết như sau.<br>\nHãy chú ý vào vị trí của dấu ngoặc tròn, khoảng trắng và dấu ngoặc nhọn.  </p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$expr</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// structure body</span>\n<span class=\"token punctuation\">}</span>  </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Tương tự như vậy, một câu lệnh <code class=\"language-text\">do while</code> được viết như sau.<br>\nHãy chú ý vào vị trí của dấu ngoặc tròn, khoảng trắng và dấu ngoặc nhọn.  </p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">do</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// structure body;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$expr</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<h3>5.4. <code class=\"language-text\">for</code></h3>\n<p>Một câu lệnh <code class=\"language-text\">for</code> được viết như sau.<br>\nHãy chú ý vào vị trí của dấu chấm phẩy, dấu ngoặc tròn, khoảng trắng và dấu ngoặc nhọn.  </p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$i</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token variable\">$i</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span> <span class=\"token variable\">$i</span><span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// for body</span>\n<span class=\"token punctuation\">}</span>  </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<h3>5.5. <code class=\"language-text\">foreach</code></h3>\n<p>Một câu lệnh <code class=\"language-text\">foreach</code> được viết như sau.<br>\nHãy chú ý vào vị trí của <code class=\"language-text\">=&gt;</code>, dấu ngoặc tròn, khoảng trắng và dấu ngoặc nhọn.  </p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$iterable</span> <span class=\"token keyword\">as</span> <span class=\"token variable\">$key</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token variable\">$value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// foreach body</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<h3>5.6. <code class=\"language-text\">try</code>, <code class=\"language-text\">catch</code></h3>\n<p>Một block <code class=\"language-text\">try catch</code> được viết như sau.<br>\nHãy chú ý vào vị trí của dấu ngoặc tròn, khoảng trắng và dấu ngoặc nhọn.  </p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// try body</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>FirstExceptionType <span class=\"token variable\">$e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// catch body</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>OtherExceptionType <span class=\"token variable\">$e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// catch body</span>\n<span class=\"token punctuation\">}</span>  </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h1>6. Closures</h1>\n<p>Closures phải được định nghĩa mới một khoảng trắng phía sau keywork <code class=\"language-text\">function</code>, và một khoảng trắng ở phía trước cũng như phía sau của keywork <code class=\"language-text\">use</code>.  </p>\n<p>Dấu mở ngoặc ngọn phải được đặt ở cùng dòng, và dấu đóng ngoặc nhọn phải được đặt ở một dòng mời phía sau phần thân.  </p>\n<p>Không được phép có một khoảng trắng ở phía sau dấu mở ngoặc tròn của phần khai báo danh sách argument hay variable,  và không được phép có một khoảng trắng ở phía trước dấu đóng ngoặc tròn của phần khai báo danh sách argument hay variable.  </p>\n<p>Trong danh sách arugment hay variable, không được phép có khoảng trắng trước mỗi dấu phẩy, và phải có một khoảng trắng phía sau mỗi dấu phẩy.  </p>\n<p>Arguments của Closure mà có giá trị mặc định thì phải được đặt ở cuối của danh sách argument.  </p>\n<p>Cách định nghĩa một closure trông như sau.  </p>\n<p>A closure declaration looks like the following.<br>\nHãy chú ý vào vị trí của dấu ngoặc tròn, dấu phẩy, khoảng trắng và dấu ngoặc nhọn.  </p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token comment\">/**\n * Method closureWithArgs.\n *\n * @param string $arg1 Comment type arg1.\n * @param string $arg2 Comment type arg2.\n *\n * @return void.\n */</span>\n<span class=\"token variable\">$closureWithArgs</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>string <span class=\"token variable\">$arg1</span><span class=\"token punctuation\">,</span> string <span class=\"token variable\">$arg2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> void <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// body</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/**\n * Method closureWithArgsAndVars.\n *\n * @param string $arg1 Comment type arg1.\n * @param string $arg2 Comment type arg2.\n *\n * @return void.\n */</span>\n<span class=\"token variable\">$closureWithArgsAndVars</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>string <span class=\"token variable\">$arg1</span><span class=\"token punctuation\">,</span> string <span class=\"token variable\">$arg2</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">use</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$var1</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$var2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> void <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// body</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span> </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Danh sách argument và danh sách variable có thể được tách ra làm nhiều dòng, trong đó mỗi dòng theo sau được indent một lần. Khi làm như vậy thì argument hay variable đầu tiên phải được đặt ở trên một dòng mới, và mỗi dòng chỉ được phép chứa một argument hay một variable.  </p>\n<p>Khi mà kết thúc của danh sách (kể cả arguments hay variables) được chia thành nhiều dòng,<br>\nthì dấu đóng ngoặc tròn và dấu mở ngoặc nhọn phải được đặt cùng nhau trên một dòng, với một khoảng trắng ở giữa.  </p>\n<p>Dưới đây là những ví dụ về các closures có và không có danh sách argument hay variable được chia thành nhiều dòng.  </p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token comment\">/**\n * Method longArgs noVars.\n *\n * @param string $longArgument       Comment type longArgument.\n * @param string $longerArgument     Comment type longerArgument.\n * @param string $muchLongerArgument Comment type muchLongArgument.\n *\n * @return void\n */</span>\n<span class=\"token variable\">$longArgs_noVars</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>\n    string <span class=\"token variable\">$longArgument</span><span class=\"token punctuation\">,</span>\n    string <span class=\"token variable\">$longerArgument</span><span class=\"token punctuation\">,</span>\n    string <span class=\"token variable\">$muchLongerArgument</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> void <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// body</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/**\n * Method noArgs longVars.\n *\n * @return void\n */</span>\n<span class=\"token variable\">$noArgs_longVars</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">use</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token variable\">$longVar1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token variable\">$longerVar2</span><span class=\"token punctuation\">,</span>\n    <span class=\"token variable\">$muchLongerVar3</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> void <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// body</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/**\n * Method longArgs longVars.\n *\n * @param string $longArgument       Comment type longArgument.\n * @param string $longerArgument     Comment type longerArgument.\n * @param string $muchLongerArgument Comment type muchLongArgument.\n *\n * @return void\n */</span>\n<span class=\"token variable\">$longArgs_longVars</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token variable\">$longArgument</span><span class=\"token punctuation\">,</span>\n    <span class=\"token variable\">$longerArgument</span><span class=\"token punctuation\">,</span>\n    <span class=\"token variable\">$muchLongerArgument</span>\n<span class=\"token punctuation\">)</span> <span class=\"token keyword\">use</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token variable\">$longVar1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token variable\">$longerVar2</span><span class=\"token punctuation\">,</span>\n    <span class=\"token variable\">$muchLongerVar3</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> void <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// body</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/**\n * Method longArgs shortVars.\n *\n * @param string $longArgument       Comment type longArgument.\n * @param string $longerArgument     Comment type longerArgument.\n * @param string $muchLongerArgument Comment type muchLongArgument.\n *\n * @return void\n */</span>\n<span class=\"token variable\">$longArgs_shortVars</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token variable\">$longArgument</span><span class=\"token punctuation\">,</span>\n    <span class=\"token variable\">$longerArgument</span><span class=\"token punctuation\">,</span>\n    <span class=\"token variable\">$muchLongerArgument</span>\n<span class=\"token punctuation\">)</span> <span class=\"token keyword\">use</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$var1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> void <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// body</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/**\n * Method shortArgs longVars.\n *\n * @param string $arg Comment type arg.\n *\n * @return void\n */</span>\n<span class=\"token variable\">$shortArgs_longVars</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>string <span class=\"token variable\">$arg</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">use</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token variable\">$longVar1</span><span class=\"token punctuation\">,</span>\n    <span class=\"token variable\">$longerVar2</span><span class=\"token punctuation\">,</span>\n    <span class=\"token variable\">$muchLongerVar3</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> void <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// body</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>  </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Chú ý rằng những quy tắc trên còn được áp dụng khi một closure được sử dụng trục tiếp như một argument trong một lời gọi hàm hay method.  </p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token variable\">$foo</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">bar</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$arg1</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$arg2</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">use</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$var1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// body</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$arg3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  </code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<h1>7. Kết luận</h1>\n<p>Có rất nhiều yếu tố về style hay practice khác được cố tình bỏ qua trong hướng dẫn này. Có thể kể ra như:  </p>\n<ul>\n<li>Khai báo biến global (global variables) hay hằng global (global constants)  </li>\n<li>Khai báo hàm (functions)  </li>\n<li>Toán tử và phép gán  </li>\n<li>Inter-line alignment  </li>\n<li>Khối Comments và Documentation  </li>\n<li>Tiền tố và hậu tố trong tên Class  </li>\n<li>Best practices  </li>\n</ul>\n<p>Những recommendations sau này có thể xem xét lại và mở rộng hướng dẫn này để đề cập đến những yếu tố về style hay practice  ở trên hay hoàn toàn khác.</p>\n<hr>\n<p>[[author | Diep Do ]]</p>","id":"fcd4ba31-7b56-5a16-9c95-8e12e5ab64f7","frontmatter":{"title":"PHP Coding convention with PSR-1, PSR-2","date":"03-03-2021","tags":["PHP"]},"fields":{"slug":"/coding-convention-trong-php-voi-psr-2/","readingTime":{"text":"15 min read"}}}},{"node":{"excerpt":"Slack là một ứng dụng chat nhóm hỗ trợ trao đổi thông tin với bạn bè, đồng nghiệp và là một lựa chọn hoàn hảo cho công việc, nội bộ công ty hay làm dự án. Với Slack, mọi người có thể trò chuyện, chia…","snippet":"<html><head></head><body><p>Slack l&#xE0; m&#x1ED9;t &#x1EE9;ng d&#x1EE5;ng chat nh&#xF3;m h&#x1ED7; tr&#x1EE3; trao &#x111;&#x1ED5;i th&#xF4;ng tin v&#x1EDB;i b&#x1EA1;n b&#xE8;, &#x111;&#x1ED3;ng nghi&#x1EC7;p v&#xE0; l&#xE0; m&#x1ED9;t l&#x1EF1;a ch&#x1ECD;n ho&#xE0;n h&#x1EA3;o cho c&#xF4;ng vi&#x1EC7;c, n&#x1ED9;i b&#x1ED9; c&#xF4;ng ty hay l&#xE0;m d&#x1EF1; &#xE1;n. V&#x1EDB;i Slack, m&#x1ECD;i ng&#x1B0;&#x1EDD;i c&#xF3; th&#x1EC3; tr&#xF2; chuy&#x1EC7;n, chia s&#x1EBB; h&#xEC;nh &#x1EA3;nh / video&#x2026;</p></body></html>","html":"<p>Slack là một ứng dụng chat nhóm hỗ trợ trao đổi thông tin với bạn bè, đồng nghiệp và là một lựa chọn hoàn hảo cho công việc, nội bộ công ty hay làm dự án. Với Slack, mọi người có thể trò chuyện, chia sẻ hình ảnh / video / tập tin, quản lý theo từng nhóm / bộ phận, tạo ra các chủ đề thảo luận ở các kênh riêng biệt.</p>\n<p>Slack là một sản phẩm của hãng TinySpeck với đồng sáng lập là Stewart Butterfield – trước đây từng là đồng sáng lập dịch vụ chia sẻ ảnh nổi tiếng Flickr của Yahoo. Stewart rời Yahoo hồi tháng 7/2008 và thành lập TinySpeck một năm sau đó. Theo Stewart: “Slack giải phóng con người ta khỏi mớ email lộn xộn. Tại sao phải dùng email để vừa đính kèm file vừa trao đổi công việc, nó phức tạp, mất thời gian lại quá rắc rối. Trong khi một dịch vụ chat như Slack có thể cho người ta chat nhóm theo thời gian thực lại vừa truy cập được toàn bộ file được lưu trữ trên các dịch vụ khác”.</p>\n<h2>Những lợi ích sử dụng Slack:</h2>\n<ul>\n<li>Người dùng có thể trao đổi với nhau từ bất kỳ nền tảng nào như Windows, Linux, MacOS, Android, iOS,…</li>\n<li>Liên kết với các ứng dụng lưu trữ của bên thứ 3 như Google Drive, Dropbox, Google Calendar, Github, Task Reminder, Trello… thậm chí là cả các dịch vụ thanh toán.</li>\n<li>Miễn phí dung lượng lưu trữ lên đến 10K tin nhắn, 5GB dung lượng lưu trữ và kết nối đến 5 dịch vụ hãng khác. Tuy nhiên các gói trả phí sẽ có nhiều tính năng cao cấp hơn và khả năng kết nối là vô hạn.</li>\n</ul>\n<h2>Giới thiệu về Reminder</h2>\n<h3>Reminder Là gì?</h3>\n<ul>\n<li>Reminder là một ứng dụng nho nhỏ giúp bạn nhắc nhở các công việc cần làm, nó được tích hợp sẵn trong ứng dụng SLack. </li>\n<li>Reminder có thể đặt lời nhắc cho bản thân hoặc các thành viên khác trong workspace của bạn.</li>\n<li>Thay vì phải cài cắm crontab thủ công và cấu hình phức tạp bạn chỉ cần thao tác một command cơ bản là có một Reminder tiện lợi.</li>\n<li>Bạn không cần biết về kỹ thuật cũng có thể tạo các Reminder dễ dàng.</li>\n</ul>\n<h3>Cách sử dụng Reminder:</h3>\n<ul>\n<li>\n<p>Cách tạo nhắc nhở:\n/remind [@someone or #channel] [what] [when]\n/remind @here \" Nội dung thông báo \" Thời gian</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">ví dụ tạo nhắc nhở hàng ngày trong tuần:\n/remind @here &quot;Mọi người báo cáo công việc ngày nhé&quot; at every weekday at 4pm\n\nví dụ tạo nhắc nhở ngày hôm nay:\n/remind @here &quot;Mọi người báo cáo công việc ngày nhé&quot; at 10am today\n\nví dụ tạo nhắc nhở ngày mai:\n/remind @here &quot;Anh em team PHP nhớ viết bài blog nhé&quot; at 10am tomorrow\n\nví dụ tạo nhắc nhở vào thứ 2 tuần sau:\n/remind @here &quot;Anh em team PHP nhớ viết bài blog nhé&quot; at 10am next week\n\nví dụ tạo nhắc nhở vào ngày 01 đầu tháng sau:\n/remind @here &quot;Anh em team PHP nhớ viết bài blog nhé&quot; at 10am next month</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n<li>List các remind hiện có:\n/remind list</li>\n<li>Xoá remind hiện có:\nbạn có thể dụng command <code class=\"language-text\">/remind list</code> để list các reminds sau đó chọn remind cần xoá rồi click vào link \"Delete\".</li>\n</ul>\n<h2>Mẹo vặt trong Slack:</h2>\n<ul>\n<li>Nhấn mạnh phần văn bản: Để tạo ra văn bản in đậm, hãy bao quanh từ hay cụm từ của bạn bằng dấu sao (<em>….</em>). Để in nghiêng văn bản, đặt dấu gạch chân quanh phần văn bản (<em>……</em>)</li>\n<li>Gạch bỏ phần văn bản: Để gạch bỏ một số từ, hãy sử dụng dấu ~ bao quanh văn bản</li>\n<li>Lập danh sách: Để tạo danh sách, hãy chọn “Shift” + “Enter” để thêm một dòng mới. Để thêm các dấu đầu dòng, hãy chọn Opt + 8 (Mac) hoặc Alt + 0149 (PC)</li>\n<li>Trích dẫn khối: Để thêm các dấu ngoặc góc vào đầu tin nhắn của bạn, gõ “>” để thụt lề một dòng hoặc “>>>” để thụt lề nhiều đoạn văn</li>\n<li>Các khối mã: Để hiển thị một phần dưới dạng văn bản nội tuyến có chiều rộng cố định, hãy sử dụng dấu backtick (`) quanh khu vực được chọn. Để tạo một khối văn bản có định dạng sẵn, có chiều rộng cố định, hãy sử dụng dấu backtick ba lần.</li>\n</ul>\n<h2>Tìm kiếm người dùng, tin nhắn hay tập tin:</h2>\n<p>Các kênh và tin nhắn trực tiếp\nType \"in:tên kênh\" – để tìm kiếm các tin nhắn và / hoặc tập tin trong một kênh cụ thể\nType \"in:tên\" – để tìm kiếm các tin nhắn trực tiếp của bạn với một người dùng cụ thể</p>\n<p>Tin nhắn hoặc tệp tin từ một người cụ thể\nType \"from:tên người dùng\" – để giới hạn tìm kiếm của bạn với các tin nhắn từ một người gửi cụ thể, tìm kiếm này sẽ rà soát tất cả các kênh và mọi tin nhắn trực tiếp\nType \"from:me\" – để tìm kiếm các tin nhắn mà bạn đã gửi, ở bất cứ đâu trong Slack</p>\n<p>Các Liên Kết, Mục Có Gắn Dấu Sao Và Emoji\nType \"has: đường link\" – Thu hẹp tìm kiếm của bạn vào các tin nhắn có chứa một URL cụ thể\nType \"has: star\"- để tìm những thư mà bạn đã gắn dấu sao\nType \"has::tên emoji\" – để tìm kiếm những thư có chứa một biểu tượng cảm xúc cụ thể</p>\n<p>Ngày và giờ\nType \"before\" rồi sử dụng những từ chỉ thời gian như “hôm qua”, “hôm nay”\nType \"after\" rồi sử dụng các từ như “tuần”, “tháng” hoặc “năm”\nType \"on\" hoặc “during” và sử dụng các từ khoá cụ thể chỉ ngày hoặc phạm vi thời gian, chẳng hạn như “Yesterday”, “July” hoặc “2021”</p>\n<p>------------ END ------------</p>\n<blockquote>\n<p>Ở trên mình đã giới thiệu cơ bản về Slack, và cách thiết lập Reminder, nếu có thắc mắc gì bạn có thể pm mình để trao đổi thêm nhé.</p>\n</blockquote>\n<blockquote>\n<p>Cảm ơn bạn đã dành thời gian đọc bài :D</p>\n</blockquote>\n<blockquote>\n<p>Còn đây là địa chỉ USDT của mình, nếu bạn thấy hay thì có thể donate cho mình nhé: 0x9d8fce9ac29c686b54b9ea0430c10d3919279a43</p>\n</blockquote>\n<div class=\"custom-block author\"><div class=\"custom-block-heading\">Chien Le </div><div class=\"custom-block-body\"></div></div>","id":"b4f6a87e-1d64-5c49-9149-4896bd28c9c6","frontmatter":{"title":"Tutorial using reminders on Slack","date":"01-03-2021","tags":["Slack","Reminder"]},"fields":{"slug":"/tutorial-using-reminders-on-slack/","readingTime":{"text":"6 min read"}}}},{"node":{"excerpt":"Đối với công việc lâp trình phần mềm thì Unit Test và UI Test là những việc vô cùng quan trọng trong việc bảo đảm 1 phần mềm đạt chất lượng tốt. Bài viết này, mình chỉ tập trung chủ yếu vào UI Test.…","snippet":"<div class=\"custom-block-body\"><p>&#x110;&#x1ED1;i v&#x1EDB;i c&#xF4;ng vi&#x1EC7;c l&#xE2;p tr&#xEC;nh ph&#x1EA7;n m&#x1EC1;m th&#xEC; Unit Test v&#xE0; UI Test l&#xE0; nh&#x1EEF;ng vi&#x1EC7;c v&#xF4; c&#xF9;ng quan tr&#x1ECD;ng trong vi&#x1EC7;c b&#x1EA3;o &#x111;&#x1EA3;m 1 ph&#x1EA7;n m&#x1EC1;m &#x111;&#x1EA1;t ch&#x1EA5;t l&#x1B0;&#x1EE3;ng t&#x1ED1;t. B&#xE0;i vi&#x1EBF;t n&#xE0;y, m&#xEC;nh ch&#x1EC9; t&#x1EAD;p trung ch&#x1EE7; y&#x1EBF;u v&#xE0;o UI Test. V&#x1EDB;i l&#x1EAD;p tr&#xEC;nh vi&#xEA;n iOS th&#xEC; vi&#x1EC7;c vi&#x1EBF;t UI Test &#x111;&#xE3; c&#xF3; s&#x1EF1; support t&#x1EEB; Apple v&#x1EDB;i XCTest framework. Nh&#x1B0;ng sau khi l&#xE0;m th&#x1EED; v&#x1EDB;i XCTest framework th&#xEC; th&#x1EA5;y n&#xF3; kh&#xF3; cho vi&#x1EC7;c vi&#x1EBF;t UITest cho ch&#xFA;ng ta. N&#xEA;n m&#xEC;nh &#x111;&#xE3; t&#xEC;m hi&#x1EC3;u &#x111;&#x1B0;&#x1EE3;c 1 framework cho vi&#x1EC7;c vi&#x1EBF;t UITest l&#xE0;  <strong>KIF framewok</strong></p></div>","html":"<div class=\"custom-block snippet\"><div class=\"custom-block-body\"><p>Đối với công việc lâp trình phần mềm thì Unit Test và UI Test là những việc vô cùng quan trọng trong việc bảo đảm 1 phần mềm đạt chất lượng tốt. Bài viết này, mình chỉ tập trung chủ yếu vào UI Test. Với lập trình viên iOS thì việc viết UI Test đã có sự support từ Apple với XCTest framework. Nhưng sau khi làm thử với XCTest framework thì thấy nó khó cho việc viết UITest cho chúng ta. Nên mình đã tìm hiểu được 1 framework cho việc viết UITest là  <a href=\"https://github.com/kif-framework/KIF\"><strong>KIF framewok</strong></a></p></div></div>\n<h1>1.Cài đặt KIF</h1>\n<p>Điều đầu tiên, để sử dụng được KIF thì chúng ta cần tạo target cho việc test của chúng ta. Ở đây, KIF không sử dụng <strong>iOS UI Testing Bundle</strong> mà sử dụng <strong>iOS Unit Testing Bundle</strong>.Nên trong trường hợp bạn nào đã có unit test ở trong project thì cần chọn 1 trong 2 target để chạy test.</p>\n<p>Chọn dự án của bạn trong Xcode và nhấp vào \"Add Target\" ở góc dưới bên trái của trình soạn thảo. Chọn iOS -> Test -> iOS Unit Testing Bundle. Hãy cung cấp cho nó một tên như \"Acceptance Tests\", \"UI Tests\", hoặc cái gì đó cho thấy ý định của quá trình test của bạn.</p>\n<p>Acceptance Test Target của bạn được tạo và sẽ có thêm 1 file đi cùng với nó, ex: \"Acceptance_Tests.swift\" khớp với tên target. Hãy xoá nó đi.</p>\n<h2>1.Cài đặt với Pod</h2>\n<p>Khi Test Target của bạn đã được thiết lập, thêm đoạn mã dưới đây vào Podfile của bạn. Sử dụng đúng target cần cài đặt KIF</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">target &#39;Your Apps&#39; do\n  ...\nend\n\ntarget &#39;Acceptance Tests&#39; do\n  pod &#39;KIF&#39;, :configurations =&gt; [&#39;Debug&#39;]\nend</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Sau khi chạy <code class=\"language-text\">pod install</code>  thì công việc tiếp theo là làm theo <strong>Cấu hình Test Target</strong> ở bên dưới để cấu hình thích hợp cho nó</p>\n<h2>2. Cài với static library</h2>\n<p>Để cài đặt KIF, bạn cần liên kết static library libKIF trực tiếp vào ứng dụng của bạn. Tải xuống nguồn từ  <a href=\"https://github.com/kif-framework/KIF\">KIF</a> và làm theo hướng dẫn dưới đây. </p>\n<p>Chúng tôi sẽ sử dụng một dự án đơn giản làm ví dụ và bạn có thể tìm thấy nó trong Documentation/Examples/Testable Swift trong reposity của KIF.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/acc162cd79581ba201717feab6906ba2/d4c13/9eca4dad-fa29-4526-a06e-27332230fbf3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.85714285714286%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACVklEQVQoz6WSS0/bQBDHrfZM1UvPPbqXfoC036oV5sJ3gIhXDwhxbA+kgkb0ULUn1DQJDgFCEkrATsjDCfEj8XO965mODT1wq9SRfpqx1jsz/9mRvn74uHDZKL27vr1Z6ne7i432lXJ9oym63lVa7bbSajaU09O60m63lIuLC2U4HCnGsKt0fjeV5qWm9G4Hi3rfWOp0rt7/+P7thbSysStrvVu0LBOTJEFBBEGAlj1DL4gQIcaYMQQQyGOOqQnBMY5j5FzgXxM8xOKXz2+k/Oa2rGsdv1opC03TY9u2uW1Nua5d8yAI0wyP4JRNZCQ8ScgHdiwCT4RRFBWLxZy0tbEh6z2dlUolPD8/h8FgCIxFMBxPwTDGQF3fAwA8YhDO5hCEIZCKjNGgD77nouu6/ODgICdt73ySR/02q58cI80N6IDa52je3aFhGCRPZKNIgGRFAUbOFBNqlaoQkLYMqWTGGD88PMxJm1s78sToMmM0QMeZgev7yHwX53cGhhGjm5AlpABdP8b+ZJ7NkyTfF0qSLCEpvk+4uroiz12XceoqJCm+5wHFkGV44OESjSIGx57DbDZ7RKrKNE1eKBRyUj6flx3HCX3fB8/zBR0KekFBI6MHTzJPBQR1IDzPE6ZlCsuyBD2emE6nYjwepz6ZTCZsb28vJ62vr79KV+BfLZVJRTJSVemKpeuT+v39/bfS8vLyy0ql8rNarZ6QHatktVpNpSVWG42G2mw21Xq9nn23Wi317OxMLZfLKv2fnRPHFNeOjo5+ra2tvZbInhALxPP/5Bnx9A8ZtsgQeFrDrAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"9eca4dad-fa29-4526-a06e-27332230fbf3.png\"\n        title=\"9eca4dad-fa29-4526-a06e-27332230fbf3.png\"\n        src=\"/static/acc162cd79581ba201717feab6906ba2/8c557/9eca4dad-fa29-4526-a06e-27332230fbf3.png\"\n        srcset=\"/static/acc162cd79581ba201717feab6906ba2/4edbd/9eca4dad-fa29-4526-a06e-27332230fbf3.png 175w,\n/static/acc162cd79581ba201717feab6906ba2/13ae7/9eca4dad-fa29-4526-a06e-27332230fbf3.png 350w,\n/static/acc162cd79581ba201717feab6906ba2/8c557/9eca4dad-fa29-4526-a06e-27332230fbf3.png 700w,\n/static/acc162cd79581ba201717feab6906ba2/d4c13/9eca4dad-fa29-4526-a06e-27332230fbf3.png 825w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>1. Thêm KIF vào dự án</h3>\n<p>Bước đầu tiên là thêm dự án KIF vào thư mục con của ./Frameworks/KIF của dự án. Nếu dự án của bạn sử dụng Git để kiểm soát phiên bản, bạn có thể sử dụng submodules để cập nhật trong tương lai dễ dàng hơn:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">cd /path/to/MyApplicationSource\nmkdir Frameworks\ngit submodule add https://github.com/kif-framework/KIF.git Frameworks/KIF</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Nếu bạn không sử dụng Git, chỉ cần tải về mã nguồn và sao chép nó vào thư mục ./Frameworks/KIF</p>\n<h3>2. Thêm KIF vào Workspace</h3>\n<p>Hãy để dự án của bạn biết về KIF bằng cách thêm dự án KIF vào không gian làm việc cùng với dự án chính của bạn. Tìm KIF.xcodeproj trong Finder và kéo nó vào Project Navigator (⌘1).\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/22a4193d4adf67c65dbae646f1980f53/d4c13/758ee1d5-4d3e-4c9d-b477-e44c4c51a874.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.85714285714286%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACVUlEQVQoz6VSTW/TQBC14FzEhTNHc+EHBP4VqO6l/6EVaRGih4LEgUuDWqJyQHCqgKR1mlZpnNA0jvPhOl92nMTrj92dYeyWQ29IjPQ0a633zXszo3x583GlWfv5ot1rr/W71mqtcaldtU2t07E0o9HQjHpNOzurao2GoV1cXGi2fa05tqW1fte1etPUur3BaqfvrLValy+/f/v6SNnYfqe2uz2cTscohUQhJbKAoev5uGQRIiSYxDECCOQJxzSE4JgkCXIu8G8IHmLx86dnyub2jmp1roLqaUVY3W7ieTPuuRPeMa84Y2HKcAec2EQGyaWkzLxEsKUIoygqFos5ZSu/pXZ7Vnx+fo7NZhNs24Y4jsEeTsBxhiClvAEA8CiG0J8DC0NgjGW4HvQhWC5wsVjwg4ODnLK7+0HtD8y4XC6haZoQBAHJ5zgdj9FxHLInkAhRAtmKGEazCUqSSlUIkEqG1DKJ4IeHhznl7c571SbCZsNAy7LAm/mYBAucjx0Mo5heQkZIB1wECfZH86yfZPmmkJQZITm+IXyVf6167jhmLEirpAoh4RwyhlvcPqJWJDDz5uD7/h2QXRrqlBcKhZyyubmh+v48TPuxXC4FXQqaoKCW0cBlljn5IgUivZ+6U+G6rvA8T0wmEzEcDtMsR6NRvLe3R0PZ2n6SrsC/RmqTimSgQkhCsvVJ8/7+/nNlfX39cblc/nF8fHxKcaJTVCoVnZZYr9Vqer1e16vVavZtGIZO26CXSiWd/s/uCSd0rhwdHf3K5/NPFYp7hBXCw//EA8L9P/FSx+DhBe/hAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"758ee1d5-4d3e-4c9d-b477-e44c4c51a874.png\"\n        title=\"758ee1d5-4d3e-4c9d-b477-e44c4c51a874.png\"\n        src=\"/static/22a4193d4adf67c65dbae646f1980f53/8c557/758ee1d5-4d3e-4c9d-b477-e44c4c51a874.png\"\n        srcset=\"/static/22a4193d4adf67c65dbae646f1980f53/4edbd/758ee1d5-4d3e-4c9d-b477-e44c4c51a874.png 175w,\n/static/22a4193d4adf67c65dbae646f1980f53/13ae7/758ee1d5-4d3e-4c9d-b477-e44c4c51a874.png 350w,\n/static/22a4193d4adf67c65dbae646f1980f53/8c557/758ee1d5-4d3e-4c9d-b477-e44c4c51a874.png 700w,\n/static/22a4193d4adf67c65dbae646f1980f53/d4c13/758ee1d5-4d3e-4c9d-b477-e44c4c51a874.png 825w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>3. Cấu hình Test Target</h2>\n<p>Bây giờ, bạn đã có test target cho việc viết UI Test của bạn. Tiếp theo là thêm các thư viện cần thiết cho dự án, chúng ta chọn trong <strong>Project Navigator</strong> và vào Test Target mà bạn đã tạo ra, chọn tab <strong>\"Build Phases\"</strong>. Trong phần <strong>\"Link Binary With Libraries\"</strong>, hãy nhấn nút \"+\". Trong bảng xuất hiện, chọn \"libKIF.a\" và nhấp vào <strong>\"Add\"</strong>. Lặp lại quá trình cho <strong>CoreGraphics.framework</strong> và <strong>QuartzCore.framework</strong>\n.\nKIF yêu cầu IOKit.framework, nhưng nó không nằm trong các khuôn khổ hệ thống. Để liên kết đến nó, thêm \"-framework IOKit\" vào <strong>\"Other Linker Flags\"</strong>.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/df28afeb1cc5dfa5d6ab63eec563f91f/d4c13/4221ceba-9604-497b-a1d0-142ffae2dd12.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.85714285714286%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACEElEQVQoz6VSTW/TQBC14FzEhTNHc+EHBP4VqNtLzpwQVLSAEDESPSMhIZJUqeBSgSBpQESxEzuJ09gQK7Hz4XzY3o/sMuuQUjiUA096mt31zNuZt1aOcq+2bLNyx/GcnUG/v23ZPdSxbWRaFtINA1kQG40GarVaqNNpIz8YoXDsIbfXQbYD8Ye3ffp9sNNut+6+f3d0Tbl3/6n6TTdEr9cVk8lEBMFIRHEiJGJMxHlwzv/YM8Z+r0ks3r55fUt5sPdMtczG8sPxMTNNiwwHA+oNxzQMZxTyaJIkNPADGgQBncHZarWilHEgo4RgScL5imGMk3w+n1Fe5DQ1GA1xrVYTXbvLF4sF9/p97jgOn06mUElkW3w8CvjQ9/lsNuOEEA7CZ5SdgyAtHh6CoHaguq6Ny+XPwrZtPp/PBXSVjkMpTQnJIonjs738BkIbpj6kgsViRnmee6l6/S42mw3w0eHSR1m0QRRFcN4TruuKaRimPp7nRlBaUygUMsqjvSfqZOzjKFrKW/hyuUxHWr/BGnKNwQqWJH+PyuM45vJSqFl3uLv7UIUHiOFQ+sdgZAYfGeQyKGISMoL78Aw03UM3DPLT+AsrWONUcH//8Q0QEBdh49u/UCqVbivZbPZ6uVz+WKlUvgJOqgB48Wq9Xq/qul6Fn7rabDYv4olpml8Mw/ikadpNBXAJuAW8+p+8Arz8E5UNzBsnpCDsAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"4221ceba-9604-497b-a1d0-142ffae2dd12.png\"\n        title=\"4221ceba-9604-497b-a1d0-142ffae2dd12.png\"\n        src=\"/static/df28afeb1cc5dfa5d6ab63eec563f91f/8c557/4221ceba-9604-497b-a1d0-142ffae2dd12.png\"\n        srcset=\"/static/df28afeb1cc5dfa5d6ab63eec563f91f/4edbd/4221ceba-9604-497b-a1d0-142ffae2dd12.png 175w,\n/static/df28afeb1cc5dfa5d6ab63eec563f91f/13ae7/4221ceba-9604-497b-a1d0-142ffae2dd12.png 350w,\n/static/df28afeb1cc5dfa5d6ab63eec563f91f/8c557/4221ceba-9604-497b-a1d0-142ffae2dd12.png 700w,\n/static/df28afeb1cc5dfa5d6ab63eec563f91f/d4c13/4221ceba-9604-497b-a1d0-142ffae2dd12.png 825w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/666490879de23dcc8151ae8ef57a61ec/d4c13/4e69f5f5-626b-4bf7-a5b2-73056022a340.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.85714285714286%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACRklEQVQoz6VSy27TQBS1YF3EhjVLs+EDAn8FqrvJlm2paEGqaJDgB7qAPBQJAapAkKTkVRJPHg6OGzt2Hs7Dj9gznuHOpIUNrDjS0bVnrs6dc2ak7Omnne6g8ch0RnuOZe0iTVf6mqZ0u12l3++J2m63lV6vpyCkKuOxrSxmlmLofUU3LMV2JruXlrNnGMPHHz+8vyM92T+W6z9aTNcHzHVdNp1OWRBuGEcYhoLr9ZptNts1juSqEkL+rOENe/f29IG0f3gsd1HL/3x2RhDqxLZtY8uZ47nrYsce4dHIxIvFAi+XS+x5Hl6tVtgPQkySBMdRhKMoimmSEBi4yWazKenVSUaezpyo0WiwgTagvu/TS8OgnU6H/tTaFCFETdOkjuPQ8XgsGEAPR5IkggAGwrhQKIBg5o1sGFpUKn1jmqbRrb2QBUHIJqbKel2VDYcG/AfCPgwU31wExDgpt8wF8/l8Snp58lq2zEGE1DbkOKQ8R0IwA0/M0uusXq0wVUUMLEO2kKfnCWEOLgo5CkFwjHO5XEp6dvhCdueTKAh8PkVYxjimMSZ0PKzTi2aVqmqHQnY0DAOw6131YEEuyIXjON6e8ODgqbxcrkKwQSF0ApYJbBLImtgjRJDaIqZpEbHn+WS28AhckugDYcIBthM4YSQEj46e3wMB9jdAD8P4+mlQtgwS1rDZP1EsFh9K6XT6bqlU+lIul6uAyjkAblywVquJ2mw2f/MC2Gq1zlVVvWYFXsJ3WPuayWTuS4AbwB3g7f/kLeDNX/f6xGe6LhMwAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"4e69f5f5-626b-4bf7-a5b2-73056022a340.png\"\n        title=\"4e69f5f5-626b-4bf7-a5b2-73056022a340.png\"\n        src=\"/static/666490879de23dcc8151ae8ef57a61ec/8c557/4e69f5f5-626b-4bf7-a5b2-73056022a340.png\"\n        srcset=\"/static/666490879de23dcc8151ae8ef57a61ec/4edbd/4e69f5f5-626b-4bf7-a5b2-73056022a340.png 175w,\n/static/666490879de23dcc8151ae8ef57a61ec/13ae7/4e69f5f5-626b-4bf7-a5b2-73056022a340.png 350w,\n/static/666490879de23dcc8151ae8ef57a61ec/8c557/4e69f5f5-626b-4bf7-a5b2-73056022a340.png 700w,\n/static/666490879de23dcc8151ae8ef57a61ec/d4c13/4e69f5f5-626b-4bf7-a5b2-73056022a340.png 825w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>KIF được viết bằng Objective C nên các bạn cần thêm <code class=\"language-text\">-ObjC</code> vào <strong>\"Other Linker Flags\"</strong> trong Build Settings của Test Target\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3a0e10eabc04e01238fd959042b9d983/d4c13/f5711a2b-6afb-44a9-a834-d0101ff2fe4c.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.85714285714286%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACcklEQVQoz5WTS2/TQBDHDfciQOLMMXwDBGc+AR8DcUCgupeeOSFAtIAQLRKcUSqB1B4qQKiBiqRW0jyaxEmcxEnjZ+LEjtePXe8wtlqJC0L8rZ9G3pmdnRmvhf2tjytKu/RQ1dQ1YzJZlZWh2FMUsS3LYuPkROx0ZLEjt8ReryeOBj1xatviwjHEsaqIiqqJ6niy2h/pa91u59HXL/vXhMdPXueOGycwHPbBcRyw7SmQIIRUQRRnNk4yAz6DM3HgnANlyfkCsDiAz592bgtPN97k5HbT/3FwwNptOTYNg2rmjLqeRzGOOguPdiYeJb5HaxNKF4TRhKF1XephTBgGMQlj5jjzcCefvyW829rO2VMzqlar0Ff63Pd9fjoe80ajwU3L4tOpzQ3D4LOZwwNCsLCEJ0nC4zjOLGMMVziEYUj39vYw4faH3GikRMXiL1AUheOpqROiKAJKKdiWDaZpguu62TsmyCAkgBBjMJaTiMF84cX5fP6m8HbrfU6b9KN2q4lzVHk6x3TjudThEI4rFdB1HZMQWC6XGbZlgOvY4ExN7ntz8N05FL5/uyO82HiVc2ZWRIifVpW1nLaTTR6xTIt3u12OVXKStcw5pTGvdHRe7M55Zbjk5cGS9ucAxfrgvvD8+bPcYuEGaTCezLBlhgkZ7svARKzVajHLsliSPkmS+ceWz2SdsI6OViORtgQoNwf3hM3NlzcwAP6mtP3g7Br9S4Z2+kBYX1+/XiwWf5ZKpTLqSELhF5fq9brUbDalQqEg7e7uSoeHhxJWmpH6ypXKca1Wr1ZTqrUK/gTdoyPproC6iKwgl/+TK39wFbmEXPgNxifGqhlsvTIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"f5711a2b-6afb-44a9-a834-d0101ff2fe4c.png\"\n        title=\"f5711a2b-6afb-44a9-a834-d0101ff2fe4c.png\"\n        src=\"/static/3a0e10eabc04e01238fd959042b9d983/8c557/f5711a2b-6afb-44a9-a834-d0101ff2fe4c.png\"\n        srcset=\"/static/3a0e10eabc04e01238fd959042b9d983/4edbd/f5711a2b-6afb-44a9-a834-d0101ff2fe4c.png 175w,\n/static/3a0e10eabc04e01238fd959042b9d983/13ae7/f5711a2b-6afb-44a9-a834-d0101ff2fe4c.png 350w,\n/static/3a0e10eabc04e01238fd959042b9d983/8c557/f5711a2b-6afb-44a9-a834-d0101ff2fe4c.png 700w,\n/static/3a0e10eabc04e01238fd959042b9d983/d4c13/f5711a2b-6afb-44a9-a834-d0101ff2fe4c.png 825w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Ở phần này mình chỉ giới thiệu về việc thêm KIF framework vào dự án của chúng. Ở phần sau mình sẽ demo về KIF framework</p>\n<div class=\"custom-block author\"><div class=\"custom-block-heading\">Phương Võ </div><div class=\"custom-block-body\"></div></div>","id":"ae02ace7-060f-50cc-b36c-bc7cbe64eeaa","frontmatter":{"title":"Automation Test for iOS, part 1","date":"01-03-2021","tags":["ios"]},"fields":{"slug":"/automation_test_for_iOS_part_1/","readingTime":{"text":"4 min read"}}}},{"node":{"excerpt":"Chắc khi nghe tên chủ để này bạn có thể sẽ hiểu nhầm: . Nhưng nếu thế thì đơn giản quá. Nhiều khi bạn vào một trang web rất bảo mật, việc crawl một cách đơn giản không hề dễ chịu chút nào đâu. Thế nên…","snippet":"<html><head></head><body><p>Ch&#x1EAF;c khi nghe t&#xEA;n ch&#x1EE7; &#x111;&#x1EC3; n&#xE0;y b&#x1EA1;n c&#xF3; th&#x1EC3; s&#x1EBD; hi&#x1EC3;u nh&#x1EA7;m: <code class=\"language-text\">crawl trang web m&#x1ED9;t c&#xE1;ch &#x111;&#x1A1;n gi&#x1EA3;n nh&#x1EA5;t</code>.</p> <p>Nh&#x1B0;ng n&#x1EBF;u th&#x1EBF; th&#xEC; &#x111;&#x1A1;n gi&#x1EA3;n qu&#xE1;. Nhi&#x1EC1;u khi b&#x1EA1;n v&#xE0;o m&#x1ED9;t trang web r&#x1EA5;t b&#x1EA3;o m&#x1EAD;t, vi&#x1EC7;c crawl m&#x1ED9;t c&#xE1;ch &#x111;&#x1A1;n gi&#x1EA3;n kh&#xF4;ng h&#x1EC1; d&#x1EC5; ch&#x1ECB;u ch&#xFA;t&#x2026;</p></body></html>","html":"<p>Chắc khi nghe tên chủ để này bạn có thể sẽ hiểu nhầm: <code class=\"language-text\">crawl trang web một cách đơn giản nhất</code>.</p>\n<p>Nhưng nếu thế thì đơn giản quá. Nhiều khi bạn vào một trang web rất bảo mật, việc crawl một cách đơn giản không hề dễ chịu chút nào đâu. Thế nên, ở đây, tôi xin giới thiệu một con dao mổ trâu <code class=\"language-text\">puppeteer</code> để xử lý những thức phức tạp.</p>\n<p>Thường thì các cách đơn giản để crawl một trang web chỉ là kéo một trang web về, sau đó nó sẽ đọc file html tĩnh được kéo về.</p>\n<p>Nhưng, các trang web bây giờ không đơn giản thế nữa. Nó động, nó được render bằng javascript và chứa nhiều action khác nhau.</p>\n<p>Do đó, việc bạn parse html tĩnh của trang web không thể thực hiện được. Và puppeteer sinh ra để giúp bạn giả lập một trình duyệt web để có thể parse trang web (tất nhiên, việc parse vẫn dựa vào html selector)</p>\n<p>Sau đây, tôi sẽ hướng dẫn các bạn crawl lời của một bài hát ở trên zing mp3</p>\n<p>Trước tiên, tôi sẽ khởi tạo một dự án node js</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-shell line-numbers\"><code class=\"language-shell\"><span class=\"token function\">mkdir</span> crawl_mp3\n<span class=\"token builtin class-name\">cd</span> crawl_mp3\n<span class=\"token function\">yarn</span> init</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Sau đó thêm thư viện puppeteer vào dự án với câu lệnh <code class=\"language-text\">yarn add puppeteer</code></p>\n<p>Như vậy, tôi đã có các công cụ cần thiết để crawl một trang web.</p>\n<p>Bây giờ, tôi đi vào việc giả lập như một người dùng trang zing mp3.</p>\n<p>Trước tiên, tôi tạo một file <code class=\"language-text\">app.js</code> trong thư mục dự án</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> puppeteer <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'puppeteer'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> browser <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> puppeteer<span class=\"token punctuation\">.</span><span class=\"token function\">launch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> headless<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> page <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> browser<span class=\"token punctuation\">.</span><span class=\"token function\">newPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">goto</span><span class=\"token punctuation\">(</span><span class=\"token string\">'https://mp3.zing.vn/'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">await</span> browser<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Tôi sẽ chạy project với câu lệnh <code class=\"language-text\">node app.js</code> (từ giờ, tôi nói chạy thì các bạn hãy hiểu là dùng câu lệnh này nhé)</p>\n<p>Bạn sẽ thấy có một trình duyệt hiện lên, nó giống như Chrome ấy.</p>\n<p>Đúng rồi, nó là Chromiumn đó (một phiên bản tiền nhiệm trước khi các tính năng được Google phân phối cho Chrome)</p>\n<p>Các câu lệnh với puppeteer sẽ thực hiện các thao tác giống hết như khi bạn thao tác trên web thật đó.</p>\n<p>Bây giờ, tôi sẽ tìm kiếm bài hát.</p>\n<p>Tôi inspect vào ô tìm kiếm và lấy CSS Path của ô này và được kết quả: <code class=\"language-text\">#sug.section-search form.search input.input-txt</code></p>\n<img src=\"https://i.imgur.com/hnKVOOF.png\" style=\"zoom:50%;\">\n<p>Vì vậy, tôi điền bài hát tôi tìm kiếm và nhấn <code class=\"language-text\">Enter</code></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">$eval</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#sug.section-search form.search input.input-txt'</span><span class=\"token punctuation\">,</span> <span class=\"token parameter\">el</span> <span class=\"token operator\">=></span> el<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token string\">'Tinh yeu lung linh'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span>keyboard<span class=\"token punctuation\">.</span><span class=\"token function\">press</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Enter'</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Và tất nhiên, sau khi nhấn enter, tôi cần chờ để page load xong</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">waitForNavigation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Bởi vì, sau khi vào trang search, zing có hiện lên một popup, tôi cần tắt nó đi</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#react-cool-portal > div > div > div > div > button > i'</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Sau đó tôi nhấn vào nút ba chấm và chờ một lúc để modal nó hiện ra</p>\n<img src=\"https://i.imgur.com/i9GY5DJ.png\" alt=\"https://i.imgur.com/i9GY5DJ.png\" style=\"zoom:50%;\">\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#body-scroll > div.container > div.container > div > div:nth-child(1) > div > div.media-right > div > div:nth-child(4) > button > i'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">waitForTimeout</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Nhấn tiếp vào <code class=\"language-text\">Lời bài hát</code></p>\n<img src=\"https://i.imgur.com/ePc5Nav.png\" alt=\"https://i.imgur.com/ePc5Nav.png\" style=\"zoom:50%;\">\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#react-cool-portal > div > div > div > ul:nth-child(2) > div > div > button:nth-child(2) > i'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">waitForTimeout</span><span class=\"token punctuation\">(</span><span class=\"token number\">100</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Lúc này, lời bài hát đã hiện ra, tôi select lời bài hát và in ra kết quả</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> lyrc <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> page<span class=\"token punctuation\">.</span><span class=\"token function\">evaluate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#react-cool-portal > div.zm-portal-modal > div > div > div > div > div.content > textarea'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">await</span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>lyrc<span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<img src=\"https://i.imgur.com/QpHxqci.png\" alt=\"Screen Shot 2021-02-28 at 15.51.19\" style=\"zoom:50%;\">\n<p>Xong việc, tôi đóng trình duyệt</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">await</span> browser<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Sau khi, đã viết xong một script để crawl lời bài hát, tôi có thể tắt việc hiện trình duyệt mỗi lệnh chạy</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> browser <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> puppeteer<span class=\"token punctuation\">.</span><span class=\"token function\">launch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> headless<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Như vậy, tôi đã hướng dẫn một cách đơn giản nhất việc crawl một trang web.\nMong rằng bài viết giúp ích được các bạn !</p>","id":"70a4b6e8-897d-5d4f-b5e5-c39754be77c9","frontmatter":{"title":"Crawl một trang web phức tạp với puppeteer","date":"28-02-2021","tags":["javascript"]},"fields":{"slug":"/crawl-mot-trang-web-phuc-tap-voi-puppeteer/","readingTime":{"text":"4 min read"}}}},{"node":{"excerpt":"Trong giới lập trình di động, thì mình thấy giao diện của iOS vẫn có gì đó đẹp và ổn hơn của Android. Trong đó có Thanh trạng thái (Status bar) và Thanh điều hướng (Navigation bar) là hai thứ mà người…","snippet":"<div class=\"custom-block-body\"><p>Trong gi&#x1EDB;i l&#x1EAD;p tr&#xEC;nh di &#x111;&#x1ED9;ng, th&#xEC; m&#xEC;nh th&#x1EA5;y giao di&#x1EC7;n c&#x1EE7;a iOS v&#x1EAB;n c&#xF3; g&#xEC; &#x111;&#xF3; &#x111;&#x1EB9;p v&#xE0; &#x1ED5;n h&#x1A1;n c&#x1EE7;a Android. Trong &#x111;&#xF3; c&#xF3; Thanh tr&#x1EA1;ng th&#xE1;i (Status bar) v&#xE0; Thanh &#x111;i&#x1EC1;u h&#x1B0;&#x1EDB;ng (Navigation bar) l&#xE0; hai th&#x1EE9; m&#xE0; ng&#x1B0;&#x1EDD;i d&#xF9;ng Android v&#x1EAB;n lu&#xF4;n th&#x1EA5;y nh&#xE0; Apple l&#xE0;m &#x111;&#x1EB9;p v&#xE0; ho&#xE0;n ch&#x1EC9;nh h&#x1A1;n nh&#xE0; Google.</p></div>","html":"<div class=\"custom-block snippet\"><div class=\"custom-block-body\"><p>Trong giới lập trình di động, thì mình thấy giao diện của iOS vẫn có gì đó đẹp và ổn hơn của Android. Trong đó có Thanh trạng thái (Status bar) và Thanh điều hướng (Navigation bar) là hai thứ mà người dùng Android vẫn luôn thấy nhà Apple làm đẹp và hoàn chỉnh hơn nhà Google.</p></div></div>\n<h2>1. Status bar</h2>\n<p>Thanh trạng thái ở iOS đã có hiệu ứng trong suốt từ những phiên bản iOS đầu tiên. Nhưng với Android thì ... mãi đến Android 4.4 thì Google mới cho phép lập trình viên thay đổi màu sắc của nó nhưng chỉ là những màu đơn sắc, thậm chí ở phiên bản Android trước đó nó chỉ có màu đen (xấu kinh).</p>\n<h2>2. Navigation bar</h2>\n<p>Với thanh điều hướng thì Google đi tiên phong so với Apple, khi trên Android đã có nó từ Android 4.0 gần 10 năm trước.</p>\n<div class=\"custom-block image-caption\"><div class=\"custom-block-heading\">Giao diện màn hình chính của Android 4.4</div><div class=\"custom-block-body\"><p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 250px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1c1a9c13b27dc2dabdf04fac52a48517/0479a/android_4_4_home_screen.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 177.7142857142857%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAkABQDASIAAhEBAxEB/8QAGAABAAMBAAAAAAAAAAAAAAAAAAECAwT/xAAYAQEAAwEAAAAAAAAAAAAAAAAEAQIDBf/aAAwDAQACEAMQAAABidLYLxbqa82s1Xx+lgKjhkYOoiv/xAAbEAADAQEAAwAAAAAAAAAAAAAAARECEhAiMf/aAAgBAQABBQKZJkeUQnj3QtkPpB60ds7d7Z//xAAbEQADAAMBAQAAAAAAAAAAAAAAAQIDESEUQf/aAAgBAwEBPwHFCiEjgs9p8PZP1GjR/8QAHREAAQMFAQAAAAAAAAAAAAAAAgABAwQQEyExQf/aAAgBAgEBPwEpNrIijB+p6cvHv//EABgQAAMBAQAAAAAAAAAAAAAAAAAgMTIh/9oACAEBAAY/AsGCJTqVP//EAB4QAAICAgIDAAAAAAAAAAAAAAARASEQMUFhkaHx/9oACAEBAAE/IeObEfcSNLkRGz2L1Fd4PwJuM2a3RSJef//aAAwDAQACAAMAAAAQ7+HyjD//xAAbEQACAwADAAAAAAAAAAAAAAAAAREhUTFBYf/aAAgBAwEBPxBweeycF+tr0jpkjTCGH//EABgRAQEBAQEAAAAAAAAAAAAAAAEAESFh/9oACAECAQE/EN02o1Bj5a+GS23/xAAbEAADAQEBAQEAAAAAAAAAAAAAARExIUFxUf/aAAgBAQABPxBQwt6a5DJOaZaKnXrEEY1Vp5FFNK/4wpaoeNTj4OSc61Ue0ean6dOnwcGqNdKXUf/Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Android 4.4 Home Screen\"\n        title=\"Android 4.4 Home Screen\"\n        src=\"/static/1c1a9c13b27dc2dabdf04fac52a48517/0479a/android_4_4_home_screen.jpg\"\n        srcset=\"/static/1c1a9c13b27dc2dabdf04fac52a48517/e52aa/android_4_4_home_screen.jpg 175w,\n/static/1c1a9c13b27dc2dabdf04fac52a48517/0479a/android_4_4_home_screen.jpg 250w\"\n        sizes=\"(max-width: 250px) 100vw, 250px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p></div></div>\n<p>Nhưng nó ra đời khi cằm của điện thoại còn rất dày vẫn chưa mỏng như hiện nay cho nên những chiếc điện thoại thời đó nếu có thanh điều hướng thì vừa có cằm dày và màn hình lại tốn một khoảng cho thanh điều hướng, không những thế thanh điều hướng này cũng không trong suốt nó chỉ có màu đen hoặc trắng, nó xấu đến nỗi hầu hết các hãng làm điện thoại Android không dám đưa nó lên sản phẩm của mình. Phải đợi đến khi Apple \"định nghĩa\" lại thanh điều hướng trên iPhone X, thì Google mới cho sửa sang lại 3 phím điều hướng ảo của Android.</p>\n<h2>3. Make them transparent</h2>\n<p>Mặc dù những phiên bản Android gần đây, thanh trạng thái thậm chí cả thanh điều hướng đã có thể trong suốt, nhưng rất nhiều ứng dụng mình đang cài trên điện thoại vẫn chưa áp dụng :(<br>\nChính vì thế mình sẽ hướng dẫn các bạn làm cho ứng dụng của bạn trở nên đẹp hơn 69 lần với thanh trạng thái và điều hướng trong suốt.</p>\n<div class=\"custom-block image-caption\"><div class=\"custom-block-heading\">Khi chưa làm trong suốt</div><div class=\"custom-block-body\"><p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 324px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0aa4512321400ba36705dcbd399e0f67/67580/default.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 177.7142857142857%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAABDrAAAQ6wFQlOh8AAADZUlEQVRIx6VVS08TYRQdoCipwYBLYGHcsHLjwkTFqGzc6daY+J/cSdgQVoYAu5bSB5Qib2gp5VFebQf6pFBooS3Pcpxz49RGN512kpvvzu333bnnu+eeKr2tTnx84sY7sw3vH42jt9Uha0+LFa9NFnx+5sLXF1N4q733PPxrbx5Y8OGxDV+eu/HtpQefnjrxqskCxWVdwY/vPxH0J+FfVOGdD2PDF0dCvUQsVEBcLSAZLWp+HlHNYn9M/HAe8Yj2+2FB21+QmPJrZgquCTsC6z4kj2KaPw5/wAvgTrMSjD5KJKIiEU8glUwhny8gm80hnT6Gqh4gkzmVTXd3JZRK91WZEovF4PF4tEN3uLq6wuXlJa6vr8tfLJVKhkxxuVwYGhrC2toadnd3YbPZ4PP5yskMQw4Gg2CV+/v7OD8/RyQSwcHBAQ4PD3F2diab7u/vq094enqKra0tebm5uSknIOzb21vxDUPu6+vDzs4OQqEQnE4nAoFA+YtMaMQUv98vMDc2NsBqNzc3JXkikUAulzMO+eTkRO6PXabxIdRsNisdNwx5cXERg4ODUhGbQ7iqqtYOeXZ2Fqurq0KVaDSK6elpScoOFwoF45CPjo4Qj8e1KckLZMK9uLgA41yNVqmwCaOjo8LBdDqNZDJZ5l9NkzI5OQmHw4GVlRUhs8ViAe+VPNR5aWhSmIRVsbpisSgw2XlOi14pv1w1ZCZklbw7igMbwbUucRgeHgYJTkKPjY0JfJ1/hiFvb28L/8LhsDSGUOsSh0wmI2NXKQ58dHGoCXJ/fz9YKUewbnGgsHLUyEddHJicZOc81yQOe3t7MiV6E+jXLA7z8/MYGBiQitgIVkw5q6SNIchzc3OSRBcHisX6+jrYLM63YcicENKGhCZUdpqJGK9MWHWFpMzIyIiocyqVql8c3G43JiYmyuLASVleXpbxq0scjo+PRRw4Lf+KgyHIPEgysxrSpG5xoBZSHNhl/j9brVYsLS3J2Omjp3O0qoTkHJtB40HShZB5BZWVVn2HMzMzsNvt0hRyktXpxuZwXVhYgNfrlT00+vreyjhNMZlMaG5uBteuri7xGxsb0dTUBEVR0NbWho6ODvEZ0+Pd3d1ob28vx3mGpjCgGw83NDSgMtbS0iLxyhits7MTZrP5v/hv+d8wizFrHq8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Default UI\"\n        title=\"Default UI\"\n        src=\"/static/0aa4512321400ba36705dcbd399e0f67/67580/default.png\"\n        srcset=\"/static/0aa4512321400ba36705dcbd399e0f67/4edbd/default.png 175w,\n/static/0aa4512321400ba36705dcbd399e0f67/67580/default.png 324w\"\n        sizes=\"(max-width: 324px) 100vw, 324px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p></div></div>\n<p>Ứng dụng demo của mình sẽ có RecyclerView, mặc định thì sẽ trông như hình trên, ứng dụng được vẽ ở trong SystemUI (gồm thanh trạng thái, thanh điều hướng) để có hiệu ứng trong suốt thì bạn làm như sau:</p>\n<ol>\n<li>\n<p>Ở Activity sẽ gọi <a href=\"https://developer.android.com/reference/android/view/View.html#setSystemUiVisibility%28int%29\"><code class=\"language-text\">setSystemUiVisibility()</code></a> và truyền các <code class=\"language-text\">flag</code> sau:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">decorView.systemUiVisibility = \n                View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN or  \n                View.SYSTEM_UI_FLAG_LAYOUT_STABLE or  \n                View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<ul>\n<li>Flag <code class=\"language-text\">SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN</code> để hệ thống vẽ View ở phía dưới Thanh trạng thái.</li>\n<li>Flag <code class=\"language-text\">SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION</code> để hệ thống vẽ View ở phía dưới Thanh điều hướng.</li>\n</ul>\n</li>\n<li>\n<p>Với themes.xml (hay styles.xml) chúng ta sẽ đổi màu của thanh trạng thái và thanh điều hướng bằng cách thêm các item sau:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">&lt;item name=&quot;android:statusBarColor&quot;&gt;@android:color/transparent&lt;/item&gt;\n&lt;item name=&quot;android:navigationBarColor&quot;&gt;#80FFFFFF&lt;/item&gt;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Vì đã trở nên trong suốt thì các icon ở thanh trạng thái và thanh điều hướng phải truyền thành màu đen để người dùng có thể nhìn thấy, thì ta sẽ thêm 2 item sau:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">&lt;item name=&quot;android:windowLightStatusBar&quot;&gt;true&lt;/item&gt;\n&lt;item name=&quot;android:windowLightNavigationBar&quot;&gt;true&lt;/item&gt;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n</li>\n</ol>\n<p>Lưu ý: nếu bạn chuyển màu thanh điều hướng thành trong suốt thì nó lại không trong suốt đâu nên phải để alpha = 50%, thì sẽ có hiệu ứng trong mờ. Nhưng nếu người dùng sử dụng thanh điều hướng cử chỉ (Gesture Navigation a.k.a cái thanh giống iOS trên iPhone X) thì nếu bạn chuyển màu thành trong suốt thì lại được @@.</p>\n<p>Tada ta có như hình phía dưới:</p>\n<div class=\"custom-block image-caption\"><div class=\"custom-block-heading\">Chưa có Padding</div><div class=\"custom-block-body\"><p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 324px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/169bc4f1c8299cbbfc84d75959f8be0d/67580/without_padding.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 177.7142857142857%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAABDrAAAQ6wFQlOh8AAAC40lEQVRIx6WW2U/yUBDF+///B/hATHiCBzQBIQgPipi4sQqoQBSQxRUXZHGBMb/5ckntB8ZCk5vb3rbTOXPmnF4rl8uJ3++XXq8nNzc30mw25e7uTszBervdlslkotfT6VTnt7c3fa5arUq5XJb7+3tdt3Z2dmR3d1dOTk40WCQSkePjYxkMBvLx8aGBPj8/xXmwzn3G+/u7fH19/QvYarWk2+3Kw8ODDIdD/TJZsf709DTLyjnmHaxbV1dXEo1G9Svj8VgDMtszcTOsRCIhwWBQstmsXFxcyNbWlhwdHSkEA8PNYREEeI1GQ/r9vhJgrg1kvjwP9rxhUTuY5gLYJoDJcCnIXq9Xqa/VahKPxyWfz/8otCvIhUJB24WAj4+PUiqVtJas2Vn+c0CCEMD+Eue0ECXg3BXkVCola2trUq/XddDUdL+9bf5KiJJyeHiocCEGdg8ODqRYLKqUYN01ZPRIiwARVpEZsoN9mtxtcyspgUBACUCCBDdCXyS7XyFjDHt7e1o7mI3FYmoUr6+vMwm6gowyyAy2R6ORwiVb1p+fn11naV1eXqp+yYaAEMG8kjlsbGxIJpOR8/Nz9UMgL20OlUpF4VE/WAU+13ZzcAUZRrEuLoDNTOu4hfoD8vr6umoYc9je3l7NHE5PT+X6+lrOzs7U+qkj0lvJHAjiNAeYXsocksmkeDwe4d8CEWgZopZWCuYAXOrW6XRUMZgFGl/KHGCZzIBoeg+joBSoxrU5kJl954BymFcyh/39/Zk58E9BNSubAxkSALiYAvV8eXlxrxSaORQKzZyGIKZ2S5vD5uampNNpbehwOKw7B+Q3b5PkVJBzr6MZmt0C5nB7eztz7t92Dgs3SwTArniJGtI2Zhu3aPAMpJEAg341xqL7Q5/Pp/KjZfgF4D5Odu3nBDVbPwJDoqm7ZsgiM8wyaHYeQsumyZ31oizc+w8y7FIrvgrDBhaEGJMw7WPucZCAU0k8/w3MztA7hwIiSAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Without Padding\"\n        title=\"Without Padding\"\n        src=\"/static/169bc4f1c8299cbbfc84d75959f8be0d/67580/without_padding.png\"\n        srcset=\"/static/169bc4f1c8299cbbfc84d75959f8be0d/4edbd/without_padding.png 175w,\n/static/169bc4f1c8299cbbfc84d75959f8be0d/67580/without_padding.png 324w\"\n        sizes=\"(max-width: 324px) 100vw, 324px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p></div></div>\n<p>Tuy nhiên, bạn có thể thấy item đầu tiên và dưới cùng của RecyclerView thì nó lại bị nằm phía dưới của thanh trạng thái và thanh điều hướng. Do đó, bạn phải set padding để cách hai thanh này bằng cách sau:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">ViewCompat.setOnApplyWindowInsetsListener(view) { v: View, insets: WindowInsetsCompat -&gt;  \n    val systemInsets: Insets = insets.systemWindowInsets  \n    v.setPadding(  \n            v.paddingLeft, systemInsets.top,  \n            v.paddingRight, systemInsets.bottom  \n    )  \n    insets  \n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Cơ bản thì đoạn code trên sẽ lắng nghe các số đo của điện thoại trong đó có thanh điều hướng và thanh trạng thái, rồi set padding trên và dưới cho RecyclerView.</p>\n<ul>\n<li>Chú ý: thêm <code class=\"language-text\">android:clipToPadding=&quot;false&quot;</code> vào RecyclerView để các item không bị cắt 4 cạnh theo padding được truyền vào. Mình nói thì hơi khó hiểu nhưng các bạn cứ thêm vào thì sẽ thấy tác dụng của nó.</li>\n</ul>\n<p>Và đây là kết quả:</p>\n<div class=\"custom-block image-caption\"><div class=\"custom-block-heading\">Thành quả nè</div><div class=\"custom-block-body\"><p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 324px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/504f57cb9ea5bad54e02747f53986315/67580/with_padding.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 177.7142857142857%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAYAAACJ8xqgAAAACXBIWXMAABDrAAAQ6wFQlOh8AAACyklEQVRIx62W7UsyURDF9///C6Iv4cdQv0QYpCYFFaKmpaa9qdmLlpmWWlnpxG9gZPNR6Opz4bK7unvunDtnzh1P5ozxeKzXTqcj9/f3k2eudj8ajeTh4UH/f3191d+8UqkkGxsb8vLyIo+Pj9JsNhXEBh99f3//AmT0+315enqafMOzAu7s7MjW1pak02mp1+sSiUQklUrJ5+enfH19zY2cRXjHJgsr4PX1tTQaDQ397e1NI2VlfrdIedmo+inPWsy7vb2V3d1dXfHj40Pe399lOBz+ouwyvVgsJuvr63J8fCzn5+dK/+joaALmOjQpRHl5eamZqlarSpf9NMrzKM4EfH5+ltPTU31gcw0A2iSFe2fKKysrcnZ2JldXVxKNRuXk5OTXRrtML5fLKc1CoSBEWywWFRyxknFnykiE/SPLTAZUu92uZtyZcjKZlEAgoBGRHOjWarXFKe/v70s2m1Wp3NzcyN7enoKS4cFg4E6ZCrm7u9NahDJ0e72eVg5X1yg9khAOh1WDFDplOG0OTnuIOWxvb0/MYXNzU9hXdGi6dKoUQIiK6DAHaP7FHOZSBpAo2TvMgURwXcocgsGgIHAEjR9C3/TnTLlcLqv+KpWKJgaqS5lDu93WsvObA8PMYSHKq6urQqSU4NLmgLFSaujRzAFwxE49L2QOFxcXWiWWBO4XNofDw0NZW1vTiEgEEWNnftk4UT44OFAQMwfMIp/PC8mys9aJMhWCbBC0nbUA8bsf8M8RIplQKKTuTAewtDkkEgmJx+P/dA6U31Lm0Gq11ByolmlzcKLMh4iZaJDJfzEH9hBzQNB0DplMZnFzoHMgSrQHXaTD9JuDAfsbpVlSUspkFzD/y3a2+Ns5Py07brk3Z7cuw6NbQNTojmjxRORjgxLkiPVXDYNi4D3A2Hfr2PTUQ8DW2lrGASI5ZJ6qmabMtpjw/ZR/AJh80z7FFYDqAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"With Padding\"\n        title=\"With Padding\"\n        src=\"/static/504f57cb9ea5bad54e02747f53986315/67580/with_padding.png\"\n        srcset=\"/static/504f57cb9ea5bad54e02747f53986315/4edbd/with_padding.png 175w,\n/static/504f57cb9ea5bad54e02747f53986315/67580/with_padding.png 324w\"\n        sizes=\"(max-width: 324px) 100vw, 324px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p></div></div>\n<p>Thế là giao diện ứng dụng của bạn đã đẹp hơn 69 lần rồi đấy. Các bạn cứ làm như hướng dẫn là được. </p>\n<h2>4. One more thing:</h2>\n<p>Nếu bạn nào ngại viết mấy dòng code lắng nghe rồi set padding thì có thư viện đây <a href=\"https://github.com/chrisbanes/insetter\">Insetter</a> của <a href=\"https://medium.com/androiddevelopers/windowinsets-listeners-to-layouts-8f9ccc8fa4d1\">Chris Banes</a>, thay vì viết vào code thì bạn chỉ cần set trực tiếp vào .xml (cơ bản thì anh ấy sử dụng Data Binding để set padding vào view).</p>\n<div class=\"custom-block author\"><div class=\"custom-block-heading\">Vũ Tiến Thành </div><div class=\"custom-block-body\"></div></div>","id":"b1a8c29c-470c-5288-8727-86dec680ad7d","frontmatter":{"title":"How to make Status bar and Navigation bar transparent (...like iOS) on Android","date":"28-02-2021","tags":["android","kotlin"]},"fields":{"slug":"/how-to-make-status-bar-and-navigation-bar-transparent-like-ios-on-android/","readingTime":{"text":"5 min read"}}}},{"node":{"excerpt":"Hệ sinh thái AWS khổng lồ cung cấp cho chúng ta vô vàn công cụ giúp đẩy nhanh thời gian đưa ý tưởng thành sản phẩm. Trong đó có Elastic Beanstalk (EB). EB là nền tảng giúp ta quản lý tất cả mọi thứ…","snippet":"<div class=\"custom-block-body\"><p>H&#x1EC7; sinh th&#xE1;i AWS kh&#x1ED5;ng l&#x1ED3; cung c&#x1EA5;p cho ch&#xFA;ng ta v&#xF4; v&#xE0;n c&#xF4;ng c&#x1EE5; gi&#xFA;p &#x111;&#x1EA9;y nhanh th&#x1EDD;i gian &#x111;&#x1B0;a &#xFD; t&#x1B0;&#x1EDF;ng th&#xE0;nh s&#x1EA3;n ph&#x1EA9;m. Trong &#x111;&#xF3; c&#xF3; Elastic Beanstalk (EB). EB l&#xE0; n&#x1EC1;n t&#x1EA3;ng gi&#xFA;p ta qu&#x1EA3;n l&#xFD; t&#x1EA5;t c&#x1EA3; m&#x1ECD;i th&#x1EE9;, nh&#x1B0; server,load balancer,autoscale,deploy, monitoring, vv... m&#x1ED9;t c&#xE1;ch tr&#x1EF1;c quan v&#xE0; d&#x1EC5; hi&#x1EC3;u nh&#x1EA5;t. Ch&#x1EC9; m&#x1EA5;t 1,2 ng&#xE0;y setup l&#xE0; t&#x1EA5;t c&#x1EA3; m&#x1ECD;i th&#x1EE9; ready. B&#xE0;i vi&#x1EBF;t n&#xE0;y h&#x1B0;&#x1EDB;ng d&#x1EAB;n c&#xE1;ch g&#x1EAF;n m&#x1ED9;t IP t&#xED;nh cho t&#x1EA5;t c&#x1EA3; c&#xE1;c instances trong 1 load balanced EB environment.</p></div>","html":"<div class=\"custom-block snippet\"><div class=\"custom-block-body\"><p>Hệ sinh thái AWS khổng lồ cung cấp cho chúng ta vô vàn công cụ giúp đẩy nhanh thời gian đưa ý tưởng thành sản phẩm. Trong đó có Elastic Beanstalk (EB). EB là nền tảng giúp ta quản lý tất cả mọi thứ, như server,load balancer,autoscale,deploy, monitoring, vv... một cách trực quan và dễ hiểu nhất. Chỉ mất 1,2 ngày setup là tất cả mọi thứ ready. Bài viết này hướng dẫn cách gắn một IP tính cho tất cả các instances trong 1 load balanced EB environment.</p></div></div>\n<h2>Mở đầu</h2>\n<p>Với 1 load balanced EB environment, có rất nhiều thứ có thể làm thay đổi IP server của bạn.</p>\n<ul>\n<li>deploy</li>\n<li>auto scaling</li>\n<li>stop &#x26; start server</li>\n<li>update config, settings ...</li>\n</ul>\n<p>EB rất linh hoạt, nên server của bạn cũng sẽ rất \"linh hoạt\".\nVậy nếu tôi muốn gắn 1 IP cố định duy nhất cho tất cả các server của tôi thì sao?\nCó nhiều kịch bản yêu cầu một IP cố định cho server. Tóm lại là không muốn công khai thông tin với người ngoài, tôi chỉ cho ông này với IP này truy cập dữ liệu của tôi thôi.</p>\n<p><em>Một số khái niệm trong bài viết có thể lạ lẫm với một số bạn chưa có kinh nghiệm làm việc với AWS.</em></p>\n<h2>Làm thế nào để cố định IP servers trong Loadbalanced EB</h2>\n<p>Trả lời luôn là dùng NAT Gateway. NAT Gateway dùng để làm gì? Theo tài liệu, NAT Gateway cho phép server của bạn kết nối với internet nhưng không cho internet kết nối trực tiếp tới server.</p>\n<blockquote>\n<p>You can use a network address translation (NAT) gateway to enable instances in a private subnet to connect to the internet or other AWS services, but prevent the internet from initiating a connection with those instances.\nrefs <a href=\"https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat-gateway.html\">https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat-gateway.html</a></p>\n</blockquote>\n<p>nat gateway diagram | nguồn: <a href=\"https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat-gateway.html\">https://docs.aws.amazon.com/vpc/latest/userguide/vpc-nat-gateway.html</a>\n<img src=\"https://docs.aws.amazon.com/vpc/latest/userguide/images/nat-gateway-diagram.png\" alt=\"nat gateway diagram\"></p>\n<p>Hệ thống sẽ hoạt động như sau:</p>\n<ul>\n<li>NAT gateway nằm giữa server và Internet (chiều kết nối từ server ra internet)</li>\n<li>NAT gateway được gắn 1 IP cố đinh</li>\n<li>Tất cả các kết nối từ server tới internet được router điều hướng qua NAT Gateway trước khi tới Internet</li>\n</ul>\n<p>Như vậy suy ra việc bạn cần phải làm là:</p>\n<ul>\n<li>NAT Gateway cần được thiết lập để truy cập được internet</li>\n<li>Cần gắn một IP tĩnh cho NAT Gateway</li>\n<li>Cần điều hướng tất cả các kết nối của server qua NAT Gateway</li>\n</ul>\n<p>Tiếp theo sẽ là các bước cụ thể, phải làm thế nào</p>\n<h3>Bước 1: Chuẩn bị sẵn các tài nguyên cần thiết</h3>\n<ul>\n<li>1 VPC</li>\n<li>1 EIP (Elastic IP) chưa được sử dụng</li>\n<li>1 Route table cho internet access (public)</li>\n<li>1 Route table cho NAT Gateway (private)</li>\n<li>2 subnet (1 private, 1 public)</li>\n<li>servers (ở đây dùng luôn Loadbalanced EB servers)</li>\n</ul>\n<h3>Bước 2: Tạo 1 NAT Gateway mới</h3>\n<ul>\n<li>Subnet: chọn public subnet</li>\n<li>Elastic IP allocation ID: chọn EIP đã chuẩn bị</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1bb8b342b68abfd4cc401ec69333ff6c/b2b2c/create-gateway.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 88.57142857142857%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAACE0lEQVQ4y51Uy5LaMBDkm3PMMfd8SC45pCqH/EQ2WXYrN8DGLPiB5adsY0xnevyAQIpQUVV7bGvU6nlIs+f5C+Yvr/j5PFd8f/qB+esv+CZFXhTI8hxplj0E+s7ctQfX28DbvCmWjoPFyoG33WGz3SJOkoE0V3sPJJ2tSeiu4bguFosldr6Puq5RliUKQVVV+l3dgfpb2xMaYxAEAfb7PRJRU0iYp9MJXdeJ7XA8Hh9C0zQ9YSREm7etKAtgq1pQqbIxf4e2RTdscIlxcHOOVvyUkJIzWZzKYpJQOom5azsq6G6VjkQ3hEEYwphEcsW8WVVHezgc1OneINkNIR+JoBASTbKETJV5UaodlY5qubCWfI1kN4RUM5a8FJVNy/yI46DgOnfdEP71mAhZDE+KspZe3AYRTF7qBqza6SKsESwQc8pINLo0g7XVmbCRFzuEyVCa5rK/Gu2xCTLP/yQgURBG8AOpQZJOG8x2Ox+ZvPSOVp3PxfkT0z/1s0qi68SyQ5RwsVyBx4+7MXyelH0cS5OnWn2CDU8byyEwSdLPJf13HBtRe6GQ7ZLnwyWQZtPkWNFHQF+mZKoyDz5JKd3q2W3wz8F2+VvbMBRHLgfeNMzH/45WeJWwKM7nllZV2mpSew0WpOB8GqEMVrDhWuCgCL3zScny7KGLlD5RFMELpDhPX2E+vYP58gHm83uYbx+lBgl+A845bePtgIFEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"create new gateway\"\n        title=\"create new gateway\"\n        src=\"/static/1bb8b342b68abfd4cc401ec69333ff6c/8c557/create-gateway.png\"\n        srcset=\"/static/1bb8b342b68abfd4cc401ec69333ff6c/4edbd/create-gateway.png 175w,\n/static/1bb8b342b68abfd4cc401ec69333ff6c/13ae7/create-gateway.png 350w,\n/static/1bb8b342b68abfd4cc401ec69333ff6c/8c557/create-gateway.png 700w,\n/static/1bb8b342b68abfd4cc401ec69333ff6c/e996b/create-gateway.png 1050w,\n/static/1bb8b342b68abfd4cc401ec69333ff6c/2cefc/create-gateway.png 1400w,\n/static/1bb8b342b68abfd4cc401ec69333ff6c/b2b2c/create-gateway.png 1708w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>NAT Gateway phải truy cập được internet nên phải chọn public subnet</p>\n<h3>Bước 3: Thiết lập Route table private</h3>\n<p>Tạo một route table mới, sau đó edit routes, thêm routes sau</p>\n<ul>\n<li>Destination: 0.0.0.0/0</li>\n<li>Target: chọn NAT gateway vừa tạo.</li>\n</ul>\n<p>Route table này có nhiệm vụ điều hướng tất cả kết nối đến và gửi tới NAT Gateway</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8c94e24b79205ea9ec382198a6b464ce/95be1/route-table-private.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25.71428571428572%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAwklEQVQY032QXQ6DIBCEvf9lmvQQPmjTW9RWaBXlTy0w3aVGTR+64SPAbmZ3KIwxGMcRy7IgpYQY40YIYeP4/o+ibVswahjQ9yqjlELXdZBSghtqrfObkCIzUG2+C4GmafK5J7z3KG4Pibt4wc0BdnqvBGg7oa5rlGWJqqqy6OA09GSReHrCObc6i/DOghIohJDQNAUHW6a1kmCtzd/BYmwncU3esdVzhJhgPA0yk6D33y674M4xfnNHDDk6X584XQQ+Lm2DqvwDOisAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"route table\"\n        title=\"route table\"\n        src=\"/static/8c94e24b79205ea9ec382198a6b464ce/8c557/route-table-private.png\"\n        srcset=\"/static/8c94e24b79205ea9ec382198a6b464ce/4edbd/route-table-private.png 175w,\n/static/8c94e24b79205ea9ec382198a6b464ce/13ae7/route-table-private.png 350w,\n/static/8c94e24b79205ea9ec382198a6b464ce/8c557/route-table-private.png 700w,\n/static/8c94e24b79205ea9ec382198a6b464ce/e996b/route-table-private.png 1050w,\n/static/8c94e24b79205ea9ec382198a6b464ce/2cefc/route-table-private.png 1400w,\n/static/8c94e24b79205ea9ec382198a6b464ce/95be1/route-table-private.png 2574w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Sau khi tạo routes thì qua subnets. Click vào private subnet đã chuẩn bị và \"Edit route table association\".\nChọn lại Route table private vừa tạo</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/caa7d1e07a1301eaec7e62b94223d532/3162c/private-subnet.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.28571428571429%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB4ElEQVQoz3WSbWvTUBTH820r070o/QDzQ5Qy+wAW0Q3xleiroQgyMWkzu2Z2Ky1FZ9c2aXJvcvP8sP49N0rpxnbhxz3hnJz7Pw+Kwxhs20GcZthsNltuiSRJiQRFUUCerZ/sorhFEARgXgAxUSFOuxBTDUoYhpjNZhicDzEej3F5Ncbo8gqTyRRxEiHPM8zncwwNA6PRaIthXJT/5XmOVDhI7D8ImEUJ8w2O377Dk0oFtVoN1WoVz/b3cXDwHNfOEovYwqvXb1DZ8cv76d4eGoeHyEitzBGT7IgKUXiU4MvXUzSbL/Cy2y3pdDo4OjrG3LFw41s4+fQZ9Xod7XYbzVYLLbobjQbef/gIP8nAgwjMD2F7PhTTNHGzWMCiPjLmwF5bcD0PaZYhiiIIT0D4PgJqzX186qEQAj75GZezsCmhtcav39c4Gwxw1vsOXfsG/ccA58MhjIufWFn/HngMxl3YDoMcLnddKMvVCpPpFP1+H6qqQdU09Ho9slXoul4qiOIYcnghKd5FVlCqY5wS8vIBxaOSpPHYSdMUOZWfEdLO/tslO9/SJ9ugcJJsmtbdQEImkXvIXFJIO5rResh9fAi5OuX6UFKFcV7WLxt8H+EHWHOBpeOB0wSDB2Luxvv4C1Jg2ssLKoDZAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"private subnet\"\n        title=\"private subnet\"\n        src=\"/static/caa7d1e07a1301eaec7e62b94223d532/8c557/private-subnet.png\"\n        srcset=\"/static/caa7d1e07a1301eaec7e62b94223d532/4edbd/private-subnet.png 175w,\n/static/caa7d1e07a1301eaec7e62b94223d532/13ae7/private-subnet.png 350w,\n/static/caa7d1e07a1301eaec7e62b94223d532/8c557/private-subnet.png 700w,\n/static/caa7d1e07a1301eaec7e62b94223d532/e996b/private-subnet.png 1050w,\n/static/caa7d1e07a1301eaec7e62b94223d532/2cefc/private-subnet.png 1400w,\n/static/caa7d1e07a1301eaec7e62b94223d532/3162c/private-subnet.png 2750w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Như vậy tất cả server trong subnet private, kết nối tới internet sẽ đều được điều hướng thông qua NAT Gateway</p>\n<h3>Bước 4: Chuyển tất cả servers sang private subnet (DONE)</h3>\n<p>Khi tạo EB environment mới cần thực hiện đẩy đủ 1,2,3\nnhưng với EB có sẵn thì chỉ cần thực hiện bước 3 thôi.</p>\n<ol>\n<li>Phần Network: chọn VPC</li>\n<li>\n<p>Load balancer setting</p>\n<ul>\n<li>Visibility: chọn public</li>\n<li>Chọn public subnets.</li>\n</ul>\n</li>\n<li>\n<p>Instance settings</p>\n<ul>\n<li>Public IP addres: bỏ chọn</li>\n<li>Instance subnets: chọn private subnet</li>\n</ul>\n</li>\n</ol>\n<p>Như vậy ta đã hoàn tất các bước thiết lập IP cố định cho tất cả server trong 1 load balanced EB environment.\nĐể test thử thành quả thì rất đơn giản</p>\n<ul>\n<li>ssh vào server</li>\n<li>run <code class=\"language-text\">curl ipinfo.io</code> để kiểm tra IP của server</li>\n</ul>\n<h2>Kết</h2>\n<p>Bài viết đã</p>\n<ul>\n<li>trình bày cách làm thế nào để gắn IP cố định cho servers trong loadbalanced EB env</li>\n<li>giải thích ngắn gọn về cách hoạt động cũng như tại sao lại setting thế này, setting thế kia.</li>\n</ul>\n<p>Do ít thời gian nên bài viết chưa giải thích hết được các khái niệm được đề cập đến, một số bạn chưa có kinh nghiệm aws sẽ thấy khó hiểu. Thời gian tới tác giả sẽ cố gắng có nhiều bài chủ đề liên quan tới aws hơn.</p>\n<p>Cảm ơn mọi người đã đọc bài viết, nếu có comments thì liên lạc với mình qua email anh.nguyen@tomosia.com.</p>\n<p>[[author | Nguyen Tuan Anh ]]</p>","id":"9a7eaf02-7193-542e-b4e7-299864a2d04b","frontmatter":{"title":"Tạo IP tĩnh cho Elastic Beanstalk","date":"28-02-2021","tags":["aws"]},"fields":{"slug":"/tao-ip-tinh-cho-elastic-beanstalk/","readingTime":{"text":"5 min read"}}}},{"node":{"excerpt":"Chào cả nhà! Đầu tiên hình ảnh là gì:    Khái niệm về hình ảnh là những gì chúng ta thấy được thông qua thị giác, rồi sau đó chuyển về não giúp ta cảm nhận nhận hình ảnh đó một cách chân thực nhất, từ…","snippet":"<div class=\"custom-block-body\"><p>   Kh&#xE1;i ni&#x1EC7;m v&#x1EC1; h&#xEC;nh &#x1EA3;nh l&#xE0; nh&#x1EEF;ng g&#xEC; ch&#xFA;ng ta th&#x1EA5;y &#x111;&#x1B0;&#x1EE3;c th&#xF4;ng qua th&#x1ECB; gi&#xE1;c, r&#x1ED3;i sau &#x111;&#xF3; chuy&#x1EC3;n v&#x1EC1; n&#xE3;o gi&#xFA;p ta c&#x1EA3;m nh&#x1EAD;n nh&#x1EAD;n h&#xEC;nh &#x1EA3;nh &#x111;&#xF3; m&#x1ED9;t c&#xE1;ch ch&#xE2;n th&#x1EF1;c nh&#x1EA5;t, t&#x1EEB; &#x111;&#xF3; &#x111;&#x1B0;a ra nh&#x1EEF;ng ph&#x1EA3;n x&#x1EA1;,c&#x1EA3;m nh&#x1EAD;n v&#x1EC1; h&#xEC;nh &#x1EA3;nh m&#xE0; ta v&#x1EEB;a thu nh&#x1EAD;n.</p></div>","html":"<h2>Chào cả nhà!</h2>\n<p>Đầu tiên hình ảnh là gì:</p>\n<div class=\"custom-block snippet\"><div class=\"custom-block-body\"><p>   Khái niệm về hình ảnh là những gì chúng ta thấy được thông qua thị giác, rồi sau đó chuyển về não giúp ta cảm nhận nhận hình ảnh đó một cách chân thực nhất, từ đó đưa ra những phản xạ,cảm nhận về hình ảnh mà ta vừa thu nhận.</p></div></div>\n<div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 88.125%; position: relative; height: 0; overflow: hidden; \" > <iframe src=\"https://giphy.com/embed/WJjLyXCVvro2I\" frameborder=\"0\" class=\"giphy-embed\" allowfullscreen style=\" position: absolute; top: 0; left: 0; width: 100%; height: 100%; \"></iframe><p><a href=\"https://giphy.com/gifs/WJjLyXCVvro2I\">via GIPHY</a></p> </div>\n<p>  Tiếp theo ta đến với chủ đề chính là điều chỉnh hình ảnh và cách tạo thư viện hổ trợ chọn hình ảnh từ thư viện của điện thoại <strong>iOS</strong></p>\n<h1>Chào mừng bạn đến với bài viết của mình!</h1>\n<h2>I. Về xử lý hình ảnh:</h2>\n<ul>\n<li>Khi mình tải một hình ảnh điều gì sẽ xảy ra nếu hình ảnh bạn đưa lên \"quá lớn\", tất nhiên hình ảnh của bạn sẽ bị giảm kích thước (độ phân giải) và được đưa lên mà bạn không biết rằng hình ảnh của mình đã bị thay đổi kích thước (độ phân giải) vì sao lại có vấn đề này xảy ra?</li>\n<li>Xử lý hình ảnh giảm kích thước ban đầu của nó, không phải tất cả nhưng hầu hết các ứng dụng hay các trang mạng xã hội, ... đều phải xử lý kích thước hình ảnh gửi lên. Tại sao phải giảm kích thước nó đi, nó đâu có ảnh hưởng gì? hình ảnh sẽ bị giảm phân giải đi nếu bị giảm kích thước trông nó sẽ thế nào?</li>\n<li>Và nếu khi <strong>Upload</strong> ảnh nén lại vậy, khi <strong>load</strong> ra sẽ không còn chuẩn như ảnh gốc, vậy người dùng sẽ nghỉ thế nào khi ảnh của họ bị thay đổi?</li>\n<li>\n<p>Đầu tiên mình sẽ chia sẽ một chút hiểu biết của mình về vấn đề xử lý hình ảnh:</p>\n<ul>\n<li>Xử lý hình ảnh là việc chọn lọc những thông tin mong muốn từ những bức ảnh chụp từ máy ảnh hay máy <strong>Scan</strong>, để chọn lọc những thông tin mong muốn được chứa trong bức ảnh, phương pháp cơ bản được dùng trong xử lý hình ảnh là loại bỏ những phần thông tin ảnh không mong muốn.</li>\n<li>Xử lý hình ảnh hay ở đây là tối giản lại kích thước hình ảnh cho phù hợp với nhu câu sử dụng hình ảnh, để đảm bảo ảnh được tải lên lưu trữ và hiển thị tốt nhất (túm gọn lại là hình ảnh có độ phân giải quá lớn sẽ cần phải giảm kích thước lại cho phù hợp với nhu cầu lưu trữ hay hiển thị để đảm bảo tốc độ tải lên củng như tải xuống), ví dụ như bạn thích góc phải của hình ảnh gốc thì bạn cắt hình ảnh mới từ góc phải của ảnh gốc để lấy hình ảnh bạn yêu thích.</li>\n<li>Chất lượng hình ảnh thì sẽ ra sao khi bị nén lại, tất nhiên nó vẫn xem được với đúng kích thước bạn đã <strong>Resize</strong> theo <strong>Pixel</strong> của hình ảnh, hay chính là kích thước <strong>Width</strong> x <strong>Height</strong> nó sẽ hiển thị ra theo màn hình bạn tỉ lệ đó, và với kích thước được điều chỉnh đó ảnh bạn trông vẫn ổn, chỉ là bạn không thể phóng to hình ảnh ra như phim <strong>Bollywood</strong> thôi.</li>\n<li>Còn vấn đề xử lý hình ảnh chi tiết thì bạn nên tìm hiểu chuyên sâu về xử lý hình ảnh bằng chị Google có rất nhiều bài viết khá thú vị.</li>\n</ul>\n</li>\n<li>Đến với phần chính của bài viết nào!</li>\n</ul>\n<h2>II. iOS làm thế nào để tạo một ImagePicker?</h2>\n<ul>\n<li>Vì sao phải tạo <strong>ImagePickerView</strong> riêng mình mà không dùng <strong>UIImagePickerController</strong> ? Tốn thời gian nhiều để tạo một thư viện làm gì? Tất nhiên tốn thời gian hơn nhưng sẽ có lợi ích riêng, Nếu bạn đang sử dụng <strong>UIImagePickerController</strong> bạn thử chọn những hình ảnh có kích thước lớn hơn 20MB điều gì sẽ xảy ra nhỉ, không có hình ảnh nào được trả về, và không có thông báo gì vậy lỗi này là gì? bạn sẽ mất hàng giờ để tìm hiểu nguyên nhân và kết quả là vì hình ảnh quá lớn nên kết quả trả về là sự chấm dứt việc chọn hình ảnh(bạn chọn hình ảnh lớn trả về cùng kết quả với hành động từ chối ko chọn hình ảnh nữa). vậy điều này khiến bạn tìm đến thư viện hoặc trợ giúp từ Google vậy tại sao bạn không tự kiểm soát vấn đề của mình?</li>\n<li>\n<p>Mình giới thiệu cách mình xử lý trường hợp trên (tự tạo thư viện để sử dụng, nếu bạn thích thì cũng có thể từ đây tạo ra một thư viện chọn ảnh theo phong cách của bạn), các bước tạo thư viện cần thiết là:</p>\n<ol>\n<li>Lấy ảnh từ thư viện(request truy cập thư viện rồi lấy dữ liệu hình ảnh trong thư viện).</li>\n<li>Tạo giao diện show các hình ảnh đó (<strong>CollectionView</strong>, .... tuỳ khả năng design của bạn).</li>\n<li>Giảm kích thước hình ảnh (giảm data của hình ảnh).</li>\n<li>Trả về hình ảnh( lấy hình ảnh đã được chỉnh sữa hoặc data của hình ảnh).</li>\n</ol>\n</li>\n<li>\n<p><strong>Resource</strong> để làm các bước trên:</p>\n<ol>\n<li>\n<p>Tạo File cho thư viện <strong>PickerViewController</strong> và tất nhiên thư viện hổ trợ cho việc này là <strong>Photo</strong>:</p>\n<ul>\n<li>\n<p><strong>Photos</strong> là thư viện hổ trợ cho việc tương tác với thư viện như thêm và chỉnh sửa hổ trợ để lấy hình ảnh từ thư viện ảnh và một số tính năng khác.  </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">import Photos \n\nclass ImagePickerViewController: UIViewController, PHPhotoLibraryChangeObserver {\n    var assetArray: [PHAsset] = []\n    func getAllPhoto() {\n        PHPhotoLibrary.shared().register(self)\n        let status = PHPhotoLibrary.authorizationStatus()\n        let locationManager = CLLocationManager()\n        if status == .restricted || status == .denied {\n            locationManager.requestWhenInUseAuthorization()\n            return\n        }\n        DispatchQueue.global(qos: .userInteractive).async {\n            let allPhotosOptions = PHFetchOptions()\n            allPhotosOptions.sortDescriptors = [NSSortDescriptor(key: &quot;creationDate&quot;, ascending: false)]\n            allPhotosOptions.predicate = NSPredicate(format: &quot;mediaType == %d&quot;, PHAssetMediaType.image.rawValue)\n            assetArray = PHAsset.fetchAssets(with: allPhotosOptions)\n            DispatchQueue.main.async {\n                // here you reload view\n            }\n        }\n    }\n  }</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p>Tạo giao diện bạn mong muốn (ví dụ bạn tạo một <strong>CollectionView</strong> show toàn bộ hình ảnh lấy được từ thư viện ra, khi selected một hình ảnh thì chuyển sang màn hình chỉnh sửa cắt ,.... ). Và để lấy một ảnh thì từ <strong>PHAsset</strong> thì:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">    getImage(asset: PHAsset)-&gt; UIImage {\n        let imageManager = PHImageManager.default()\n        let imageRequestOption = PHImageRequestOptions()\n        imageRequestOption.isSynchronous = true\n        imageRequestOption.resizeMode = .exact\n        imageRequestOption.deliveryMode = .opportunistic\n        imageManager.requestImage(for: asset, targetSize: CGSize(width: 200, height: 200), contentMode: .aspectFill, options:\n        imageRequestOption, resultHandler: {\n          (image, _) -&gt; Void in\n            // here your image (image)\n        })\n    }</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<ul>\n<li><strong>imageRequestOption</strong> là thiết lập cho hình ảnh.</li>\n<li><strong>imageManager.requestImage</strong> là Func trả về một hình ảnh !</li>\n<li>\n<p><strong>imageManager.requestImageData</strong> ta có thể <strong>request data image</strong> thay vì <strong>request image</strong> nếu không muốn lấy <strong>image</strong>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">imageManager.requestImageData(for: asset, options: imageRequestOption) { data, _, _, _ in\n  guard let data = data else { return }\n  DispatchQueue.main.async {\n    if let image = UIImage(data: data) {\n     //note: here your image (image)\n    }\n  }\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n<li>\n<p>Xử lý hình ảnh khi ta có <strong>image</strong> rồi thì mọi việc dể dàng hơn chỉ cần gọi Func dưới:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">public func jpegData(compressionQuality: CGFloat) -&gt; Data? // return image as JPEG. May return nil if image has no CGImageRef or invalid bitmap format. compression is 0(most)..1(least)</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<ul>\n<li>\n<p>Cách gọi:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">guard let imageData = UIImage(data: dataImage)?.jpegData(compressionQuality: 0.5) else {return}\n// lay data được resize của hình ảnh\nlet imageResize = UIImage(data: imageData)\n// trả về một UIImage từ data</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p>Sau bước 3 ta đã có hình ảnh đã được chỉnh sửa kích thước, việc còn lại bạn trả về hình ảnh cho nơi gọi hàm.</p>\n<ul>\n<li>\n<p>Tới đây thì việc lấy ảnh từ thư viện và chỉnh sửa ảnh giảm kích thước hay không giảm thì tuỳ thuộc vào option của bạn. Hi vọng nó giúp được bạn ít nhiều. một vài <strong>Option</strong> để lấy hình ảnh mình có sử dụng là:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">public  func  requestPreviewImage(for asset: PHAsset, progressHandler: Photos.PHAssetImageProgressHandler?, resultHandler: @escaping (UIImage?, Data?, [AnyHashable: Any]?) -&gt; Void) -&gt; PHImageRequestID {\n  let option = PHImageRequestOptions()\n  option.isNetworkAccessAllowed = true\n  option.progressHandler = progressHandler\n  return requestImageData(for: asset, options: option) { (data,  _,  _, dictionry: Dictionary?) in\n    if let data = data, let image = UIImage(data: data, scale: 1) {\n      resultHandler(image, data, dictionry)\n    }\n  }\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n<li>Func này trả về một hình ảnh nguyên bản và data của nó.</li>\n<li>Tới đây thì có lẽ bạn đã biết được cách lấy hình ảnh từ thư viện hi vọng bạn có thể tạo được bộ source cho <strong>PickerImage</strong> theo ý mình.</li>\n<li>Các <strong>Option</strong> của bạn củng có thể dẫn đến tình trạng lỗi không chọn được hình ảnh nên nếu gặp vấn đề như vậy thì bạn chỉ cần kiểm tra lại ở các <strong>Option</strong> của bạn khi lấy hình ảnh là được (sửa hoặc thay thế <strong>Option</strong> để nhận kết quả mới).</li>\n<li>\n<p>Vậy thì còn lý do gì để bạn không dùng phương pháp này lỗi mình sửa được vẫn hơn trông cậy một ai đó giúp đỡ khi bạn bị task dí đít mà gặp bug?</p>\n<h2>Đến đây chắc hẳn bạn đã tạo được cho mình một <strong>ImagePicker</strong> cho chình mình rồi nhỉ, Cảm ơn Bạn đã đọc bài viết của mình!</h2>\n</li>\n</ul>\n</li>\n</ol>\n</li>\n</ul>\n<div class=\"custom-block author\"><div class=\"custom-block-heading\">Đặng Cao Trí </div><div class=\"custom-block-body\"></div></div>","id":"3e93a496-9ecb-5b59-90c8-24700aa53780","frontmatter":{"title":"Create library ImagePicker for IOS","date":"24-02-2021","tags":["ios","swift"]},"fields":{"slug":"/create-library-imagepicker-for-ios/","readingTime":{"text":"8 min read"}}}}]}},"pageContext":{}},"staticQueryHashes":["3963689063","63159454","81262063"]}