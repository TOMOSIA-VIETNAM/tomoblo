{"componentChunkName":"component---src-templates-post-list-js","path":"/2","result":{"data":{"site":{"siteMetadata":{"title":"TOMOSIA VIETNAM","author":"„ÄåÂÖ±„Å´„Äç„ÄåÂπ∏„Åõ„Äç„ÄåÁÅØ„Åô„Äç","labels":[{"tag":"javascript","tech":"JavaScript","name":"M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z","size":20,"color":"yellow"},{"tag":"react","tech":"React","name":"M12 9.861A2.139 2.139 0 1 0 12 14.139 2.139 2.139 0 1 0 12 9.861zM6.008 16.255l-.472-.12C2.018 15.246 0 13.737 0 11.996s2.018-3.25 5.536-4.139l.472-.119.133.468a23.53 23.53 0 0 0 1.363 3.578l.101.213-.101.213a23.307 23.307 0 0 0-1.363 3.578l-.133.467zM5.317 8.95c-2.674.751-4.315 1.9-4.315 3.046 0 1.145 1.641 2.294 4.315 3.046a24.95 24.95 0 0 1 1.182-3.046A24.752 24.752 0 0 1 5.317 8.95zM17.992 16.255l-.133-.469a23.357 23.357 0 0 0-1.364-3.577l-.101-.213.101-.213a23.42 23.42 0 0 0 1.364-3.578l.133-.468.473.119c3.517.889 5.535 2.398 5.535 4.14s-2.018 3.25-5.535 4.139l-.473.12zm-.491-4.259c.48 1.039.877 2.06 1.182 3.046 2.675-.752 4.315-1.901 4.315-3.046 0-1.146-1.641-2.294-4.315-3.046a24.788 24.788 0 0 1-1.182 3.046zM5.31 8.945l-.133-.467C4.188 4.992 4.488 2.494 6 1.622c1.483-.856 3.864.155 6.359 2.716l.34.349-.34.349a23.552 23.552 0 0 0-2.422 2.967l-.135.193-.235.02a23.657 23.657 0 0 0-3.785.61l-.472.119zm1.896-6.63c-.268 0-.505.058-.705.173-.994.573-1.17 2.565-.485 5.253a25.122 25.122 0 0 1 3.233-.501 24.847 24.847 0 0 1 2.052-2.544c-1.56-1.519-3.037-2.381-4.095-2.381zM16.795 22.677c-.001 0-.001 0 0 0-1.425 0-3.255-1.073-5.154-3.023l-.34-.349.34-.349a23.53 23.53 0 0 0 2.421-2.968l.135-.193.234-.02a23.63 23.63 0 0 0 3.787-.609l.472-.119.134.468c.987 3.484.688 5.983-.824 6.854a2.38 2.38 0 0 1-1.205.308zm-4.096-3.381c1.56 1.519 3.037 2.381 4.095 2.381h.001c.267 0 .505-.058.704-.173.994-.573 1.171-2.566.485-5.254a25.02 25.02 0 0 1-3.234.501 24.674 24.674 0 0 1-2.051 2.545zM18.69 8.945l-.472-.119a23.479 23.479 0 0 0-3.787-.61l-.234-.02-.135-.193a23.414 23.414 0 0 0-2.421-2.967l-.34-.349.34-.349C14.135 1.778 16.515.767 18 1.622c1.512.872 1.812 3.37.824 6.855l-.134.468zM14.75 7.24c1.142.104 2.227.273 3.234.501.686-2.688.509-4.68-.485-5.253-.988-.571-2.845.304-4.8 2.208A24.849 24.849 0 0 1 14.75 7.24zM7.206 22.677A2.38 2.38 0 0 1 6 22.369c-1.512-.871-1.812-3.369-.823-6.854l.132-.468.472.119c1.155.291 2.429.496 3.785.609l.235.02.134.193a23.596 23.596 0 0 0 2.422 2.968l.34.349-.34.349c-1.898 1.95-3.728 3.023-5.151 3.023zm-1.19-6.427c-.686 2.688-.509 4.681.485 5.254.987.563 2.843-.305 4.8-2.208a24.998 24.998 0 0 1-2.052-2.545 24.976 24.976 0 0 1-3.233-.501zM12 16.878c-.823 0-1.669-.036-2.516-.106l-.235-.02-.135-.193a30.388 30.388 0 0 1-1.35-2.122 30.354 30.354 0 0 1-1.166-2.228l-.1-.213.1-.213a30.3 30.3 0 0 1 1.166-2.228c.414-.716.869-1.43 1.35-2.122l.135-.193.235-.02a29.785 29.785 0 0 1 5.033 0l.234.02.134.193a30.006 30.006 0 0 1 2.517 4.35l.101.213-.101.213a29.6 29.6 0 0 1-2.517 4.35l-.134.193-.234.02c-.847.07-1.694.106-2.517.106zm-2.197-1.084c1.48.111 2.914.111 4.395 0a29.006 29.006 0 0 0 2.196-3.798 28.585 28.585 0 0 0-2.197-3.798 29.031 29.031 0 0 0-4.394 0 28.477 28.477 0 0 0-2.197 3.798 29.114 29.114 0 0 0 2.197 3.798z","size":20,"color":"deepskyblue"},{"tag":"nodejs","tech":"Node.js","name":"M11.177 25.3a1.94 1.94 0 0 1-.969-.259l-3.086-1.826c-.46-.257-.235-.349-.083-.402.614-.213.739-.262 1.394-.635.069-.038.159-.024.231.018l2.37 1.407a.304.304 0 0 0 .287 0l9.241-5.333a.292.292 0 0 0 .141-.25V7.355a.3.3 0 0 0-.143-.255l-9.237-5.329a.29.29 0 0 0-.285 0L1.803 7.102a.296.296 0 0 0-.146.253v10.666c0 .102.056.198.145.247l2.532 1.462c1.374.687 2.215-.122 2.215-.935V8.265c0-.149.12-.266.269-.266H7.99c.146 0 .267.117.267.266v10.53c0 1.833-.998 2.885-2.736 2.885-.534 0-.955 0-2.129-.579L.969 19.706A1.953 1.953 0 0 1 0 18.02V7.355c0-.693.371-1.339.969-1.684l9.242-5.34a2.023 2.023 0 0 1 1.942 0l9.241 5.34c.599.346.971.992.971 1.684V18.02c0 .693-.372 1.337-.971 1.686l-9.241 5.335a1.942 1.942 0 0 1-.973.259zm2.855-7.348c-4.045 0-4.892-1.857-4.892-3.414 0-.148.118-.266.266-.266h1.195c.133 0 .245.096.265.226.18 1.216.717 1.831 3.164 1.831 1.946 0 2.775-.441 2.775-1.473 0-.596-.234-1.037-3.26-1.334-2.528-.25-4.093-.809-4.093-2.831 0-1.865 1.572-2.977 4.207-2.977 2.961 0 4.425 1.027 4.611 3.233a.27.27 0 0 1-.267.291h-1.2a.266.266 0 0 1-.259-.209c-.288-1.28-.988-1.689-2.886-1.689-2.126 0-2.373.74-2.373 1.295 0 .673.292.869 3.161 1.248 2.84.375 4.19.907 4.19 2.902 0 2.014-1.678 3.167-4.606 3.167z","size":20,"color":"lightgreen"},{"tag":"ruby","tech":"Ruby","name":"M20.156.083c3.033.525 3.893 2.598 3.829 4.77L24 4.822 22.635 22.71 4.89 23.926h.016C3.433 23.864.15 23.729 0 19.139l1.645-3 2.819 6.586.503 1.172 2.805-9.144-.03.007.016-.03 9.255 2.956-1.396-5.431-.99-3.9 8.82-.569-.615-.51L16.5 2.114 20.159.073l-.003.01zM0 19.089v.026-.029.003zM5.13 5.073c3.561-3.533 8.157-5.621 9.922-3.84 1.762 1.777-.105 6.105-3.673 9.636-3.563 3.532-8.103 5.734-9.864 3.957-1.766-1.777.045-6.217 3.612-9.75l.003-.003z","size":20,"color":"crimson"},{"tag":"rails","tech":"Ruby on Rails","name":"M20.8848485 15.8107143v1.1635714h1.9818182c.4060606 0 1.1030303-.315 1.1272727-1.19571427v-.45c0-.75214286-.5818182-1.1957143-1.1272727-1.1957143h-.9878788v-.54h1.9575757v-1.17h-1.8787878c-.4848485 0-1.1333334.42428573-1.1333334 1.215v.405c0 .7907143.6424243 1.1957143 1.1333334 1.1957143 1.3636363.00642857-.3272728 0 .9333333 0v.56571428l-2.0060606.0064286zm-10.6181818-.28285716s1.060606-.09642857 1.060606-1.5492857c0-1.45285715-1.2848485-1.58785715-1.2848485-1.58785715H7.72727273v4.5835714H8.8909091v-1.1057143l1.0060606 1.1057142h1.7212121l-1.3515151-1.4464286zm-.44848488-.93857143H8.8909091v-1.0478571h.93333332s.26060608.1028572.26060608.5207143c0 .4178572-.26666668.5271429-.26666668.5271429zM14.2 12.4228572h-1.1818182c-.8424242 0-1.1272727.81-1.1272727 1.1957143v3.35571427h1.1818182v-.8035714h1.1090909v.8035714h1.1454545V13.6185715c0-.97714286-.8363636-1.1957143-1.1272727-1.1957143zm-.0181818 2.44928572h-1.1151515V13.76s0-.2507143.3696969-.2507143h.4060606c.3272728 0 .3333334.2507143.3333334.2507143v1.11214286h.0060606zm1.6848485-2.44928573h1.230303v4.5514285h-1.230303v-4.5514285zm2.9575757 3.375v-3.375H17.6v4.5514285h2.8787879v-1.1764285h-1.6545455zM.42424242 16.9742857h4.7878788S4.2969697 12.545 7.3272727 10.75142858c.66060607-.34071428 2.76363638-1.61357143 6.20606058 1.08642857.1090909-.09642857.2121212-.17357143.2121212-.17357143s-3.1515151-3.33642856-6.66060602-2.9635714c-1.76363636.16714284-3.93333333 1.87071427-5.2060606 4.12071427-1.27272726 2.25-1.45454546 4.1528571-1.45454546 4.1528571zM.42424242 16.9742857h4.7878788S4.2969697 12.545 7.3272727 10.75142858c.66060607-.34071428 2.76363638-1.61357143 6.20606058 1.08642857.1090909-.09642857.2121212-.17357143.2121212-.17357143s-3.1515151-3.33642856-6.66060602-2.9635714c-1.76363636.16714284-3.93333333 1.87071427-5.2060606 4.12071427-1.27272726 2.25-1.45454546 4.1528571-1.45454546 4.1528571zM.42424242 16.9742857h4.7878788S4.2969697 12.545 7.3272727 10.75142858c.66060607-.34071428 2.76363638-1.61357143 6.20606058 1.08642857.1090909-.09642857.2121212-.17357143.2121212-.17357143s-3.1515151-3.33642856-6.66060602-2.9635714c-1.76969696.16714284-3.93939393 1.87071427-5.2121212 4.12071427C.6 15.0714285.4242424 16.9742857.4242424 16.9742857zM10.4 9.0607143L10.4242424 8.63c-.0545454-.03214286-.2060606-.1092857-.58787876-.225l-.02424243.4242857c.2.0707143.3939394.14785716.5878788.2314286zM9.82424242 10.42357143l-.02424242.405c.2.00642857.4.03214286.6.07714286l.0242424-.3985715c-.2060606-.045-.4060606-.0707143-.59999998-.0835715zm-2.24242424-2.0057143h.06060606l-.12121212-.39214284c-.1878788 0-.38181818.0128571-.58181818.0385714l.1151515.3792857c.1757576-.0192857.35151517-.0257143.52727274-.0257143zm.2909091 2.3657143l.13939393.44357143c.1757576-.09.3515152-.16714286.5272728-.225l-.1333333-.42428572c-.2060606.06428572-.3818182.135-.5333333.2057143zM5.1212121 9.09285713l-.27272727-.44357142c-.15151515.0835715-.3090909.1735715-.47272727.2764286l.27878787.45c.15757576-.1028571.3090909-.1992857.46666667-.2828571zm1.24242424 2.89285716l.2909091.4628571c.1030303-.1607143.22424242-.3085715.35757575-.4564286L6.7393939 11.555c-.13939394.135-.26666667.28285714-.37575758.4307143zm-.87878788 2.07l.4909091.4114285C6 14.2164285 6.04242424 13.9657143 6.1030303 13.715l-.43636363-.36642857c-.07878788.23785714-.13333334.47571428-.1818182.70714286zM2.830303 11.0021428L2.4 10.60357142c-.15757576.1607143-.3090909.32142858-.44848485.48214287L2.41818182 11.51c.12727273-.17357143.26666666-.34714286.4121212-.50785714zM1 13.8757143l-.6969697-.27c-.1151515.27642856-.24242424.59785713-.3030303.77142856l.6969697.27C.77575758 14.42857143.9030303 14.11357143 1 13.8757143zm4.3939394 1.81285713c.0121212.34071428.04242424.61714286.07272727.81L6.1939394 16.775c-.05454546-.2507143-.10909092-.53357143-.14545455-.8357143l-.65454546-.25071427z","size":20,"color":"#CC0000"},{"tag":"php","tech":"php","name":"M7.01 10.207h-.944l-.515 2.648h.838c.556 0 .97-.105 1.242-.314.272-.21.455-.559.55-1.049.092-.47.05-.802-.124-.995-.175-.193-.523-.29-1.047-.29zM12 5.688C5.373 5.688 0 8.514 0 12s5.373 6.313 12 6.313S24 15.486 24 12c0-3.486-5.373-6.312-12-6.312zm-3.26 7.451c-.261.25-.575.438-.917.551-.336.108-.765.164-1.285.164H5.357l-.327 1.681H3.652l1.23-6.326h2.65c.797 0 1.378.209 1.744.628.366.418.476 1.002.33 1.752a2.836 2.836 0 0 1-.305.847c-.143.255-.33.49-.561.703zm4.024.715l.543-2.799c.063-.318.039-.536-.068-.651-.107-.116-.336-.174-.687-.174H11.46l-.704 3.625H9.388l1.23-6.327h1.367l-.327 1.682h1.218c.767 0 1.295.134 1.586.401s.378.7.263 1.299l-.572 2.944h-1.389zm7.597-2.265a2.782 2.782 0 0 1-.305.847c-.143.255-.33.49-.561.703a2.44 2.44 0 0 1-.917.551c-.336.108-.765.164-1.286.164h-1.18l-.327 1.682h-1.378l1.23-6.326h2.649c.797 0 1.378.209 1.744.628.366.417.477 1.001.331 1.751zM17.766 10.207h-.943l-.516 2.648h.838c.557 0 .971-.105 1.242-.314.272-.21.455-.559.551-1.049.092-.47.049-.802-.125-.995s-.524-.29-1.047-.29z","size":20,"color":"#777BB4"},{"tag":"laravel","tech":"Laravel","name":"M23.644 5.43c.009.032.014.065.014.099v5.15c0 .135-.073.26-.189.326l-4.323 2.49v4.934c0 .135-.072.258-.188.326L9.931 23.95c-.021.012-.043.02-.066.027-.008.002-.016.008-.024.01-.063.018-.13.018-.192 0-.011-.002-.02-.008-.029-.012-.021-.008-.043-.014-.063-.025L.534 18.755c-.117-.068-.189-.191-.189-.326V2.974c0-.033.005-.066.014-.098.003-.012.01-.021.014-.032.006-.02.014-.04.023-.058.004-.013.015-.022.023-.033.012-.016.021-.031.033-.045.012-.01.025-.018.037-.027.014-.012.027-.024.041-.034h.001L5.044.05c.115-.067.259-.067.375 0l4.512 2.597h.002c.015.01.027.021.041.033.012.009.025.018.037.027.013.014.021.029.033.045.008.011.02.021.025.033.011.019.017.038.024.058.003.011.011.021.013.032.01.031.014.064.014.098v9.652l3.76-2.164V5.527c0-.033.005-.066.014-.098.003-.011.009-.021.013-.032.007-.02.014-.039.024-.059.007-.012.018-.021.025-.033.012-.015.021-.03.033-.043.012-.012.025-.02.037-.028.014-.011.026-.023.041-.032h.001l4.513-2.598c.116-.067.259-.067.375 0l4.513 2.598c.016.01.027.021.042.031.012.01.025.018.036.028.013.014.022.029.034.044.008.012.019.021.024.033.011.02.018.039.024.059.006.011.012.022.015.033zm-.74 5.032V6.179l-1.578.908-2.182 1.256v4.283l3.76-2.164zm-4.511 7.75v-4.287l-2.146 1.225-6.127 3.498v4.326l8.273-4.762zM1.095 3.624v14.588l8.273 4.762v-4.326l-4.322-2.445-.002-.003h-.002c-.014-.01-.025-.021-.04-.031-.011-.01-.024-.018-.035-.027l-.001-.002c-.013-.012-.021-.025-.031-.039-.01-.012-.021-.023-.028-.037h-.002c-.008-.014-.013-.031-.02-.047-.006-.016-.014-.027-.018-.043-.004-.018-.006-.037-.008-.057-.002-.014-.006-.027-.006-.041V5.789l-2.18-1.257-1.578-.908zM5.231.81l-3.76 2.164 3.76 2.164 3.758-2.164L5.231.81zm1.956 13.505l2.182-1.256V3.624l-1.58.909-2.182 1.256v9.435l1.58-.909zM18.769 3.364l-3.76 2.164 3.76 2.163 3.759-2.164-3.759-2.163zm-.376 4.979l-2.182-1.256-1.579-.908v4.283l2.182 1.256 1.579.908V8.343zm-8.65 9.654l5.514-3.148 2.756-1.572-3.757-2.163-4.324 2.489-3.941 2.27 3.752 2.124z","size":20,"color":"#FF2D20"},{"tag":"cakephp","tech":"CakePHP","name":"M0 13.875v3.745c0 2.067 5.37 3.743 12 3.743V17.62c-6.63 0-12-1.68-12-3.743v-.002zm21.384 2.333L12 13.875v3.745l9.384 2.333C23.02 19.313 24 18.503 24 17.62v-3.745c0 .882-.98 1.692-2.616 2.333zM12 10.133v3.742c-6.627 0-12-1.677-12-3.744V6.38c0-2.064 5.37-3.743 12-3.743 6.625 0 12 1.68 12 3.744v3.75c0 .883-.98 1.69-2.616 2.334L12 10.13v.003z","size":20,"color":"#D33C43"},{"tag":"swift","tech":"Swift","name":"M21.984 16.348c.056-.112.056-.224.112-.336 1.346-5.272-1.851-11.44-7.347-14.693 2.412 3.253 3.365 7.122 2.524 10.599-.056.28-.168.617-.28.897a5.173 5.173 0 0 1-.45-.28S11.104 9.17 5.273 3.282c-.169-.168 3.14 4.71 6.841 8.58-1.738-1.01-6.673-4.542-9.758-7.403.337.617.842 1.234 1.346 1.851 2.58 3.309 5.945 7.346 9.983 10.43-2.86 1.74-6.842 1.851-10.88 0-1.01-.448-1.85-1.009-2.804-1.682 1.682 2.636 4.318 5.048 7.459 6.337 3.757 1.627 7.57 1.515 10.318 0h.057c.112-.056.224-.112.336-.224 1.346-.673 3.982-1.402 5.44 1.402.392.785 1.121-2.86-1.626-6.225z","size":20,"color":"#FA7343"},{"tag":"ios","tech":"iOS","name":"M7.078 23.55c-.473-.316-.893-.703-1.244-1.15-.383-.463-.738-.95-1.064-1.454-.766-1.12-1.365-2.345-1.78-3.636-.5-1.502-.743-2.94-.743-4.347 0-1.57.34-2.94 1.002-4.09.49-.9 1.22-1.653 2.1-2.182.85-.53 1.84-.82 2.84-.84.35 0 .73.05 1.13.15.29.08.64.21 1.07.37.55.21.85.34.95.37.32.12.59.17.8.17.16 0 .39-.05.645-.13.145-.05.42-.14.81-.31.386-.14.692-.26.935-.35.37-.11.728-.21 1.05-.26.39-.06.777-.08 1.148-.05.71.05 1.36.2 1.94.42 1.02.41 1.843 1.05 2.457 1.96-.26.16-.5.346-.725.55-.487.43-.9.94-1.23 1.505-.43.77-.65 1.64-.644 2.52.015 1.083.29 2.035.84 2.86.387.6.904 1.114 1.534 1.536.31.21.582.355.84.45-.12.375-.252.74-.405 1.1-.347.807-.76 1.58-1.25 2.31-.432.63-.772 1.1-1.03 1.41-.402.48-.79.84-1.18 1.097-.43.285-.935.436-1.452.436-.35.015-.7-.03-1.034-.127-.29-.095-.576-.202-.856-.323-.293-.134-.596-.248-.905-.34-.38-.1-.77-.148-1.164-.147-.4 0-.79.05-1.16.145-.31.088-.61.196-.907.325-.42.175-.695.29-.855.34-.324.096-.656.154-.99.175-.52 0-1.004-.15-1.486-.45zm6.854-18.46c-.68.34-1.326.484-1.973.436-.1-.646 0-1.31.27-2.037.24-.62.56-1.18 1-1.68.46-.52 1.01-.95 1.63-1.26.66-.34 1.29-.52 1.89-.55.08.68 0 1.35-.25 2.07-.228.64-.568 1.23-1 1.76-.435.52-.975.95-1.586 1.26z","size":20,"color":"#403f3f"},{"tag":"kotlin","tech":"Kotlin","name":"M1.3 24l11.3-11.5L24 24zM0 0h12L0 12.5zM13.4 0L0 14v10l12-12L24 0z","size":20,"color":"#0095D5"},{"tag":"android","tech":"Android","name":"M24 19H0a13.6 13.6 0 0 1 2.21-6.07A11.2 11.2 0 0 1 5.87 9.4l.41-.23-2.02-3.41a.51.51 0 0 1 .17-.7.5.5 0 0 1 .69.18l2.08 3.5a12.62 12.62 0 0 1 4.84-.9 12.2 12.2 0 0 1 4.75.9l2.07-3.5a.5.5 0 0 1 .7-.17.51.51 0 0 1 .16.7L17.7 9.19l.5.28a11.38 11.38 0 0 1 3.63 3.62A14.48 14.48 0 0 1 24 19zm-7.5-4.48a1 1 0 0 0 1 1 1 1 0 0 0 1-1 1 1 0 0 0-1-1 1 1 0 0 0-1 1zm-11 0a1 1 0 0 0 1 1 1 1 0 0 0 1-1 1 1 0 0 0-1-1 1 1 0 0 0-1 1z","size":20,"color":"#3DDC84"},{"tag":"git","tech":"Git","name":"M23.546 10.93L13.067.452c-.604-.603-1.582-.603-2.188 0L8.708 2.627l2.76 2.76c.645-.215 1.379-.07 1.889.441.516.515.658 1.258.438 1.9l2.658 2.66c.645-.223 1.387-.078 1.9.435.721.72.721 1.884 0 2.604-.719.719-1.881.719-2.6 0-.539-.541-.674-1.337-.404-1.996L12.86 8.955v6.525c.176.086.342.203.488.348.713.721.713 1.883 0 2.6-.719.721-1.889.721-2.609 0-.719-.719-.719-1.879 0-2.598.182-.18.387-.316.605-.406V8.835c-.217-.091-.424-.222-.6-.401-.545-.545-.676-1.342-.396-2.009L7.636 3.7.45 10.881c-.6.605-.6 1.584 0 2.189l10.48 10.477c.604.604 1.582.604 2.186 0l10.43-10.43c.605-.603.605-1.582 0-2.187","size":20,"color":"#403f3f"},{"tag":"aws","tech":"AWS","name":"M6.763 10.036c0 .296.032.535.088.71.064.176.144.368.256.576.04.063.056.127.056.183 0 .08-.048.16-.152.24l-.503.335a.383.383 0 0 1-.208.072c-.08 0-.16-.04-.239-.112a2.47 2.47 0 0 1-.287-.375 6.18 6.18 0 0 1-.248-.471c-.622.734-1.405 1.101-2.347 1.101-.67 0-1.205-.191-1.596-.574-.391-.384-.59-.894-.59-1.533 0-.678.239-1.23.726-1.644.487-.415 1.133-.623 1.955-.623.272 0 .551.024.846.064.296.04.6.104.918.176v-.583c0-.607-.127-1.03-.375-1.277-.255-.248-.686-.367-1.3-.367-.28 0-.568.031-.863.103-.295.072-.583.16-.862.272a2.287 2.287 0 0 1-.28.104.488.488 0 0 1-.127.023c-.112 0-.168-.08-.168-.247v-.391c0-.128.016-.224.056-.28a.597.597 0 0 1 .224-.167c.279-.144.614-.264 1.005-.36a4.84 4.84 0 0 1 1.246-.151c.95 0 1.644.216 2.091.647.439.43.662 1.085.662 1.963v2.586zm-3.24 1.214c.263 0 .534-.048.822-.144.287-.096.543-.271.758-.51.128-.152.224-.32.272-.512.047-.191.08-.423.08-.694v-.335a6.66 6.66 0 0 0-.735-.136 6.02 6.02 0 0 0-.75-.048c-.535 0-.926.104-1.19.32-.263.215-.39.518-.39.917 0 .375.095.655.295.846.191.2.47.296.838.296zm6.41.862c-.144 0-.24-.024-.304-.08-.064-.048-.12-.16-.168-.311L7.586 5.55a1.398 1.398 0 0 1-.072-.32c0-.128.064-.2.191-.2h.783c.151 0 .255.025.31.08.065.048.113.16.16.312l1.342 5.284 1.245-5.284c.04-.16.088-.264.151-.312a.549.549 0 0 1 .32-.08h.638c.152 0 .256.025.32.08.063.048.12.16.151.312l1.261 5.348 1.381-5.348c.048-.16.104-.264.16-.312a.52.52 0 0 1 .311-.08h.743c.127 0 .2.065.2.2 0 .04-.009.08-.017.128a1.137 1.137 0 0 1-.056.2l-1.923 6.17c-.048.16-.104.263-.168.311a.51.51 0 0 1-.303.08h-.687c-.151 0-.255-.024-.32-.08-.063-.056-.119-.16-.15-.32l-1.238-5.148-1.23 5.14c-.04.16-.087.264-.15.32-.065.056-.177.08-.32.08zm10.256.215c-.415 0-.83-.048-1.229-.143-.399-.096-.71-.2-.918-.32-.128-.071-.215-.151-.247-.223a.563.563 0 0 1-.048-.224v-.407c0-.167.064-.247.183-.247.048 0 .096.008.144.024.048.016.12.048.2.08.271.12.566.215.878.279.319.064.63.096.95.096.502 0 .894-.088 1.165-.264a.86.86 0 0 0 .415-.758.777.777 0 0 0-.215-.559c-.144-.151-.416-.287-.807-.415l-1.157-.36c-.583-.183-1.014-.454-1.277-.813a1.902 1.902 0 0 1-.4-1.158c0-.335.073-.63.216-.886.144-.255.335-.479.575-.654.24-.184.51-.32.83-.415.32-.096.655-.136 1.006-.136.175 0 .359.008.535.032.183.024.35.056.518.088.16.04.312.08.455.127.144.048.256.096.336.144a.69.69 0 0 1 .24.2.43.43 0 0 1 .071.263v.375c0 .168-.064.256-.184.256a.83.83 0 0 1-.303-.096 3.652 3.652 0 0 0-1.532-.311c-.455 0-.815.071-1.062.223-.248.152-.375.383-.375.71 0 .224.08.416.24.567.159.152.454.304.877.44l1.134.358c.574.184.99.44 1.237.767.247.327.367.702.367 1.117 0 .343-.072.655-.207.926-.144.272-.336.511-.583.703-.248.2-.543.343-.886.447-.36.111-.734.167-1.142.167zM21.698 16.207c-2.626 1.94-6.442 2.969-9.722 2.969-4.598 0-8.74-1.7-11.87-4.526-.247-.223-.024-.527.272-.351 3.384 1.963 7.559 3.153 11.877 3.153 2.914 0 6.114-.607 9.06-1.852.439-.2.814.287.383.607zM22.792 14.961c-.336-.43-2.22-.207-3.074-.103-.255.032-.295-.192-.063-.36 1.5-1.053 3.967-.75 4.254-.399.287.36-.08 2.826-1.485 4.007-.215.184-.423.088-.327-.151.32-.79 1.03-2.57.695-2.994z","size":20,"color":"#232F3E"},{"tag":"instagram","tech":"Instagram","name":"M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z","size":20,"color":"#E4405F"},{"tag":"facebook","tech":"Facebook","name":"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z","size":20,"color":"#1877F2"},{"tag":"gitlab ci","tech":"Gitlab CI","name":"M4.844.904a1.007 1.007 0 00-.955.692l-2.53 7.783c0 .007-.005.012-.007.02L.07 13.335a1.437 1.437 0 00.522 1.607l11.072 8.045a.566.566 0 00.67-.004l11.074-8.04a1.436 1.436 0 00.522-1.61l-1.26-3.867a.547.547 0 00-.031-.104l-2.526-7.775a1.004 1.004 0 00-.957-.684.987.987 0 00-.949.69l-2.406 7.408H8.203l-2.41-7.408a.987.987 0 00-.943-.69h-.006zm-.006 1.42l2.174 6.678H2.674l2.164-6.678zm14.328 0l2.168 6.678h-4.342l2.174-6.678zm-10.594 7.81h6.862l-2.15 6.618L12 20.693 8.572 10.135zm-5.515.005h4.322l3.086 9.5-7.408-9.5zm13.568 0h4.326l-6.703 8.588-.709.914 2.959-9.108.127-.394zM2.1 10.762l6.978 8.947-7.818-5.682a.305.305 0 01-.112-.341l.952-2.924zm19.8 0l.952 2.922a.305.305 0 01-.11.341v.002l-7.82 5.68.025-.035 6.953-8.91Z","size":20,"color":"#FCA121"}]}},"allMarkdownRemark":{"totalCount":48,"edges":[{"node":{"excerpt":"1.Gi·ªõi thi·ªáu Ch√†o c·∫£ nh√†, sau b√†i l√†m sao ƒë·ªÉ t·∫°o animation s√≥ng trong iOS th√¨ nay em tr·ªü l·∫°i v·ªõi m·ªôt ch·ªß ƒë·ªÅ nh·ªè n·ªØa mu·ªën chia s·∫ª v·ªõi m·ªçi ng∆∞·ªùi ƒë·∫∑c bi·ªát l√† nh·ªØng anh em iOS. ƒê√≥ l√† l√†m sao ƒë·ªÉ t·∫°o‚Ä¶","snippet":"<html><head></head><body><h1>1.Gi&#x1EDB;i thi&#x1EC7;u</h1> <p>Ch&#xE0;o c&#x1EA3; nh&#xE0;, sau b&#xE0;i l&#xE0;m sao &#x111;&#x1EC3; t&#x1EA1;o animation s&#xF3;ng trong iOS th&#xEC; nay em tr&#x1EDF; l&#x1EA1;i v&#x1EDB;i m&#x1ED9;t ch&#x1EE7; &#x111;&#x1EC1; nh&#x1ECF; n&#x1EEF;a mu&#x1ED1;n chia s&#x1EBB; v&#x1EDB;i m&#x1ECD;i ng&#x1B0;&#x1EDD;i &#x111;&#x1EB7;c bi&#x1EC7;t l&#xE0; nh&#x1EEF;ng anh em iOS. &#x110;&#xF3; l&#xE0; l&#xE0;m sao &#x111;&#x1EC3; t&#x1EA1;o carousel trong iOS v&#x1EDB;i swift.&#x2026;</p></body></html>","html":"<h1>1.Gi·ªõi thi·ªáu</h1>\n<p>Ch√†o c·∫£ nh√†, sau b√†i <a href=\"https://blog.tomosia.com/swift-tao-animation-song-trong-ios-voi-swift/\">l√†m sao ƒë·ªÉ t·∫°o animation s√≥ng trong iOS</a> th√¨ nay em tr·ªü l·∫°i v·ªõi m·ªôt ch·ªß ƒë·ªÅ nh·ªè n·ªØa mu·ªën chia s·∫ª v·ªõi m·ªçi ng∆∞·ªùi ƒë·∫∑c bi·ªát l√† nh·ªØng anh em iOS. ƒê√≥ l√† l√†m sao ƒë·ªÉ t·∫°o carousel trong iOS v·ªõi swift.</p>\n<p>V·ªõi carousel th√¨ ƒë√¢y l√† m·ªôt ki·ªÉu UI UX r·∫•t l√† ph·ªï bi·∫øn. N√≥ c√≥ m·∫∑t ·ªü h·∫ßu h·∫øt c√°c website, mobile app, desktop app, ... ƒê·ªëi v·ªõi m·∫£ng web v√† android th√¨ ƒë∆∞·ª£c support kh√° l√† nhi·ªÅu ƒë·ªÉ c√≥ th·ªÉ implement n√≥ m·ªôt c√°ch r·∫•t l√† d·ªÖ d√†ng cho n√™n c≈©ng kh√¥ng c·∫ßn qu√° ph·∫£i lo l·∫Øng üòÑ, tuy nhi√™n ƒë·ªëi v·ªõi iOS th√¨ kh√¥ng ƒë∆∞·ª£c Apple support nhi·ªÅu ƒë·∫øn nh∆∞ v·∫≠y ü§ß, cho n√™n l√† vi·ªác bi·∫øt c√°ch implement carousel tr·ªü n√™n r·∫•t l√† quan tr·ªçng. Do ƒë√≥, em mong r·∫±ng sau khi ƒë·ªçc xong b√†i vi·∫øt n√†y th√¨ m·ªçi ng∆∞·ªùi c√≥ th·ªÉ hi·ªÉu v√† √°p d·ª•ng ƒë∆∞·ª£c v√†o cho d·ª± √°n c·ªßa m√¨nh.</p>\n<h1>2. ƒê·∫∑t v·∫•n ƒë·ªÅ</h1>\n<p>Nh∆∞ m·ªçi ng∆∞·ªùi c≈©ng ƒë√£ bi·∫øt th√¨ v·ªõi UICollectionView v√† UICollectionViewFlowLayout ho·∫∑c t·ª´ iOS 13 tr·ªü l√™n c√≥ UICollectionViewCompositionalLayout th√¨ ƒë√£ c√≥ th·ªÉ implement ƒë∆∞·ª£c h·∫ßu h·∫øt c√°c ch·ª©c nƒÉng c·ªßa m·ªôt Carousel, ƒë√≥ l√† horizontal scroll, custom UICollectionViewCell, set contentOffset, ... Tuy nhi√™n c√≥ m·ªôt ch·ª©c nƒÉng m√† n·∫øu ch·ªâ s·ª≠ d·ª•ng UICollectionViewFlowLayout hay UICollectionViewCompositionalLayout th√¨ s·∫Ω r·∫•t kh√≥ ƒë·ªÉ c√≥ th·ªÉ l√†m ƒë∆∞·ª£c ƒë√≥ l√† infinite scroll. Do ƒë√≥, ƒë·ªÉ c√≥ th·ªÉ t·∫°o ra m·ªôt Carousel ho√†n h·∫£o th√¨ em nghƒ© ta ph·∫£i custom l·∫°i UICollectionViewLayout.</p>\n<p>Vi·ªác custom l·∫°i UICollectionViewLayout nghƒ©a l√† s·∫Ω ph·∫£i t·ª± s·∫Øp x·∫øp v·ªã tr√≠ c·ªßa c√°c UICollectionViewCell, v√† vi·ªác t√≠nh to√°n v·ªã tr√≠ c·ªßa Cell s·∫Ω ph·∫£i gi·∫£i quy·∫øt c√°c v·∫•n ƒë·ªÅ sau ƒë√¢y:</p>\n<ol>\n<li>T√≠nh to√°n v·ªã tr√≠ c·ªßa Cell sao cho ph√π h·ª£p v·ªõi design</li>\n<li>T√≠nh to√°n v·ªã tr√≠ c·ªßa Cell m·ªói l·∫ßn UICollectionView change offset</li>\n<li>T√≠nh to√°n v·ªã tr√≠ c·ªßa Cell sao cho c√≥ infinite scroll</li>\n<li>T√≠nh to√°n v·ªã tr√≠ offset ph√π h·ª£p ƒë·ªÉ m·ªói l·∫ßn scroll th√¨ c√°c Cell hi·ªÉn th·ªã ƒë√∫ng v·ªõi design</li>\n</ol>\n<h1>3. √ù t∆∞·ªüng</h1>\n<p>V·ªÅ c∆° b·∫£n ch√∫ng ra c√≥ 4 v·∫•n ƒë·ªÅ nh∆∞ ƒë√£ ƒë·ªÅ c·∫≠p ·ªü tr√™n, tuy nhi√™n design l√† kh√°c nhau ƒë·ªëi v·ªõi m·ªói app, hay v·ªõi m·ªói m√†n h√¨nh cho n√™n l√† ·ªü b√†i n√†y em s·∫Ω ch·ªâ n√≥i ƒë·∫øn vi·ªác l√†m sao ƒë·ªÉ c√≥ infinite scroll. √ù t∆∞·ªüng c·ªßa em d·ª±a tr√™n m·ªôt √Ω nghƒ© r·∫•t l√† ƒë∆°n gi·∫£n ƒë√≥ l√†, ƒë·ªëi v·ªõi m·ªói Cell m√† ƒëang ƒë∆∞·ª£c focus, th√¨ ta s·∫Ω ph·∫£i t√≠nh ƒë∆∞·ª£c v·ªã tr√≠ c·ªßa t·∫•t c·∫£ c√°c Cell n·∫±m ·ªü b√™n tr√°i v√† t·∫•t c·∫£ c√°c Cell n·∫±m ·ªü b√™n ph·∫£i. M·ªói khi UICollectionView change offset th√¨ s·∫Ω ph·∫£i t√≠nh to√°n l·∫°i t·∫•t c·∫£ m·ªçi th·ª© üòÑ</p>\n<h1>4. Tri·ªÉn khai √Ω t∆∞·ªüng</h1>\n<p>ƒê·∫ßu ti√™n ta s·∫Ω t·∫°o ra class CollectionViewLayout k·∫ø th·ª´a l·∫°i UICollectionViewLayout</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-swift line-numbers\"><code class=\"language-swift\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">CollectionViewLayout</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">UICollectionViewLayout</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">func</span> <span class=\"token function\">prepare</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">func</span> <span class=\"token function\">layoutAttributesForElements</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">in</span> rect<span class=\"token punctuation\">:</span> <span class=\"token builtin\">CGRect</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token builtin\">UICollectionViewLayoutAttributes</span><span class=\"token punctuation\">]</span><span class=\"token operator\">?</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">func</span> <span class=\"token function\">layoutAttributesForItem</span><span class=\"token punctuation\">(</span>at indexPath<span class=\"token punctuation\">:</span> <span class=\"token builtin\">IndexPath</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">UICollectionViewLayoutAttributes</span><span class=\"token operator\">?</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token constant\">nil</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">var</span> collectionViewContentSize<span class=\"token punctuation\">:</span> <span class=\"token builtin\">CGSize</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token builtin\">CGSize</span><span class=\"token punctuation\">.</span>zero\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">override</span> <span class=\"token keyword\">func</span> <span class=\"token function\">shouldInvalidateLayout</span><span class=\"token punctuation\">(</span>forBoundsChange newBounds<span class=\"token punctuation\">:</span> <span class=\"token builtin\">CGRect</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">Bool</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>M·ªói khi UICollectionView reload data hay invalidate layout th√¨ h√†m prepare s·∫Ω ƒë∆∞·ª£c g·ªçi n√™n l√† ch√∫ng ta s·∫Ω t√≠nh to√°n v·ªã tr√≠ c·ªßa c√°c Cell ·ªü h√†m n√†y.</p>\n<p>Ch√∫ng ta s·∫Ω t·∫°o ra c√°c bi·∫øn sau:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-swift line-numbers\"><code class=\"language-swift\"><span class=\"token keyword\">private</span> <span class=\"token keyword\">let</span> itemSpacing<span class=\"token punctuation\">:</span> <span class=\"token builtin\">CGFloat</span> <span class=\"token operator\">=</span> <span class=\"token number\">8</span> <span class=\"token comment\">// kho·∫£ng c√°ch gi·ªØa c√°c Cell</span>\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> currentCellIndex <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token comment\">// IndexPath.item c·ªßa cell s·∫Ω ƒë∆∞·ª£c focus</span>\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> offsetX<span class=\"token punctuation\">:</span> <span class=\"token builtin\">CGFloat</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span> <span class=\"token comment\">// v·ªã tr√≠ offset c·ªßa UICollectionView khi t√≠nh to√°n l·∫°i v·ªã tr√≠ c·ªßa c√°c Cell</span>\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> leftArray<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token builtin\">Int</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token comment\">// m·∫£ng ch·ª©a IndexPath.item c·ªßa c√°c Cell n·∫±m b√™n tr√°i Cell ƒëang ƒë∆∞·ª£c focus</span>\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> rightArray<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token builtin\">Int</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token comment\">// m·∫£ng ch·ª©a IndexPath.item c·ªßa c√°c Cell n·∫±m b√™n ph·∫£i Cell ƒëang ƒë∆∞·ª£c focus</span>\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> attributes<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token builtin\">UICollectionViewLayoutAttributes</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> contentWidth<span class=\"token punctuation\">:</span> <span class=\"token builtin\">CGFloat</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> numberOfItem<span class=\"token punctuation\">:</span> <span class=\"token builtin\">Int</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> collectionView<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span><span class=\"token function\">numberOfItems</span><span class=\"token punctuation\">(</span>inSection<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span><span class=\"token operator\">?</span> <span class=\"token number\">0</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">var</span> sizeCell<span class=\"token punctuation\">:</span> <span class=\"token builtin\">CGSize</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> width <span class=\"token operator\">=</span> collectionView<span class=\"token operator\">!</span><span class=\"token punctuation\">.</span>frame<span class=\"token punctuation\">.</span>width <span class=\"token operator\">-</span> itemSpacing <span class=\"token operator\">*</span> <span class=\"token number\">4</span>\n  <span class=\"token keyword\">let</span> height <span class=\"token operator\">=</span> collectionView<span class=\"token operator\">!</span><span class=\"token punctuation\">.</span>frame<span class=\"token punctuation\">.</span>height\n  <span class=\"token keyword\">return</span> <span class=\"token function\">CGSize</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">:</span> width<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">:</span> height<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Implement h√†m prepare:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-swift line-numbers\"><code class=\"language-swift\"><span class=\"token keyword\">override</span> <span class=\"token keyword\">func</span> <span class=\"token function\">prepare</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">super</span><span class=\"token punctuation\">.</span><span class=\"token function\">prepare</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">guard</span> <span class=\"token keyword\">let</span> collectionView <span class=\"token operator\">=</span> collectionView <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// T·∫°i l·∫ßn ƒë·∫ßu prepare c·∫ßn set offsetX c·ªßa collectionView = 10000</span>\n  <span class=\"token keyword\">if</span> isFirstTimePrepare <span class=\"token punctuation\">{</span>\n      offsetX <span class=\"token operator\">=</span> cycleStart\n      collectionView<span class=\"token punctuation\">.</span>contentOffset<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> cycleStart\n      isFirstTimePrepare <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// Tr∆∞·ªùng h·ª£p collectionView.reloadData</span>\n  <span class=\"token keyword\">if</span> attributes<span class=\"token punctuation\">.</span><span class=\"token builtin\">count</span> <span class=\"token operator\">!=</span> numberOfItem <span class=\"token punctuation\">{</span>\n      attributes<span class=\"token punctuation\">.</span><span class=\"token function\">removeAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      leftArray<span class=\"token punctuation\">.</span><span class=\"token function\">removeAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      rightArray<span class=\"token punctuation\">.</span><span class=\"token function\">removeAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// T√≠nh s·ªë cell ·ªü b√™n tr√°i v√† b√™n ph·∫£i cell ƒëang ƒë∆∞·ª£c focus</span>\n  <span class=\"token keyword\">let</span> numberOfLeftItem <span class=\"token operator\">=</span> numberOfItem <span class=\"token operator\">%</span> <span class=\"token number\">2</span> <span class=\"token operator\">==</span> <span class=\"token number\">1</span> <span class=\"token operator\">?</span> numberOfItem <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">:</span> numberOfItem <span class=\"token operator\">/</span> <span class=\"token number\">2</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n  <span class=\"token keyword\">let</span> numberOfRightItem <span class=\"token operator\">=</span> numberOfItem <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token operator\">-</span> numberOfLeftItem\n\n  <span class=\"token comment\">// L·∫•y IndexPath.item c·ªßa c√°c cell ·ªü b√™n tr√°i v√† b√™n ph·∫£i cell ƒëang ƒë∆∞·ª£c focus</span>\n  <span class=\"token keyword\">var</span> leadingRightArray<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token builtin\">Int</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n  <span class=\"token keyword\">var</span> trailingRightArray<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token builtin\">Int</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n  <span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> currentCellIndex <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> numberOfItem <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">:</span> currentCellIndex <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n  <span class=\"token keyword\">while</span> leadingRightArray<span class=\"token punctuation\">.</span><span class=\"token builtin\">count</span> <span class=\"token operator\">&lt;</span> numberOfLeftItem <span class=\"token punctuation\">{</span>\n      leadingRightArray<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span>\n      i <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>i <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">?</span> numberOfItem <span class=\"token operator\">-</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">:</span> i <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">var</span> j <span class=\"token operator\">=</span> currentCellIndex <span class=\"token operator\">+</span> <span class=\"token number\">1</span> <span class=\"token operator\">>=</span> numberOfItem <span class=\"token operator\">?</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">:</span> currentCellIndex <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n  <span class=\"token keyword\">while</span> trailingRightArray<span class=\"token punctuation\">.</span><span class=\"token builtin\">count</span> <span class=\"token operator\">&lt;</span> numberOfRightItem <span class=\"token punctuation\">{</span>\n      trailingRightArray<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>j<span class=\"token punctuation\">)</span>\n      j <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>j <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">>=</span> numberOfItem <span class=\"token operator\">?</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">:</span> j <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">/*\n    + N·∫øu item n√†o ch∆∞a t·ªìn t·∫°i trong leftArray ·ªü l·∫ßn change offset n√†y th√¨ c·∫ßn ƒë∆∞·ª£c add v√†o additionalLeftArray ƒë·ªÉ c√≥ th·ªÉ thay ƒë·ªïi v·ªã tr√≠ c·ªßa cell ƒë√≥\n    **/</span>\n  <span class=\"token keyword\">var</span> additionalLeftArray<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token builtin\">Int</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n  <span class=\"token keyword\">for</span> item <span class=\"token keyword\">in</span> leadingRightArray <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token operator\">!</span>leftArray<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          additionalLeftArray<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  leftArray <span class=\"token operator\">=</span> leadingRightArray\n\n  <span class=\"token comment\">/*\n  + N·∫øu item n√†o ch∆∞a t·ªìn t·∫°i trong rightArray ·ªü l·∫ßn change offset n√†y th√¨ c·∫ßn ƒë∆∞·ª£c add v√†o additionalRightArray ƒë·ªÉ c√≥ th·ªÉ thay ƒë·ªïi v·ªã tr√≠ c·ªßa cell ƒë√≥\n  **/</span>\n  <span class=\"token keyword\">var</span> additionalRightArray<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token builtin\">Int</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n  <span class=\"token keyword\">for</span> item <span class=\"token keyword\">in</span> trailingRightArray <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token operator\">!</span>rightArray<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          additionalRightArray<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  rightArray <span class=\"token operator\">=</span> trailingRightArray\n\n  <span class=\"token keyword\">let</span> centerX <span class=\"token operator\">=</span> offsetX <span class=\"token operator\">+</span> collectionView<span class=\"token punctuation\">.</span>frame<span class=\"token punctuation\">.</span>width <span class=\"token operator\">/</span> <span class=\"token number\">2</span>\n\n  <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token operator\">&lt;</span> numberOfItem <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">let</span> indexPath <span class=\"token operator\">=</span> <span class=\"token function\">IndexPath</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">:</span> i<span class=\"token punctuation\">,</span> section<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">let</span> attr <span class=\"token operator\">=</span> <span class=\"token function\">CollectionViewLayoutAttributes</span><span class=\"token punctuation\">(</span>forCellWith<span class=\"token punctuation\">:</span> indexPath<span class=\"token punctuation\">)</span>\n      attr<span class=\"token punctuation\">.</span>isCenter <span class=\"token operator\">=</span> i <span class=\"token operator\">==</span> currentCellIndex\n\n      <span class=\"token keyword\">if</span> additionalLeftArray<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> index <span class=\"token operator\">=</span> leadingRightArray<span class=\"token punctuation\">.</span><span class=\"token function\">firstIndex</span><span class=\"token punctuation\">(</span>of<span class=\"token punctuation\">:</span> i<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token comment\">// T√≠nh kho·∫£ng c√°ch t·ª´ minX c·ªßa cell ƒë·∫øn v·ªã tr√≠ trung t√¢m, c√°ch t√≠nh n√†y s·∫Ω d·ª±a v√†o design</span>\n              <span class=\"token keyword\">var</span> <span class=\"token builtin\">distance</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">CGFloat</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n              <span class=\"token keyword\">for</span> <span class=\"token number\">_</span> <span class=\"token keyword\">in</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> index <span class=\"token punctuation\">{</span>\n                  <span class=\"token builtin\">distance</span> <span class=\"token operator\">+</span><span class=\"token operator\">=</span> sizeCell<span class=\"token punctuation\">.</span>width <span class=\"token operator\">+</span> itemSpacing\n              <span class=\"token punctuation\">}</span>\n              <span class=\"token builtin\">distance</span> <span class=\"token operator\">+</span><span class=\"token operator\">=</span> sizeCell<span class=\"token punctuation\">.</span>width <span class=\"token operator\">/</span> <span class=\"token number\">2</span>\n              attr<span class=\"token punctuation\">.</span>frame <span class=\"token operator\">=</span> <span class=\"token function\">CGRect</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> centerX <span class=\"token operator\">-</span> <span class=\"token builtin\">distance</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> width<span class=\"token punctuation\">:</span> sizeCell<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">:</span> sizeCell<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> additionalRightArray<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> index <span class=\"token operator\">=</span> trailingRightArray<span class=\"token punctuation\">.</span><span class=\"token function\">firstIndex</span><span class=\"token punctuation\">(</span>of<span class=\"token punctuation\">:</span> i<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token comment\">// T√≠nh kho·∫£ng c√°ch t·ª´ minX c·ªßa cell ƒë·∫øn v·ªã tr√≠ trung t√¢m, c√°ch t√≠nh n√†y s·∫Ω d·ª±a v√†o design</span>\n              <span class=\"token keyword\">var</span> <span class=\"token builtin\">distance</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">CGFloat</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n              <span class=\"token keyword\">for</span> j <span class=\"token keyword\">in</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> index <span class=\"token punctuation\">{</span>\n                  <span class=\"token builtin\">distance</span> <span class=\"token operator\">+</span><span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>j <span class=\"token operator\">==</span> index <span class=\"token operator\">?</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">:</span> sizeCell<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> itemSpacing\n              <span class=\"token punctuation\">}</span>\n              <span class=\"token builtin\">distance</span> <span class=\"token operator\">+</span><span class=\"token operator\">=</span> sizeCell<span class=\"token punctuation\">.</span>width <span class=\"token operator\">/</span> <span class=\"token number\">2</span>\n              attr<span class=\"token punctuation\">.</span>frame <span class=\"token operator\">=</span> <span class=\"token function\">CGRect</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> centerX <span class=\"token operator\">+</span> <span class=\"token builtin\">distance</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> width<span class=\"token punctuation\">:</span> sizeCell<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">:</span> sizeCell<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> frame <span class=\"token operator\">=</span> attributes<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span>indexPath<span class=\"token punctuation\">.</span>item <span class=\"token operator\">==</span> i <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">first</span><span class=\"token operator\">?</span><span class=\"token punctuation\">.</span>frame <span class=\"token punctuation\">{</span>\n              attr<span class=\"token punctuation\">.</span>frame <span class=\"token operator\">=</span> frame\n          <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token comment\">// T√≠nh v·ªã tr√≠ c·ªßa cell ƒëang ƒë∆∞·ª£c focus</span>\n              <span class=\"token keyword\">let</span> frame <span class=\"token operator\">=</span> <span class=\"token function\">CGRect</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> centerX <span class=\"token operator\">-</span> sizeCell<span class=\"token punctuation\">.</span>width <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> width<span class=\"token punctuation\">:</span> sizeCell<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">:</span> sizeCell<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span>\n              attr<span class=\"token punctuation\">.</span>frame <span class=\"token operator\">=</span> frame\n          <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n\n      <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> index <span class=\"token operator\">=</span> attributes<span class=\"token punctuation\">.</span><span class=\"token function\">firstIndex</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">where</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> $<span class=\"token number\">0</span><span class=\"token punctuation\">.</span>indexPath<span class=\"token punctuation\">.</span>item <span class=\"token operator\">==</span> i <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          attributes<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span>at<span class=\"token punctuation\">:</span> index<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span>\n      attributes<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>attr<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  contentWidth <span class=\"token operator\">=</span> <span class=\"token function\">CGFloat</span><span class=\"token punctuation\">(</span>numberOfItem <span class=\"token operator\">+</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> itemSpacing <span class=\"token operator\">+</span> <span class=\"token function\">CGFloat</span><span class=\"token punctuation\">(</span>numberOfItem<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> sizeCell<span class=\"token punctuation\">.</span>width\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Nh√¨n v√†o h√†m kia ch·∫Øc h·∫≥n m·ªçi ng∆∞·ªùi c≈©ng ƒë√£ hi·ªÉu ƒë∆∞·ª£c m·ªôt ph·∫ßn r·ªìi nh·ªâ üòÑ, em s·∫Ω gi·∫£i th√≠ch m·ªôt ch√∫t v·ªÅ nh·ªØng ƒëi·ªÉm ƒë·∫∑c bi·ªát sau:</p>\n<ol>\n<li>T·∫°i sao l·∫ßn ƒë·∫ßu ti√™n prepare l·∫°i c·∫ßn set offset c·ªßa UICollectionView l√™n l√† 10000? Nh∆∞ m·ªçi ng∆∞·ªùi c≈©ng bi·∫øt th√¨ offset ƒë·∫ßu ti√™n m·∫∑c ƒë·ªãnh c·ªßa UICollectionView l√† 0, cho n√™n n·∫øu Cell th·ª© 0 l√† ƒëang ƒë∆∞·ª£c focus th√¨ c√°c Cell ·ªü b√™n tr√°i n√≥ s·∫Ω c√≥ v·ªã tr√≠ x &#x3C; 0, m√† v·ªõi UICollectionView th√¨ c√°c Cell ·ªü v·ªã tr√≠ x &#x3C; 0 s·∫Ω kh√¥ng th·ªÉ hi·ªÉn th·ªã l√™n ƒë∆∞·ª£c tr√™n m√†n h√¨nh, v√¨ l√Ω do n√†y n√™n ph·∫£i set offset c·ªßa UICollectionView l√™n l√† 10000</li>\n<li>T·∫°i sao ph·∫£i c·∫ßn ƒë·∫øn additionalLeftArray v√† additionalRightArray? T·∫°i sao c√≥ nh·ªØng Cell ƒë∆∞·ª£c set l·∫°i frame m√† n√≥ ƒë√£ c√≥ trong m·∫£ng attributes? Ch·∫Øc h·∫≥n m·ªçi ng∆∞·ªùi nghƒ© l√† m·ªói khi change offset c·ªßa UICollectionView th√¨ s·∫Ω ch·ªâ c·∫ßn t√≠nh to√°n l·∫°i v·ªã tr√≠ c·ªßa c√°c Cell theo offset x m·ªõi c·ªßa UICollectionView th√¥i, tuy nhi√™n n·∫øu l√†m nh∆∞ v·∫≠y th√¨ s·∫Ω b·ªã m·∫•t ƒëi animation, v√¨ l√Ω do ƒë√≥ n√™n c√°ch l√†m c·ªßa em ƒë√≥ l√† m√¨nh ch·ªâ t√≠nh l·∫°i v·ªã tr√≠ c·ªßa nh·ªØng Cell m√† n√≥ ch∆∞a c√≥ trong leftArray ho·∫∑c l√† rightArray m√† th√¥i.</li>\n</ol>\n<p>OK, sau ƒë√≥ ch√∫ng ta ch·ªâ c·∫ßn tr·∫£ v·ªÅ nh·ªØng k·∫øt qu·∫£ ƒë√£ t√≠nh to√°n ƒë∆∞·ª£c ·ªü h√†m prepare m√† th√¥i.</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-swift line-numbers\"><code class=\"language-swift\"><span class=\"token keyword\">override</span> <span class=\"token keyword\">func</span> <span class=\"token function\">layoutAttributesForElements</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">in</span> rect<span class=\"token punctuation\">:</span> <span class=\"token builtin\">CGRect</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token builtin\">UICollectionViewLayoutAttributes</span><span class=\"token punctuation\">]</span><span class=\"token operator\">?</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> attributes\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">override</span> <span class=\"token keyword\">func</span> <span class=\"token function\">layoutAttributesForItem</span><span class=\"token punctuation\">(</span>at indexPath<span class=\"token punctuation\">:</span> <span class=\"token builtin\">IndexPath</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">UICollectionViewLayoutAttributes</span><span class=\"token operator\">?</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> attributes<span class=\"token punctuation\">[</span>indexPath<span class=\"token punctuation\">.</span>item<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">override</span> <span class=\"token keyword\">var</span> collectionViewContentSize<span class=\"token punctuation\">:</span> <span class=\"token builtin\">CGSize</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">CGSize</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">:</span> contentWidth <span class=\"token operator\">*</span> <span class=\"token number\">20000</span><span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">:</span> collectionView<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span>frame<span class=\"token punctuation\">.</span>height <span class=\"token operator\">?</span><span class=\"token operator\">?</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>V·ªÅ c∆° b·∫£n l√† ta ƒë√£ implement xong CollectionViewLayout cho vi·ªác t·∫°o ra Carousel r·ªìi, ch·ªâ c√≤n vi·ªác x·ª≠ l√Ω t√≠ch h·ª£p n√≥ v√†o UICollectionView th√¥i! M√† trong b√†i n√†y em s·∫Ω kh√¥ng n√≥i chi ti·∫øt v·ªÅ nh·ªØng ph·∫ßn ƒë·∫•y. Cho n√™n l√† em s·∫Ω ƒë·ªÉ source code <a href=\"https://github.com/LaptrinhvaCuocsong/CarouselDemo\">t·∫°i ƒë√¢y</a> ƒë·ªÉ m·ªçi ng∆∞·ªùi c√≥ th·ªÉ tham kh·∫£o.</p>\n<p>Em c√≥ capture video k·∫øt qu·∫£, m·ªçi ng∆∞·ªùi c√≥ th·ªÉ download file video <a href=\"https://github.com/LaptrinhvaCuocsong/CarouselDemo/tree/master/Video\">t·∫°i ƒë√¢y</a> nh√©.</p>\n<p>Nh∆∞ v·∫≠y, em ƒë√£ tr√¨nh b√†y xong c√°ch ƒë·ªÉ t·∫°o Carousel trong iOS v·ªõi Swift. N·∫øu m·ªçi ng∆∞·ªùi c√≥ c√°ch n√†o kh√°c th√¨ h√£y chia s·∫ª ho·∫∑c comment ph√≠a d∆∞·ªõi nh√© üòÑ.</p>\n<p>Happy reading!!!</p>\n<p>by Nguyen Manh Hung - Tomosia Viet Nam</p>","id":"d6b580a0-4611-58fa-b97c-bf059c218e18","frontmatter":{"title":"Build Carousel in iOS with Swift","date":"11-10-2020","tags":["swift","ios"]},"fields":{"slug":"/tao-carousel-trong-ios-voi-swift/","readingTime":{"text":"9 min read"}}}},{"node":{"excerpt":"B√†i vi·∫øt n√†y m√¨nh mu·ªën chia s·∫ª v·ªõi c√°c b·∫°n m·ªôt g√≥i x√¢y d·ª±ng Widget trong Laravel kh√° h·ªØu d·ª•ng v√† ·ªïn ƒë·ªãnh, ƒë·ªÉ bi·∫øt chi ti·∫øt h∆°n ch√∫ng ta c√πng ƒëi v√†o v·∫•n ƒë·ªÅ lu√¥n nh√©! version laravel >= 5.5 I. Gi·ªõi‚Ä¶","snippet":"<html><head></head><body><p>B&#xE0;i vi&#x1EBF;t n&#xE0;y m&#xEC;nh mu&#x1ED1;n chia s&#x1EBB; v&#x1EDB;i c&#xE1;c b&#x1EA1;n m&#x1ED9;t g&#xF3;i x&#xE2;y d&#x1EF1;ng Widget trong Laravel kh&#xE1; h&#x1EEF;u d&#x1EE5;ng v&#xE0; &#x1ED5;n &#x111;&#x1ECB;nh, &#x111;&#x1EC3; bi&#x1EBF;t chi ti&#x1EBF;t h&#x1A1;n ch&#xFA;ng ta c&#xF9;ng &#x111;i v&#xE0;o v&#x1EA5;n &#x111;&#x1EC1; lu&#xF4;n nh&#xE9;!</p> <p><em>version laravel</em> &gt;= 5.5</p> <h1>I. Gi&#x1EDB;i thi&#x1EC7;u</h1> <ul> <li> <p>Trong qu&#xE1; tr&#xEC;nh x&#xE2;y d&#x1EF1;ng website&#x2026;</p></li></ul></body></html>","html":"<p>B√†i vi·∫øt n√†y m√¨nh mu·ªën chia s·∫ª v·ªõi c√°c b·∫°n m·ªôt g√≥i x√¢y d·ª±ng Widget trong Laravel kh√° h·ªØu d·ª•ng v√† ·ªïn ƒë·ªãnh, ƒë·ªÉ bi·∫øt chi ti·∫øt h∆°n ch√∫ng ta c√πng ƒëi v√†o v·∫•n ƒë·ªÅ lu√¥n nh√©!</p>\n<p><em>version laravel</em> >= 5.5</p>\n<h1>I. Gi·ªõi thi·ªáu</h1>\n<ul>\n<li>\n<p>Trong qu√° tr√¨nh x√¢y d·ª±ng website ch√∫ng ta th∆∞·ªùng c√≥ r·∫•t nhi·ªÅu c√°c th√†nh ph·∫ßn l·∫∑p ƒëi l·∫∑p l·∫°i vi·ªác x·ª≠ l√Ω logic</p>\n<ul>\n<li>Calenda, Chart, List,... trong c√°c website ph√≠a qu·∫£n tr·ªã admin ho·∫∑c h·ªá th·ªëng qu·∫£n l√Ω</li>\n<li>1 website tin t·ª©c lu√¥n c√≥ 1 sidebar left hi·ªÉn th·ªã c√°c b√†i vi·∫øt m·ªõi nh·∫•t, b√†i vi·∫øt li√™n quan.</li>\n<li>1 website th∆∞∆°ng m·∫°i ƒëi·ªán t·ª≠ d∆∞·ªõi m·ªói detail s·∫£n ph·∫©m lu√¥n hi·ªÉn th·ªã slider s·∫£n ph·∫©m li√™n quan....</li>\n</ul>\n</li>\n<li>C√°c v·∫•n ƒë·ªÅ tr√™n v·ªÅ logic x·ª≠ l√Ω th√¨ gi·ªëng nhau nh∆∞ng c√≥ th·ªÉ ch·ªâ kh√°c v·ªÅ Input. Vi·ªác l·∫∑p l·∫°i khi·∫øn code kh√≥ maintain khi thay ƒë·ªïi, c√°c l·ªõp x·ª≠ l√Ω logic sinh ra nhi·ªÅu kh√≥ qu·∫£n l√Ω, hi·ªáu nƒÉng kh√¥ng ƒë·∫£m b·∫£o. V√¨ v·∫≠y m√¨nh ƒë√£ t√¨m 1 ra g√≥i Laravel Widget c√≥ th·ªÉ h·ªó tr·ª° m√¨nh gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ ƒë√≥ khi x√¢y d·ª±ng website b·∫±ng Framework Laravel.</li>\n<li>Laravel Widget ƒë∆∞·ª£c x√¢y d·ª±ng nh·∫±m m·ª•c ƒë√≠ch h·ªó tr·ª£ c√°c website t·ªëi ∆∞u c∆° b·∫£n qu√° tr√¨nh x√¢y d·ª±ng c√°c th√†nh ph·∫ßn trong web c·∫£ v·ªÅ logic, giao di·ªán v√† clean code. T∆∞∆°ng t√°c t·ªët v·ªõi c√°c l·ªõp v√† c·∫•u h√¨nh &#x26; c√†i ƒë·∫∑t d·ªÖ d√†ng, d·ªÖ s·ª≠ d·ª•ng. T√≠nh m·ªü r·ªông c≈©ng r·∫•t cao h·ªó tr·ª£ r·∫•t t·ªët cho blade view. </li>\n</ul>\n<h1>II. Chi ti·∫øt</h1>\n<h2>C√†i ƒë·∫∑t</h2>\n<ul>\n<li>\n<p>Vi·ªác c√†i ƒë·∫∑t d·ªÖ d√†ng v·ªõi c√¢u l·ªánh</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">composer require arrilot/laravel-widgets</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n</li>\n<li>Version Laravel >= 5.5</li>\n</ul>\n<h2>S·ª≠ d·ª•ng</h2>\n<p><em>ƒê·ªÉ d·ªÖ h√¨nh dung v·ªÅ 1 case ch√∫ng ta s·∫Ω ƒëi v√†o v√≠ d·ª• l√† 1 website tin t·ª©c v√† khi b·∫°n truy c·∫≠p v√†o website n√†y, lu√¥n c√≥ 1 th√†nh ph·∫ßn hi·ªÉn th·ªã c√°c tin t·ª©c ƒë√£ xem g·∫ßn ƒë√¢y c·ªßa b·∫°n. Ch√∫ng ta s·∫Ω t·∫°o 1 widget x·ª≠ l√Ω ƒëi·ªÅu ƒë√≥ nh√©!</em></p>\n<ul>\n<li>\n<p>ƒê·∫ßu ti√™n, ch√∫ng ta ch·∫°y 1 c√¢u l·ªánh t·∫°o ra 1 widget ƒë∆∞·ª£c cung c·∫•p b·ªüi g√≥i ƒë√£ c√†i ƒë·∫∑t tr√™n:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">php artisan make:widget RecentNews</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>l·ªánh n√†y s·∫Ω t·∫°o ra 2 file: <code class=\"language-text\">resources/views/widgets/recent_news.blade.php</code> (1 file blade view tr·ªëng) v√† <code class=\"language-text\">app/Widgets/RecentNews</code> (n·∫øu b·∫°n kh√¥ng mu·ªën t·∫°o file view th√¨ th√™m <code class=\"language-text\">--plain</code> v√†o cu·ªëi c√¢u l·ªánh tr√™n)</p>\n</li>\n</ul>\n<p>File <code class=\"language-text\">app/Widgets/RecentNews</code> c√≥ n·ªôi dung nh∆∞ sau:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\">  <span class=\"token keyword\">namespace</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Widgets</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token keyword\">use</span> <span class=\"token package\">Arrilot<span class=\"token punctuation\">\\</span>Widgets<span class=\"token punctuation\">\\</span>AbstractWidget</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token keyword\">class</span> <span class=\"token class-name\">RecentNews</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractWidget</span>\n  <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">/**\n      * The configuration array.\n      *\n      * @var array\n      */</span>\n      <span class=\"token keyword\">protected</span> <span class=\"token variable\">$config</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token comment\">/**\n      * Treat this method as a controller action.\n      * Return view() or other content to display.\n      */</span>\n      <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">return</span> <span class=\"token function\">view</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'widgets.recent_news'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>\n              <span class=\"token single-quoted-string string\">'config'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token property\">config</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>t·∫°i ƒë√¢y s·∫Ω x·ª≠ l√Ω logic d·ªØ li·ªáu v√† hi·ªÉn th·ªã widget, kh√° gi·ªëng v·ªõi vai tr√≤ 1 controller. B·∫°n c√≥ th·ªÉ ƒë∆∞a c√°c l·ªõp v√†o ƒë√¢y x·ª≠ l√Ω. V√≠ d·ª• m√¨nh mu·ªën s·ª≠ d·ª•ng 1 repository <code class=\"language-text\">NewsRepository</code> ho·∫∑c 1 model <code class=\"language-text\">News</code> c√≥ th·ªÉ truy·ªÅn v√†o <code class=\"language-text\">function run()</code> sau ƒë√≥ truy·ªÅn params ra view c·ªßa widget nh∆∞ sau:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span>NewsRepository <span class=\"token variable\">$newRepository</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$listNews</span> <span class=\"token operator\">=</span> News<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$newsRecents</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$newRepository</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">getListRecent</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token function\">view</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'widgets.recent_news'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token single-quoted-string string\">'config'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token property\">config</span><span class=\"token punctuation\">,</span>\n        <span class=\"token single-quoted-string string\">'news'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token variable\">$listNews</span><span class=\"token punctuation\">,</span>\n        <span class=\"token single-quoted-string string\">'newsRecents'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token variable\">$newsRecents</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<ul>\n<li>\n<p>Ti·∫øp theo ƒë·ªÉ hi·ªÉn th·ªã view widget <code class=\"language-text\">recentNews</code> ch√∫ng ta c√≥ th·ªÉ ƒë·∫∑t <code class=\"language-text\">@widget(&#39;recentNews&#39;)</code> ·ªü b·∫•t k·ª≥ blade view n√†o ch√∫ng ta mu·ªën, widget s·∫Ω hi·ªÉn th·ªã ·ªü v·ªã tr√≠ ƒë√≥. V√≠ d·ª• n·ªôi dung file <code class=\"language-text\">resource/views/widgets/recent_news.php</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token double-quoted-string string\">\"col-md-4\"</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>h1<span class=\"token operator\">></span>Tin t·ª©c ƒë√£ xem<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n@<span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span><span class=\"token variable\">$newsRecents</span> <span class=\"token keyword\">as</span> <span class=\"token variable\">$news</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&lt;</span>div <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token double-quoted-string string\">\"box-news-recent\"</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>span <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token double-quoted-string string\">\"title\"</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token variable\">$news</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token property\">title</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>img src<span class=\"token operator\">=</span><span class=\"token double-quoted-string string\">\"{{ <span class=\"token interpolation\"><span class=\"token variable\">$news</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token property\">thumbnail</span></span> }}\"</span> alt<span class=\"token operator\">=</span><span class=\"token double-quoted-string string\">\"{{ <span class=\"token interpolation\"><span class=\"token variable\">$news</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token property\">title</span></span> }}\"</span> width<span class=\"token operator\">=</span><span class=\"token double-quoted-string string\">\"70\"</span><span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n@<span class=\"token keyword\">foreach</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Gi·ªù hi·ªÉn th·ªã v√†o <code class=\"language-text\">resource/views/news/index.php</code> l√† 1 file view ch√∫ng ta ch·ªâ c·∫ßn ch√®n ƒëo·∫°n code g·ªçi widget n√†y ·ªü b·∫•t k·ª≥ ƒë√¢u trong file ƒë√≥:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\">@<span class=\"token function\">widget</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'newsRecent'</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>ho·∫∑c:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> Widget<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'recentNews'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>ho·∫∑c ti·∫øp:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> Widget<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">recentNews</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n</li>\n</ul>\n<h2>Truy·ªÅn c√°c tham s·ªë v√†o Widget (Passing variables to widget)</h2>\n<h3>truy·ªÅn qua m·∫£ng c·∫•u h√¨nh ($config)</h3>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">RecentNews</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractWidget</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">protected</span> <span class=\"token variable\">$config</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token single-quoted-string string\">'count'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token number\">5</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n@<span class=\"token function\">widget</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'recentNews'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// shows 5</span>\n@<span class=\"token function\">widget</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'recentNews'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'count'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token number\">10</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// shows 10</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<ul>\n<li><code class=\"language-text\">count</code> cho ph√©p ch√∫ng ta hi·ªÉn th·ªã widget ƒë√≥ l·∫∑p l·∫°i li√™n ti·∫øp.</li>\n<li>\n<p>C√≥ th·ªÉ truy·ªÅn c√°c gi√° tr·ªã tu·ª≥ bi·∫øn t·ª´ b√™n ngo√†i v√†o widget th√¥ng qua <code class=\"language-text\">$config</code> v√≠ d·ª• <code class=\"language-text\">@widget(&#39;recentNews&#39;, [&#39;foo&#39; =&gt; &#39;bar&#39;])</code>, b√™n trong <code class=\"language-text\">app/Widgets/RecentNews</code> t·∫°i <code class=\"language-text\">function run()</code> ch√∫ng ta c√≥ th·ªÉ ƒë·ªçc ƒë∆∞·ª£c param v·ª´a truy·ªÅn:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n<span class=\"token variable\">$foo</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token property\">config</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'foo'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// $foo == 'bar' </span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">return</span> <span class=\"token function\">view</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'widgets.recent_news'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token single-quoted-string string\">'config'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token variable\">$this</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token property\">config</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n</ul>\n<h2>Widget b·∫•t ƒë·ªìng b·ªô (Asynchronous widgets)</h2>\n<p>Trong m·ªôt v√†i tr∆∞·ªùng h·ª£p, load widget b·∫±ng Ajax r·∫•t c√≥ l·ª£i. Vi·ªác load widget b·∫•t ƒë·ªìng b·ªô c≈©ng r·∫•t ƒë∆°n gi·∫£n, ch·ªâ c·∫ßn ƒë·ªïi c√∫ ph√°p t·ª´ <code class=\"language-text\">Widget:: =&gt; AsyncWidget::</code> v√† <code class=\"language-text\">@widget =&gt; @asyncWidget</code> l√† xong.</p>\n<ul>\n<li>C√°c tham s·ªë c·ªßa widget s·∫Ω ƒë∆∞·ª£c m√£ h√≥a (theo m·∫∑c ƒë·ªãnh) v√† ƒë∆∞·ª£c g·ª≠i qua l·ªánh g·ªçi ajax. V√¨ v·∫≠y, khi nh·∫≠n tham s·ªë h√£y s·ª≠ d·ª•ng <code class=\"language-text\">json_encoded()</code> v√† <code class=\"language-text\">json_decoded()</code>.</li>\n</ul>\n<h6><em>L∆∞u √Ω: B·∫°n c√≥ th·ªÉ t·∫Øt m√£ h√≥a cho m·ªôt <strong>widget</strong> c·ª• th·ªÉ b·∫±ng c√°ch th√™m</em> <code class=\"language-text\">public  $encryptParams = false;</code> <em>trong ƒë√≥. Tuy nhi√™n, h√†nh ƒë·ªông n√†y l√† kh√¥ng khuy·∫øn kh√≠ch n·∫øu kh√¥ng th·ª±c s·ª± c·∫ßn thi·∫øt v√¨ kh√¥ng an to√†n.</em></h6>\n<h6><em>L∆∞u √Ω: B·∫°n c√≥ th·ªÉ ƒë·∫∑t</em> <code class=\"language-text\">use_jquery_for_ajax_calls = true</code> <em>trong t·ªáp c·∫•u h√¨nh ƒë·ªÉ s·ª≠ d·ª•ng n√≥ cho c√°c cu·ªôc g·ªçi ajax n·∫øu mu·ªën, nh∆∞ng b·∫°n c·∫ßn th√™m jquery v√†o trang c·ªßa m√¨nh theo c√°ch th·ªß c√¥ng trong tr∆∞·ªùng h·ª£p n√†y.</em></h6>\n<ul>\n<li>\n<p>M·∫∑c ƒë·ªãnh trong qu√° tr√¨nh call Ajax hi·ªÉn th·ªã widget th√¨ s·∫Ω kh√¥ng c√≥ g√¨ hi·ªÉn th·ªã khi loading, b·∫°n c√≥ th·ªÉ custom b·∫±ng <code class=\"language-text\">function placeholder()</code> cho vi·ªác hi·ªÉn th·ªã ƒë√≥:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">placeholder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token single-quoted-string string\">'Loading...'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n</ul>\n<h2>T·ª± ƒë·ªông t·∫£i l·∫°i Widget (Reloadable widgets)</h2>\n<ul>\n<li>B·∫°n c√≥ th·ªÉ c·∫•u h√¨nh ƒë∆°n gi·∫£n t·∫£i l·∫°i Widget sau N gi√¢y b·∫°n mu·ªën.</li>\n<li>\n<p>Ch·ªâ c·∫ßn set <code class=\"language-text\">$reloadTimeout</code> l√† xong</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">RecentNews</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractWidget</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">/**\n  * The number of seconds before each reload.\n  *\n  * @var int|float\n  */</span>\n  <span class=\"token keyword\">public</span> <span class=\"token variable\">$reloadTimeout</span> <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h6>_L∆∞u √Ω: C√¢n nh·∫Øc s·ª≠ d·ª•ng t√≠nh nƒÉng n√†y m·ªôt c√°ch h·ª£p l√Ω kh√¥ng s·∫Ω tr·ªü th√†nh spam.</h6>\n</li>\n</ul>\n<h2>Caching</h2>\n<ul>\n<li>\n<p>Cache 1 widget b·∫±ng c√°ch set <code class=\"language-text\">public $cacheTime</code></p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">RecentNews</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">AbstractWidget</span>\n<span class=\"token punctuation\">{</span>\n<span class=\"token comment\">/**\n * The number of minutes before cache expires.\n * False means no caching at all.\n *\n * @var int|float|bool\n */</span>\n<span class=\"token keyword\">public</span> <span class=\"token variable\">$cacheTime</span> <span class=\"token operator\">=</span> <span class=\"token number\">60</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n</ul>\n<h2>Widget groups</h2>\n<ul>\n<li>\n<p>Th√¥ng th∆∞·ªùng ch√∫ng ta s·∫Ω hi·ªÉn th·ªã c√°c widget b·∫±ng c√°ch vi·∫øt ch√∫ng v√†o blade view mu·ªën hi·ªÉn th·ªã. Nh∆∞ng c√≤n 1 c√°ch kh√°c cho ph√©p ch√∫ng ta c√≥ th·ªÉ s·∫Øp x·∫øp v·ªã tr√≠ widget, nh√≥m ch√∫ng l·∫°i v√† c√≥ th·ªÉ vi·∫øt trong controller v·ªõi c√∫ ph√°p ƒë∆°n gi·∫£n:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token comment\">// add several widgets to the 'sidebar' group anywhere you want (even in controller)</span>\nWidget<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'sidebar'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">position</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">addWidget</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'widgetName1'</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$config1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nWidget<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'sidebar'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">position</span><span class=\"token punctuation\">(</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">addAsyncWidget</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'widgetName2'</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$config2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n</li>\n</ul>\n<p>// display them in a view in the correct order\n@widgetGroup('sidebar')\n// or\n{{ Widget::group('sidebar')->display() }}</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">- B·∫°n c√≥ th·ªÉ ƒë·∫∑t d·∫•u ph√¢n c√°ch tu·ª≥ √Ω v√†o gi·ªØa c√°c widget ƒë∆∞·ª£c group l·∫°i `Widget::group(&#39;sidebar&#39;)-&gt;setSeparator(&#39;&lt;hr&gt;&#39;)-&gt;...;`\n\n- B·∫°n c≈©ng c√≥ th·ªÉ g√≥i t·ª´ng widget trong m·ªôt nh√≥m b·∫±ng `wrap` b·∫±ng c√°ch:\n```php\nWidget::group(&#39;sidebar&#39;)-&gt;wrap(function ($content, $index, $total) {\n    // $total is a total number of widgets in a group.\n    return &quot;&lt;div class=&#39;widget-{$index}&#39;&gt;{$content}&lt;/div&gt;&quot;;\n})-&gt;...;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3>Removing widgets from a group</h3>\n<ul>\n<li>Trong m·ªôt s·ªë tr∆∞·ªùng h·ª£p khi hi·ªÉn th·ªã ta ph·∫£i b·ªè 1 s·ªë widget v√¨ m·ªôt v√†i ƒëi·ªÅu ki·ªán th√¨ c√≥ c√°c c√°ch sau</li>\n<li>\n<p>lo·∫°i b·ªè widget kh·ªèi group b·∫±ng unique ID</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token variable\">$id1</span> <span class=\"token operator\">=</span> Widget<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'sidebar'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">addWidget</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'files'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$id2</span> <span class=\"token operator\">=</span> Widget<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'sidebar'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">addAsyncWidget</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'files'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nWidget<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'sidebar'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">removeById</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$id1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// There is only second widget in the group now</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n</li>\n<li>\n<p>Xo√° t·∫•t c·∫£ widgets ra kh·ªèi group b·∫±ng specific name\nv√≠ d·ª• add 2 widget c√πng c√≥ specific name l√† <code class=\"language-text\">&quot;files&quot;</code> sau ƒë√≥ th·ª±c hi·ªán xo√° c√°c widget c√≥ specific name = \"files\"</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\">Widget<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'sidebar'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">addWidget</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'files'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nWidget<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'sidebar'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">addAsyncWidget</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'files'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nWidget<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'sidebar'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">removeByName</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'files'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Widget group is empty now</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n</li>\n<li>\n<p>Xo√° t·∫•t c·∫£ widgets c√≥ c√πng position ra kh·ªèi group.</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\">Widget<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'sidebar'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">position</span><span class=\"token punctuation\">(</span><span class=\"token number\">42</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">addWidget</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'files'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nWidget<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'sidebar'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">position</span><span class=\"token punctuation\">(</span><span class=\"token number\">42</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">addAsyncWidget</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'files'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nWidget<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'sidebar'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">removeByPosition</span><span class=\"token punctuation\">(</span><span class=\"token number\">42</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Widget group is empty now</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n</li>\n<li>\n<p>Xo√° t·∫•t c·∫£ widget trong group</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\">Widget<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'sidebar'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">addWidget</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'files'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nWidget<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'sidebar'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">addAsyncWidget</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'files'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nWidget<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'sidebar'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">removeAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Widget group is empty now</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n</li>\n</ul>\n<h3>Ki·ªÉm tra tr·∫°ng th√°i c·ªßa group (Checking the state of a group)</h3>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\">Widget<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'sidebar'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// bool</span>\n\nWidget<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'sidebar'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">any</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// bool</span>\n\nWidget<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'sidebar'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">count</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// int</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2>K·∫øt lu·∫≠n</h2>\n<ul>\n<li>Qua b√†i vi·∫øt tr√™n ch√∫ng ta c√≥ th·ªÉ th·∫•y Laravel Widget d·ªÖ s·ª≠ d·ª•ng, c√∫ ph√°p th√¢n thi·ªán v√† gi·∫£i quy·∫øt ƒë∆∞·ª£c nhi·ªÅu v·∫•n ƒë·ªÅ trong qu√° tr√¨nh x√¢y d·ª±ng website.</li>\n<li>Laravel Widget t∆∞∆°ng th√≠ch v·ªõi nhi·ªÅu phi√™n b·∫£n c·ªßa Laravel v√† kh√° linh ho·∫°t trong b·∫•t k·ªÉ Design pattern n√†o.</li>\n<li>Tuy nhi√™n v·∫´n c√≤n 1 s·ªë ƒëi·ªÉm h·∫°n ch·∫ø v·ªÅ vi·ªác s·ª≠ d·ª•ng b·∫•t ƒë·ªìng b·ªô, pagination,... v√† qu√° tr√¨nh ph√°t tri·ªÉn ph·∫£i custom l·∫°i 1 s·ªë th·ª© v·ªÅ logic x·ª≠ l√Ω.</li>\n</ul>\n<h2>T√†i li·ªáu tham kh·∫£o</h2>\n<ul>\n<li>C√°c b·∫°n c√≥ th·ªÉ ƒë·ªçc t√†i li·ªáu g·ªëc &#x26; follow update Laravel Widget t·∫°i ƒë√¢y\n<a href=\"https://github.com/arrilot/laravel-widgets\">https://github.com/arrilot/laravel-widgets</a></li>\n</ul>\n<h6><em><div style=\"text-align: right\"> - by Ngoc Quan </div></em></h6>","id":"0a3a7ae8-7606-5eba-91c8-d9895d9f57cc","frontmatter":{"title":"Widget trong Laravel","date":"08-10-2020","tags":["php","laravel"]},"fields":{"slug":"/widget-trong-laravel/","readingTime":{"text":"8 min read"}}}},{"node":{"excerpt":"·ªû b√†i vi·∫øt tr∆∞·ªõc ch√∫ng ta ƒë√£ t√¨m hi·ªÉu v·ªÅ Authentication c∆° b·∫£n trong framework Laravel v√† demo m·ªôt v√†i t√≠nh nƒÉng ƒëƒÉng nh·∫≠p, ƒëƒÉng k√Ω,... Nh∆∞ng ƒë√≥ l√† ch·ªâ l√† 1 auth user, th√¥ng th∆∞·ªùng 1 website √≠t nh·∫•t‚Ä¶","snippet":"<html><head></head><body><p>&#x1EDE; b&#xE0;i vi&#x1EBF;t tr&#x1B0;&#x1EDB;c ch&#xFA;ng ta &#x111;&#xE3; t&#xEC;m hi&#x1EC3;u v&#x1EC1; Authentication c&#x1A1; b&#x1EA3;n trong framework Laravel v&#xE0; demo m&#x1ED9;t v&#xE0;i t&#xED;nh n&#x103;ng &#x111;&#x103;ng nh&#x1EAD;p, &#x111;&#x103;ng k&#xFD;,... Nh&#x1B0;ng &#x111;&#xF3; l&#xE0; ch&#x1EC9; l&#xE0; 1 auth user, th&#xF4;ng th&#x1B0;&#x1EDD;ng 1 website &#xED;t nh&#x1EA5;t s&#x1EBD; c&#xF3; 2 &#x111;&#x1ED1;i t&#x1B0;&#x1EE3;ng user (User th&#xF4;ng th&#x1B0;&#x1EDD;ng, User&#x2026;</p></body></html>","html":"<p>·ªû <a href=\"https://blog.tomosia.com/authentication-trong-laravel/\">b√†i vi·∫øt tr∆∞·ªõc</a> ch√∫ng ta ƒë√£ t√¨m hi·ªÉu v·ªÅ Authentication c∆° b·∫£n trong framework Laravel v√† demo m·ªôt v√†i t√≠nh nƒÉng ƒëƒÉng nh·∫≠p, ƒëƒÉng k√Ω,... Nh∆∞ng ƒë√≥ l√† ch·ªâ l√† 1 auth user, th√¥ng th∆∞·ªùng 1 website √≠t nh·∫•t s·∫Ω c√≥ 2 ƒë·ªëi t∆∞·ª£ng user (User th√¥ng th∆∞·ªùng, User Administrator). Ch∆∞a k·ªÉ c√≥ nh·ªØng h·ªá th·ªëng c√≥ r·∫•t nhi·ªÅu user v√† n·∫±m ·ªü c√°c b·∫£ng kh√°c nhau trong database.\nV√≠ d·ª•: 1 c√¥ng ty c√≥ c√°c c·ª≠a h√†ng, trong c·ª≠a h√†ng c√≥ c√°c nh√¢n vi√™n v√† ng∆∞·ªùi d√πng mua h√†ng\nCh√∫ng ta s·∫Ω c·∫ßn c√≥ Account Company, Account Shop, Account Employee, Account User v√† c√°c acc n√†y kh√¥ng c√≥ c√πng thu·ªôc t√≠nh gi·ªëng nhau n√™n kh√¥ng th·ªÉ l∆∞u chung 1 b·∫£ng ƒë∆∞·ª£c m√† ph·∫£i l∆∞u ·ªü c√°c b·∫£ng kh√°c nhau trong database. V·∫≠y Laravel s·∫Ω x·ª≠ l√Ω ra sao ch√∫ng ta c√πng t√¨m hi·ªÉu nh√©!</p>\n<p><em>Authentication basic Laravel</em> :\n<a href=\"https://blog.tomosia.com/authentication-trong-laravel/\">https://blog.tomosia.com/authentication-trong-laravel/</a></p>\n<p><em>Version Laravel: 5.x, 6.x, 7.x</em></p>\n<h1>I. Chu·∫©n b·ªã d·ªØ li·ªáu</h1>\n<p><strong><em>1. Database</em></strong></p>\n<ul>\n<li>\n<p>D√πng migrations ƒë·ªÉ t·∫°o 4 b·∫£ng t∆∞∆°ng ·ª©ng v·ªõi 4 authenticate user c·ªßa h·ªá th·ªëng</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">php artisan make:migration create_admins_table --create<span class=\"token operator\">=</span>admins\nphp artisan make:migration create_shops_table --create<span class=\"token operator\">=</span>shops\nphp artisan make:migration create_admins_table --create<span class=\"token operator\">=</span>employees\nphp artisan make:migration create_users_table --create<span class=\"token operator\">=</span>users</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<ul>\n<li>\n<p>migration <code class=\"language-text\">create_admins_table</code></p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">up</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\nSchema<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'admins'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>Blueprint <span class=\"token variable\">$table</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">increments</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'id'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">string</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'email'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">unique</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">string</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'name'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">string</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'password'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">string</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'remember_token'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">timestamps</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n<li>\n<p>migration <code class=\"language-text\">create_shops_table</code></p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">up</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\nSchema<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'shops'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>Blueprint <span class=\"token variable\">$table</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">increments</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'id'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">string</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'email'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">unique</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">string</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'name'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">string</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'password'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">integer</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'company_id'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">string</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'remember_token'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">timestamps</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n<li>\n<p>migration <code class=\"language-text\">create_employees_table</code></p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">up</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\nSchema<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'employees'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>Blueprint <span class=\"token variable\">$table</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">increments</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'id'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">string</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'email'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">unique</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">string</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'name'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">string</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'password'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">integer</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'company_id'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">integer</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'shop_id'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">string</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'remember_token'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">timestamps</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n<li>\n<p>migration <code class=\"language-text\">create_users_table</code></p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function\">up</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\nSchema<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'users'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>Blueprint <span class=\"token variable\">$table</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">increments</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'id'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">string</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'email'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">unique</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">string</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'name'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">string</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'password'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">text</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'address'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">integer</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'created_by'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">string</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'remember_token'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token variable\">$table</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">timestamps</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p>ch·∫°y c√¢u l·ªánh ƒë·ªÉ ch·∫°y 4 migration tr√™n kh·ªüi t·∫°o th√†nh 4 b·∫£ng t∆∞∆°ng ·ª©ng trong database</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">php artisan migrate</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p><strong><em>2. Model</em></strong></p>\n</li>\n<li>\n<p>T·∫°o 1 th∆∞ m·ª•c app/Models trong projects sau ƒë√≥ t·∫°o 4 models t∆∞∆°ng ·ª©ng c√°c b·∫£ng v·ª´a t·∫°o</p>\n<ul>\n<li>\n<p>ƒê·ªÉ tr√°nh d√†i d√≤ng ch√∫ng ta ch·ªâ v√≠ d·ª• 1 Model cho b·∫£ng Admin, c√°c b·∫£ng kh√°c t·∫°o t∆∞∆°ng t·ª±:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">namespace</span> <span class=\"token package\">App<span class=\"token punctuation\">\\</span>Models</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n</li>\n</ul>\n<p>use Illuminate\\Notifications\\Notifiable;\nuse Illuminate\\Foundation\\Auth\\User as Authenticatable;</p>\n<p>class Admin extends Authenticatable\n{\nuse Notifiable;</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">protected $guard = &#39;admin&#39;;\n\nprotected $fillable = [\n    &#39;name&#39;, &#39;email&#39;, &#39;password&#39;,\n];\n\nprotected $hidden = [\n    &#39;password&#39;, &#39;remember_token&#39;,\n];</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>}</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">+ ·ªû ƒë√¢y **Model Admin** c√≥ extends **Authenticatable** c·ªßa Laravel ƒë·ªÉ k·∫ø th·ª´a c√°c d·∫∑c t√≠nh Authenticate c·ªßa Laravel v√† s·ª≠ d·ª•ng nh∆∞ 1 model b√¨nh th∆∞·ªùng.\n+ Ti·∫øp theo ta c√≥ th√™m th√†nh ph·∫ßn \n```php\nprotected $guard = &#39;admin&#39;;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>m·ª•c ƒë√≠ch ƒë·ªÉ khai b√°o t√™n GUARD cho model v√† sau n√†y s·ª≠ d·ª•ng authenticate Admin, t√™n GUARD s·∫Ω s·ª≠ d·ª•ng r·∫•t th∆∞·ªùng xuy√™n v√† quan tr·ªçng.</p>\n</li>\n<li>C√°c model c√≤n l·∫°i c√°c b·∫°n t·∫°o t∆∞∆°ng t·ª± Model Admin nh√©!</li>\n</ul>\n<h2>II C·∫•u h√¨nh</h2>\n<ul>\n<li>Gi·ªù ch√∫ng ta s·∫Ω ƒëi v√†o vi·ªác c·∫•u h√¨nh c√°c lu·ªìng x√°c th·ª±c cho c√°c ƒë·ªëi t∆∞·ª£ng User v·ª´a kh·ªüi t·∫°o d·ªØ li·ªáu v√† model.</li>\n</ul>\n<p><strong>GUARD</strong></p>\n<ul>\n<li>\n<p>Laravel cho ph√©p ch√∫ng ta ƒë∆∞·ª£c s·ª≠ d·ª•ng nhi·ªÅu guardard, m·ªói guard s·∫Ω ·ª©ng v·ªõi 1 th√†nh ph·∫ßn x√°c th·ª±c kh√°c nhau. Vi·ªác c·∫•u h√¨nh guard ·ªü file <code class=\"language-text\">Config/auth.php</code></p>\n<ul>\n<li>\n<p>c·∫•u h√¨nh guard m·∫∑c ƒë·ªãnh c·ªßa Laravel nh∆∞ sau:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token single-quoted-string string\">'guards'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>\n<span class=\"token single-quoted-string string\">'web'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>\n    <span class=\"token single-quoted-string string\">'driver'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'session'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token single-quoted-string string\">'provider'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'users'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\n<span class=\"token single-quoted-string string\">'api'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>\n    <span class=\"token single-quoted-string string\">'driver'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'token'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token single-quoted-string string\">'provider'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'users'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token single-quoted-string string\">'hash'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token boolean constant\">false</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>M·∫∑c ƒë·ªãnh ch·ªâ c√≥ 2 guard l√† web v√† api, nh∆∞ng ch√∫ng ta c√≥ t·ªõi 4 guard nh∆∞ ƒë√£ n√≥i tr√™n th√¨ s·∫Ω c√¢u h√¨nh nh∆∞ sau:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token single-quoted-string string\">'guards'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>\n<span class=\"token single-quoted-string string\">'admin'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>\n    <span class=\"token single-quoted-string string\">'driver'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'session'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token single-quoted-string string\">'provider'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'admin_provider'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token single-quoted-string string\">'shop'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>\n    <span class=\"token single-quoted-string string\">'driver'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'session'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token single-quoted-string string\">'provider'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'shop_provider'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token single-quoted-string string\">'employee'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>\n    <span class=\"token single-quoted-string string\">'driver'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'session'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token single-quoted-string string\">'provider'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'employee_provider'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token single-quoted-string string\">'user'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>\n    <span class=\"token single-quoted-string string\">'driver'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'session'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token single-quoted-string string\">'provider'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'user_provider'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n<p><strong>PROVIDER</strong></p>\n<ul>\n<li>Ch·∫Øc c√°c b·∫°n c≈©ng ƒë√£ th·∫•y c·∫•u h√¨nh guard v·ª´a r·ªìi m√¨nh c≈©ng ƒë√£ thay ƒë·ªïi c·∫£ t√™n provider c·ªßa t·ª´ng guard. Ti·∫øp theo m√¨nh s·∫Ω h∆∞·ªõng d·∫´n c√°c b·∫°n c·∫•u h√¨nh provider nh√©!</li>\n</ul>\n<p>Guard ƒë·ªÉ x√°c th·ª±c ng∆∞·ªùi d√πng c√≤n Provider s·∫Ω l·∫•y ra d·ªØ li·ªáu ng∆∞·ªùi d√πng sau khi x√°c th·ª±c, v·∫≠y n√™n vi·ªác c·∫•u h√¨nh Provider s·∫Ω li√™n quan t·ªõi vi·ªác li√™n k·∫øt Authenticate t·ªõi Model t∆∞∆°ng ·ª©ng. Vi·ªác c·∫•u h√¨nh v·∫´n ·ªü trong <code class=\"language-text\">app/auth.php</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token single-quoted-string string\">'providers'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>\n        <span class=\"token single-quoted-string string\">'admin_provider'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>\n            <span class=\"token single-quoted-string string\">'driver'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'eloquent'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token single-quoted-string string\">'model'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> App\\<span class=\"token package\">Models<span class=\"token punctuation\">\\</span>Admin</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token single-quoted-string string\">'shop_provider'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>\n            <span class=\"token single-quoted-string string\">'driver'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'eloquent'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token single-quoted-string string\">'model'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> App\\<span class=\"token package\">Models<span class=\"token punctuation\">\\</span>Shop</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token single-quoted-string string\">'employee_provider'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>\n            <span class=\"token single-quoted-string string\">'driver'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'eloquent'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token single-quoted-string string\">'model'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> App\\<span class=\"token package\">Models<span class=\"token punctuation\">\\</span>Employee</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token single-quoted-string string\">'user_provider'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span>\n            <span class=\"token single-quoted-string string\">'driver'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token single-quoted-string string\">'eloquent'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token single-quoted-string string\">'model'</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> App\\<span class=\"token package\">Models<span class=\"token punctuation\">\\</span>User</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>ROUTE</strong></p>\n<ul>\n<li>nh∆∞ v·∫≠y t·ª´ vi·ªác c·∫•u h√¨nh ·ªü Guard li√™n k·∫øt v√≥i Provider v√† Provider li√™n k·∫øt v·ªõi Model th√¨ ch√∫ng ta ƒë√£ ho√†n t·∫•t vi·ªác c·∫•u h√¨nh v·ªÅ c∆° b·∫£n cho c√°c autheticate. Gi·ªù th√¨ ch√∫ng ta khai b√°o c√°c route t∆∞∆°ng ·ª©ng ƒë·ªÉ th·ª±c hi·ªán c√°c ch·ª©c nƒÉng c∆° b·∫£n c·ªßa 1 authenticate nh∆∞ ƒëƒÉng nh·∫≠p, ƒëƒÉng k√Ω, qu√™n m·∫≠t kh·∫©u,... nh∆∞ sau:</li>\n<li>\n<p>V√≠ d·ª• v·ªõi Admin, c√≤n l·∫°i c√°c b·∫°n l√†m t∆∞∆°ng t·ª±</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\">Route<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'/login'</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'LoginController@showLoginForm'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nRoute<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'/login'</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'LoginController@login'</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">name</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'login'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n</li>\n</ul>\n<p>Route::group(['namespace' => 'Admin', 'prefix' => 'admin'], function () {\nRoute::group(['middleware' => ['auth:admin']], function () {\nRoute::get('/home', 'HomeController@index');\n});\n});</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">T·∫°i ƒë√¢y m√¨nh ƒë√£ g·ªçi t·ªõi LoginController ƒë·ªÉ hi·ªÉn th·ªã form login v·ªõi `function showLoginForm` v√† check login cho Admin v·ªõi `function login`, sau khi login th√†nh c√¥ng v·ªõi Auth Admin s·∫Ω ƒëi·ªÅu h∆∞·ªõng t·ªõi trang home.\n\n## III X·ª≠ l√Ω multiple authenticate\n**_1. Controller_**\n\n- T·∫°i ƒë√¢y m√¨nh m√¥ t·∫£ c√°ch x·ª≠ l√Ω chung c√°c autheticate trong 1 controller, n·∫øu c√°c b·∫°n mu·ªën x·ª≠ l√Ω ri√™ng th√¨ t√°ch controller x·ª≠ l√Ω t∆∞∆°ng t·ª±.\n```php\n&lt;?php\nnamespace App\\Http\\Controllers;\n\nuse Illuminate\\Foundation\\Auth\\AuthenticatesUsers;\nuse Illuminate\\Http\\Request;\nuse Illuminate\\Support\\Facades\\Auth;\nuse App\\Http\\Controllers\\Controller;\n\nclass LoginController extends Controller\n{\n    /*\n    |--------------------------------------------------------------------------\n    | Login Controller\n    |--------------------------------------------------------------------------\n    |\n    | This controller handles authenticating users for the application and\n    | redirecting them to your home screen. The controller uses a trait\n    | to conveniently provide its functionality to your applications.\n    |\n    */\n\n    use AuthenticatesUsers;\n\n    /**\n     * Where to redirect users after login.\n     *\n     * @var string\n     */\n\n    protected $redirectTo = &#39;/home&#39;;\n    /**\n     * Create a new controller instance.\n     *\n     * @return void\n     */\n\n     const ALL_GUARD = [\n       &#39;admin&#39;, &#39;shop&#39;, &#39;employee&#39;, &#39;user&#39;\n     ];\n\n    public function guard()\n    {\n        return Auth::guard(&#39;admin&#39;);\n    }\n\n    function login(Request $request) \n    {\n      $dataLogin = $request-&gt;only([&#39;email&#39;, &#39;password&#39;]);\n      foreach (self::ALL_GUARD as $guard) {\n        if (Auth::guard($guard)-&gt;attempt($dataLogin)) {\n          return redirect(&#39;/&#39;.$guard.&#39;/home&#39;);\n        }\n      }\n      return redirect(&#39;/login&#39;);\n    }\n\n    public function showLoginForm()\n    {\n        return view(&#39;auth.login&#39;);\n    }\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<ul>\n<li>\n<p>T·∫°i ƒë√¢y ch√∫ng ta khi <code class=\"language-text\">use AuthenticatesUsers</code> ƒë√£ x·ª≠ l√Ω t∆∞∆°ng ƒë·ªëi cho vi·ªác login r·ªìi nh∆∞ng ƒë·ªÉ d·ªÖ h√¨nh dung m√¨nh c√≥ vi·∫øt l·∫°i 1 s·ªë function ƒë·ªÉ t·ª± x·ª≠ l√Ω logic login theo √Ω m√¨nh. V√≠ d·ª•:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token keyword\">function</span> <span class=\"token function\">login</span><span class=\"token punctuation\">(</span>Request <span class=\"token variable\">$request</span><span class=\"token punctuation\">)</span> \n<span class=\"token punctuation\">{</span>\n  <span class=\"token variable\">$dataLogin</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$request</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">only</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token single-quoted-string string\">'email'</span><span class=\"token punctuation\">,</span> <span class=\"token single-quoted-string string\">'password'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">foreach</span> <span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">ALL_GUARD</span> <span class=\"token keyword\">as</span> <span class=\"token variable\">$guard</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Auth<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token function\">guard</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$guard</span><span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token function\">attempt</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$dataLogin</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token function\">redirect</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'/'</span><span class=\"token punctuation\">.</span><span class=\"token variable\">$guard</span><span class=\"token punctuation\">.</span><span class=\"token single-quoted-string string\">'/home'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> <span class=\"token function\">redirect</span><span class=\"token punctuation\">(</span><span class=\"token single-quoted-string string\">'/login'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>ƒê∆°n gi·∫£n ch·ªâ l√† check t·ª´ng guard m·ªôt xem email, password t·∫°i guard n√†o x√°c th·ª±c th√†nh c√¥ng s·∫Ω kh·ªüi t·∫°o phi√™n ƒëƒÉng nh·∫≠p v√† ƒëi·ªÅu h∆∞·ªõng t·ªõi trang home. Tuy nhi√™n c√°ch x·ª≠ l√Ω n√†y kh√¥ng t·ªëi ∆∞u m√† ch·ªâ mang t√≠nh ng·∫Øn g·ªçn demo, c√≤n nhi·ªÅu v·∫•n ƒë·ªÅ. M√¨nh khuy·∫øn kh√≠ch c√°c b·∫°n n√™n t√°ch ri√™ng Controller x·ª≠ l√Ω cho t·ª´ng authenticate.</p>\n</li>\n</ul>\n<p><strong><em>2. Middleware</em></strong></p>\n<ul>\n<li>Ch√∫ng ta kh·ªüi t·∫°o middleware ƒë·ªÉ sau khi login s·∫Ω x√°c th·ª±c vi·ªác truy c·∫≠p t·ªõi m·ªói route c·ªßa ng∆∞·ªùi d√πng. V√≠ d·ª• Middleware cho Admin nh∆∞ sau:</li>\n<li>\n<p>Ch·∫°y c√¢u l·ªánh t·∫°o middleware:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">php artisan make:middleware AdminAuth</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n</li>\n<li>\n<p>T·∫°i middleware AdminAuth code nh∆∞ sau:</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-php line-numbers\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?</span>php</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n</li>\n</ul>\n<p>namespace App\\Http\\Middleware;</p>\n<p>use App\\Traits\\ResponseTrait;\nuse Closure;\nuse Illuminate\\Support\\Facades\\Auth;</p>\n<p>class AdminAuth\n{\nuse ResponseTrait;</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">const GUARD_ADMIN = &#39;admin&#39;;\n\n/**\n * Handle an incoming request.\n *\n * @param \\Illuminate\\Http\\Request $request\n * @param \\Closure $next\n * @return mixed\n */\npublic function handle($request, Closure $next)\n{\n    if (Auth::guard(self::GUARD_ADMIN)-&gt;check()) {\n        return $next($request);\n    }\n\n    return abort(401);\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>}</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">+ Khai b√°o middleware trong `app/Http/Middleware/Kernel.php` ƒë·ªÉ s·ª≠ d·ª•ng middleware. Khai b√°o th√™m `&#39;admin&#39; =&gt; \\App\\Http\\Middleware\\AdminAuth::class` v√†o $routeMiddleware nh∆∞ sau:\n```php\n  protected $routeMiddleware = [\n      ...\n      &#39;admin&#39; =&gt; \\App\\Http\\Middleware\\AdminAuth::class,\n      ...\n  ];</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2>IV. K·∫øt lu·∫≠n</h2>\n<ul>\n<li><strong>Multiple Authenticate</strong> r·∫•t ti·ªán l·ª£i v√† d·ªÖ s·ª≠ d·ª•ng, h∆°n n·ªØa n√≥ l√†m cho Framework Laravel tr·ªü n√™n ∆∞u vi·ªát h∆°n khi c√≥ th·ªÉ k·∫øt h·ª£p ƒë∆∞·ª£c v·ªõi nhi·ªÅu th∆∞ vi·ªán authenticate kh√°c ƒë·ªÉ x√¢y d·ª±ng h·ªá th·ªëng website ƒëa d·∫°ng h∆°n ho·∫∑c 1 service API tuy·ªát v·ªùi.</li>\n<li>Mong b√†i vi·∫øt n√†y s·∫Ω ph·∫ßn n√†o gi√∫p c√°c b·∫°n hi·ªÉu ƒë∆∞·ª£c c∆° b·∫£n v·ªÅ <strong>multiple authenticate Laravel</strong> gi√∫p c√°c b·∫°n c√≥ th·ªÉ ·ª©ng d·ª•ng ƒë∆∞·ª£c khi l√†m project v√† y√™u th√≠ch PHP &#x26; Laravel h∆°n ƒë·ªÉ c√≥ th·ªÉ t√¨m hi·ªÉu s√¢u v√† c√πng nhau chia s·∫ª c√°c ki·∫øn th·ª©c v·ªÅ lƒ©nh v·ª±c l·∫≠p tr√¨nh PHP &#x26; Laravel nh√©!</li>\n</ul>\n<h6><em><div style=\"text-align: right\"> - by Ngoc Quan </div></em></h6>","id":"1277686e-3992-5dfa-ae8e-2a1872a411af","frontmatter":{"title":"Authentication Laravel - Multiple Authenticate","date":"07-10-2020","tags":["php","laravel"]},"fields":{"slug":"/authentication-laravel-multiple-authentication/","readingTime":{"text":"8 min read"}}}},{"node":{"excerpt":"Khai th√°c - t·∫•n c√¥ng - ph√° ho·∫°i doanh nghi·ªáp t·ª´ nh·ªØng l·ªó h·ªïng b·∫£o m·∫≠t tr√™n website lu√¥n l√† v·∫•n ƒë·ªÅ ƒëau ƒë·∫ßu c·ªßa nh√† ph√°t tri·ªÉn. Vi·ªác ki·ªÉm tra v√† c·∫£nh b√°o trong qu√° tr√¨nh development l√† r·∫•t c·∫ßn thi·∫øt.‚Ä¶","snippet":"<div class=\"custom-block-body\"><p><strong>Khai th&#xE1;c - t&#x1EA5;n c&#xF4;ng - ph&#xE1; ho&#x1EA1;i</strong> doanh nghi&#x1EC7;p t&#x1EEB; nh&#x1EEF;ng l&#x1ED7; h&#x1ED5;ng b&#x1EA3;o m&#x1EAD;t tr&#xEA;n website lu&#xF4;n l&#xE0; v&#x1EA5;n &#x111;&#x1EC1; &#x111;au &#x111;&#x1EA7;u c&#x1EE7;a nh&#xE0; ph&#xE1;t tri&#x1EC3;n. Vi&#x1EC7;c ki&#x1EC3;m tra v&#xE0; c&#x1EA3;nh b&#xE1;o trong qu&#xE1; tr&#xEC;nh development l&#xE0; r&#x1EA5;t c&#x1EA7;n thi&#x1EBF;t.</p></div>","html":"<div class=\"custom-block snippet\"><div class=\"custom-block-body\"><p><strong>Khai th√°c - t·∫•n c√¥ng - ph√° ho·∫°i</strong> doanh nghi·ªáp t·ª´ nh·ªØng l·ªó h·ªïng b·∫£o m·∫≠t tr√™n website lu√¥n l√† v·∫•n ƒë·ªÅ ƒëau ƒë·∫ßu c·ªßa nh√† ph√°t tri·ªÉn. Vi·ªác ki·ªÉm tra v√† c·∫£nh b√°o trong qu√° tr√¨nh development l√† r·∫•t c·∫ßn thi·∫øt.</p></div></div>\n<h2>Gi·ªõi thi·ªáu chung</h2>\n<h3>1. Brakeman l√† g√¨?</h3>\n<p>   <img src=\"https://camo.githubusercontent.com/92cf013ec2d2c5538bd5d0ec8b1fd600d3614f2b/687474703a2f2f6272616b656d616e7363616e6e65722e6f72672f696d616765732f6c6f676f5f6d656469756d2e706e67\" alt=\"alt\"></p>\n<p>   Brakeman l√† <strong>Static Application Security Testing (SAST)</strong> c√¥ng c·ª• ki·ªÉm tra v√† c·∫£nh b√°o l·ªó h·ªïng b·∫£o m·∫≠t c√≥ th·ªÉ x·∫£y ra d·ª±a tr√™n source code tƒ©nh ƒë∆∞·ª£c vi·∫øt cho c√°c ·ª©ng d·ª•ng rake nh∆∞ Sinatra, Ruby on Rails,.. Ngo√†i c√°c l·ªó h·ªïng ph·ªï bi·∫øn v√† nguy hi·ªÉm nh∆∞ l√† <a href=\"https://guides.rubyonrails.org/security.html#sql-injection\">SQL Injection</a> v√† <a href=\"https://guides.rubyonrails.org/security.html#cross-site-request-forgery-csrf\">Cross Site Request Forgery</a> n√≥i chung th√¨ Brakeman c√≤n ƒë∆∞a ra c·∫£nh b√°o cho c√°c l·ªói b·∫£o m·∫≠t c·ªßa ·ª©ng d·ª•ng Rails n√≥i ri√™ng nh∆∞ l√† <a href=\"https://brakemanscanner.org/docs/warning_types/attribute_restriction/\">Attribute Restriction</a>, <a href=\"https://brakemanscanner.org/docs/warning_types/content_tag\">Cross Site Scripting (Content Tag)</a>, vv ...</p>\n<p>   M·∫∑c d√π trong <a href=\"https://guides.rubyonrails.org/security.html\">t√†i li·ªáu</a> c·ªßa Rails ƒë√£ ƒë·ªÅ c·∫≠p ƒë·∫øn v√† ƒë∆∞a ra c√°ch m√† Rails x·ª≠ l√Ω nh∆∞ng trong qu√° tr√¨nh ph√°t tri·ªÉn th·ª±c t·∫ø th√¨ vi·ªác thi·∫øu x√≥t l√† kh√¥ng th·ªÉ tr√°nh kh·ªèi. V√¨ v·∫≠y m·ªôt c√¥ng c·ª• c·∫£nh b√°o nh∆∞ Brakeman k·∫øt h·ª£p v·ªõi CI/CD l√† r·∫•t c·∫ßn thi·∫øt v√† vi·ªác review s·∫Ω tr·ªü n√™n ƒë∆°n gi·∫£n h∆°n.</p>\n<p>   Brakeman s·∫Ω cƒÉn c·ª© v√†o phi√™n b·∫£n Rails c·ªßa ·ª©ng d·ª•ng ƒë·ªÉ ƒë∆∞a ra c√°c c·∫£nh b√°o th√≠ch h·ª£p. H∆°n n·ªØa v√¨ ch·ªâ ƒë√°nh g√≠a tr√™n source code tƒ©nh m√† kh√¥ng c·∫ßn th·ª±c thi n√™n th·ªùi gian th·ª±c hi·ªán v√† ƒë∆∞a ra k·∫øt qu·∫£ ƒë√°nh gi√° c·ªßa brakeman r·∫•t nhanh.</p>\n<h3>2. SQL Injection</h3>\n<p>   Hacker khai th√°c l·ªói h·ªïng t·ª´ c√°c c√¢u l·ªánh SQL raw. </p>\n<p>   <img src=\"https://portswigger.net/web-security/images/sql-injection.svg\" alt=\"alt\"></p>\n<p>   C√πng l∆∞·ªõt qua m·ªôt trong nh·ªØng c√°ch t·∫•n c√¥ng b·∫±ng SQL Injection ƒë∆°n gi·∫£n nh·∫•t nh√©</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ruby line-numbers\"><code class=\"language-ruby\"><span class=\"token constant\">User</span><span class=\"token punctuation\">.</span>find_by<span class=\"token punctuation\">(</span><span class=\"token string\">\"login = '<span class=\"token interpolation\"><span class=\"token delimiter tag\">#{</span>params<span class=\"token punctuation\">[</span><span class=\"token symbol\">:name</span><span class=\"token punctuation\">]</span><span class=\"token delimiter tag\">}</span></span>' AND password = '<span class=\"token interpolation\"><span class=\"token delimiter tag\">#{</span>params<span class=\"token punctuation\">[</span><span class=\"token symbol\">:password</span><span class=\"token punctuation\">]</span><span class=\"token delimiter tag\">}</span></span>'\"</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>   Th√¨ hacker c√≥ th·ªÉ truy·ªÅn tham s·ªë l√† <code class=\"language-text\">params[:password]= &quot; &#39;&#39; OR &#39;2&#39;&gt;&#39;1 &quot;</code> ƒë·ªÉ v∆∞·ª£t qua b∆∞·ªõc ki·ªÉm tra m·∫≠t kh·∫©u ƒë·ªÉ ƒëƒÉng nh·∫≠p ƒë∆∞·ª£c v√†o h·ªá th·ªëng nh∆∞ b√™n d∆∞·ªõi.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-sql line-numbers\"><code class=\"language-sql\"><span class=\"token keyword\">SELECT</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> users <span class=\"token keyword\">WHERE</span> login <span class=\"token operator\">=</span> <span class=\"token string\">'tomoblo'</span> <span class=\"token operator\">AND</span> password <span class=\"token operator\">=</span> <span class=\"token string\">''</span> <span class=\"token operator\">OR</span> <span class=\"token string\">'2'</span><span class=\"token operator\">></span><span class=\"token string\">'1'</span> <span class=\"token keyword\">LIMIT</span> <span class=\"token number\">1</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>ƒê·ª©ng v·ªã tr√≠ Top 1 d·ª±a tr√™n ƒë√°nh gi√° <a href=\"https://www.owasp.org/index.php/Top_10_2010-A1\">Open Web Application Security Project (OWASP) 2010</a> nh∆∞ng hi·ªán t·∫°i SQL Injection v·∫´n l√† m·ªôt l·ªó h·ªïng b·∫£o m·∫≠t ph·ªï bi·∫øn m√† c√°c website l·ªõn nh·ªè r·∫•t d·ªÖ m·∫Øc ph·∫£i.</p>\n<h3>3. Cross-Site Request Forgery (CSRF)</h3>\n<p>   CSRF l√† k·ªπ thu·∫≠t ƒë√°nh l·ª´a ng∆∞·ªùi d√πng b·∫±ng c√°ch g·ª≠i script ƒë·∫øn ng∆∞·ªùi d√πng khi h·ªç v·∫´n ƒëang truy c·∫≠p trang b·∫±ng session ƒë√£ ƒëƒÉng nh·∫≠p c·ªßa m√¨nh</p>\n<p>   <img src=\"https://guides.rubyonrails.org/images/security/csrf.png\" alt=\"alt\"></p>\n<p>ƒê·ªÉ tƒÉng th√™m l·ªõp b·∫£o m·∫≠t Rails l√† ch√®n th√™m m·ªôt token ·∫©n v√†o d∆∞·ªõi form v√† so s√°nh v·ªõi bi·∫øn <em>csrf</em>token l∆∞u ·ªü session khi ng∆∞·ªùi d√πng g·ª≠i m·ªôt ph∆∞∆°ng th·ª©c POST ƒë·∫øn server.</p>\n<h2>√Åp d·ª•ng</h2>\n<p>Ch·ªâ c·∫ßn m·ªôt b∆∞·ªõc c√†i ƒë·∫∑t c√≥ th·ªÉ s·ª≠ d·ª•ng ngay brakeman</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\"># Gemfile\ngem &#39;brakeman&#39;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<h3>1. K·∫øt qu·∫£ ki·ªÉm tra ƒë√°nh gi√°</h3>\n<p>  Ch·∫°y l·ªánh <code class=\"language-text\">bundle exec brakeman</code> ·ªü d∆∞·ªõi CLI v√† c√πng xem k·∫øt qu·∫£</p>\n<p> <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b3c1611f414cb082f742a12c21bdd2a8/1be7e/brakeman.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.57142857142857%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAAA/ElEQVQoz5WS626DMAyFGYkT5wKBtmtXbZ20vv87ntkeTFXVie7HkQPYHz52unnaYd92IB/Qv5DJ9Son6uGcg/fuN26pGy8Z01fFeC4o+2TikRELIWYPT8/DDGiQOSM1RprYYhwYFH9g/+nOgO1SML1Lh8cCFljgiBACiPxToPucrp4yhlNBfc2oRzkfJGq3iSx5S/fQbjjLDD8qmsxQLbPY9TGY5cCi5EG8nBfpN333uEPpbBC7qSUpjpIc4NUykxWtxQZan5efPQS2z4LDdUR7ky0LPM/JFhO0UBJIF3Mrv2FZITrDJCCF2Uxl81muTRK7rNfnRmtnfy3lGyEXwXj4rzPJAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt\"\n        title=\"alt\"\n        src=\"/static/b3c1611f414cb082f742a12c21bdd2a8/8c557/brakeman.png\"\n        srcset=\"/static/b3c1611f414cb082f742a12c21bdd2a8/4edbd/brakeman.png 175w,\n/static/b3c1611f414cb082f742a12c21bdd2a8/13ae7/brakeman.png 350w,\n/static/b3c1611f414cb082f742a12c21bdd2a8/8c557/brakeman.png 700w,\n/static/b3c1611f414cb082f742a12c21bdd2a8/e996b/brakeman.png 1050w,\n/static/b3c1611f414cb082f742a12c21bdd2a8/1be7e/brakeman.png 1059w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Ch√∫ng ta c√≥ th·ªÉ th·∫•y brakeman tr·∫£ v·ªÅ th√¥ng b√°o r·∫•t r√µ r√†ng:</p>\n<ul>\n<li>C·∫£nh b√°o <a href=\"https://guides.rubyonrails.org/getting_started.html#basic-authentication\">Basic authentication</a>  c·ªßa Rails v√¨ trong source code m√¨nh ƒëang c·ªë t√¨nh g√°n c·ªë ƒë·ªãnh m·∫≠t kh·∫©u l√† <code class=\"language-text\">Testing</code>.</li>\n<li>Ph√°t hi·ªán m·ªôt l·ªói SQL injection c√≥ th·ªÉ b·ªã khai th√°c ·ªü m·ª©c ƒë·ªô High level</li>\n<li>Brakeman th√¥ng b√°o Rails c√≥ m·ªôt c·∫≠p nh·∫≠t m·ªõi ƒë·ªÉ x·ª≠ l√Ω l·ªói <a href=\"https://guides.rubyonrails.org/security.html#cross-site-request-forgery-csrf\">CSRT</a> t·ªët h∆°n</li>\n<li>C·∫£nh b√°o <a href=\"https://brakemanscanner.org/docs/warning_types/dynamic_render_paths/\">Dynamic Render Path</a> t·ª©c ƒë∆∞·ªùng d·∫´n n√†y ƒëang b·ªã ·∫£nh h∆∞·ªüng b·ªüi tham s·ªë tu·ª≥ √Ω t·ª´ ng∆∞·ªùi d√πng v√† trong tr∆∞·ªùng h·ª£p c·ª• th·ªÉ n√†y c√≥ th·ªÉ g√¢y h·∫°i ƒë·∫øn app</li>\n</ul>\n<h3>2. T√≠ch h·ª£p v·ªõi CI/CD</h3>\n<p>Brakeman cung c·∫•p c√°c <a href=\"https://brakemanscanner.org/docs/options/\">options</a> linh ho·∫°t tu·ª≥ v√†o m·ª©c ƒë·ªô d·ª± √°n. V√≠ d·ª• nh∆∞:</p>\n<ul>\n<li>--no-exit-on-warn : Ti·∫øp t·ª•c ti·∫øn tr√¨nh CI/CD khi g·∫∑p warnings</li>\n<li>--exit-on-error : D·ª´ng ti·∫øn tr√¨nh khi b·∫Øt g·∫∑p l·ªói.</li>\n<li>--except BasicAuth: B·ªè qua l·ªói <a href=\"https://guides.rubyonrails.org/getting_started.html#basic-authentication\">Basic authentication</a> v√† ti·∫øp t·ª•c ti·∫øn tr√¨nh</li>\n<li>vv, ...</li>\n</ul>\n<p>V√≠ d·ª• m√¨nh mu·ªën t·∫•t c·∫£ commit ph·∫£i fix h·∫øt t·∫•t c·∫£ c√°c warning ·ªü m·ª©c ƒë·ªô medium tr·ªü l√™n v√† b·ªè qua c·∫£nh b√°o Basic Auth c·ªßa Rails:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\"># cicleci/config.yml\n...\nsteps:\n  ...\n  - run:\n      name: Run brakeman\n      command: bundle exec brakeman --except BasicAuth --exit-on-warn -w2\n  ...</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2>T·ªïng k·∫øt</h2>\n<p>Linh ho·∫°t, ƒë∆°n gi·∫£n, nh·∫π nh√†ng t·∫°i sao ch√∫ng ta kh√¥ng √°p d·ª•ng brakeman v√†o d·ª± √°n c·ªßa m√¨nh. ƒê·ªÉ brakeman c√≥ th·ªÉ gi√∫p ta tr√°nh ƒë∆∞·ª£c nh·ªØng r·ªßi ro ti·ªÅm t√†ng m√† ch√∫ng ta c√≥ th·ªÉ x·ª≠ l√Ω ƒë∆∞·ª£c. Ch√∫ng ta h√£y c√πng c√¢n nh·∫Øc c√°i gi√° ph·∫£i tr·∫£ c·ªßa vi·ªác l·ªô th√¥ng tin kh√°ch h√†ng v√† trang website b·ªã ph√° ho·∫°i n·∫øu b·ªã Hacker ƒë·ªÉ m·∫Øt ƒë·∫øn.</p>\n<p>Hy v·ªçng qua b√†i vi·∫øt m·ªçi ng∆∞·ªùi s·∫Ω hi·ªÉu h∆°n t·∫ßm quan tr·ªçng cua vi·ªác ƒë√°nh gi√° ki·ªÉm tra b·∫£o m·∫≠t khi ph√°t tri·ªÉn d·ª± √°n c·ªßa m√¨nh. R·∫•t c√°m ∆°n m·ªçi ng∆∞·ªùi ƒë√£ xem b√†i vi·∫øt.</p>\n<p><strong>T√†i li·ªáu tham kh·∫£o:</strong></p>\n<p>Github: <a href=\"https://github.com/presidentbeef/brakeman\">https://github.com/presidentbeef/brakeman</a></p>\n<p>Document: <a href=\"https://brakemanscanner.org/docs\">https://brakemanscanner.org/docs</a></p>\n<div class=\"custom-block author\"><div class=\"custom-block-heading\">Huy Nguyen </div><div class=\"custom-block-body\"></div></div>","id":"607e5b5f-7437-57a4-852f-e87ad68ff311","frontmatter":{"title":"Protect Rails application with brakeman gem","date":"29-09-2020","tags":["rails"]},"fields":{"slug":"/brakeman/","readingTime":{"text":"5 min read"}}}},{"node":{"excerpt":"ES5 l√† g√¨ ? ES (ECMAScript) l√† m·ªôt ng√¥n ng·ªØ ƒë∆∞·ª£c chu·∫©n h√≥a b·ªüi t·ªï ch·ª©c ECMA v√† ƒë∆∞·ª£c gi√°m s√°t b·ªüi h·ªôi ƒë·ªìng TC39. V√† Javascript l√† c√†i ƒë·∫∑t c·ª• th·ªÉ c·ªßa chu·∫©n ECMAScript n√†y v√† tr·ªü th√†nh m·ªôt ng√¥n ng·ªØ th√¥ng‚Ä¶","snippet":"<html><head></head><body><p><strong>ES5 l&#xE0; g&#xEC; ?</strong></p> <p>ES (ECMAScript) l&#xE0; m&#x1ED9;t ng&#xF4;n ng&#x1EEF; &#x111;&#x1B0;&#x1EE3;c chu&#x1EA9;n h&#xF3;a b&#x1EDF;i t&#x1ED5; ch&#x1EE9;c ECMA v&#xE0; &#x111;&#x1B0;&#x1EE3;c gi&#xE1;m s&#xE1;t b&#x1EDF;i h&#x1ED9;i &#x111;&#x1ED3;ng TC39. V&#xE0; Javascript l&#xE0; c&#xE0;i &#x111;&#x1EB7;t c&#x1EE5; th&#x1EC3; c&#x1EE7;a chu&#x1EA9;n ECMAScript n&#xE0;y v&#xE0; tr&#x1EDF; th&#xE0;nh m&#x1ED9;t ng&#xF4;n ng&#x1EEF; th&#xF4;ng d&#x1EE5;ng trong l&#x1EAD;p tr&#xEC;nh web hi&#x1EC7;n nay.&#x2026;</p></body></html>","html":"<p><strong>ES5 l√† g√¨ ?</strong></p>\n<p>ES (ECMAScript) l√† m·ªôt ng√¥n ng·ªØ ƒë∆∞·ª£c chu·∫©n h√≥a b·ªüi t·ªï ch·ª©c ECMA v√† ƒë∆∞·ª£c gi√°m s√°t b·ªüi h·ªôi ƒë·ªìng TC39. V√† Javascript l√† c√†i ƒë·∫∑t c·ª• th·ªÉ c·ªßa chu·∫©n ECMAScript n√†y v√† tr·ªü th√†nh m·ªôt ng√¥n ng·ªØ th√¥ng d·ª•ng trong l·∫≠p tr√¨nh web hi·ªán nay. ES5 l√† phi√™n b·∫£n th·ª© nƒÉm c·ª≠a ECMAScript, n√≥ ƒë∆∞·ª£c gi·ªõi thi·ªáu v√†o nƒÉm 2009. N√≥ ƒë∆∞·ª£c ch√∫ng ta s·ª≠ d·ª•ng nhi·ªÅu nh·∫•t trong nhi·ªÅu nƒÉm ƒë·ªÉ l√†m chu·∫©n c√†i ƒë·∫∑t ra Javascript ƒë∆∞·ª£c h·ªó tr·ª£ h·∫ßu h·∫øt b·ªüi t·∫•t c·∫£ c√°c tr√¨nh duy·ªát hi·ªán t·∫°i. Trong b√†i vi·∫øt n√†y, ch√∫ng ta s·∫Ω ch·ªâ ƒë·ªÅ c·∫≠p ƒë·∫øn ES5 c√°c b·∫°n nh√©.</p>\n<p><strong>T·ªïng quan v·ªÅ object trong JS</strong></p>\n<p>Objects trong JS, c≈©ng t∆∞∆°ng t·ª± nh∆∞ nh·ªØng ng√¥n ng·ªØ kh√°c, tuy nhi√™n n√≥ ƒë∆∞·ª£c thi·∫øt k·∫ø tr√™n m√¥ h√¨nh ƒë·ªëi t∆∞·ª£ng ƒë∆°n gi·∫£n. M·ªôt object l√† m·ªôt t·∫≠p h·ª£p c√°c thu·ªôc t√≠nh (property), v√† m·ªôt thu·ªôc t√≠nh l√† s·ª± li√™n k·∫øt gi·ªØa m·ªôt c√°i t√™n v√† gi√° tr·ªã. Gi√° tr·ªã c·ªßa m·ªôt thu·ªôc t√≠nh c√≥ th·ªÉ l√† m·ªôt h√†m (method).</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> animal <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">'Cat'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">showName</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'This is '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Ch√∫ng ta c√πng ƒëi v√†o t√¨m hi·ªÉu nh·ªØng c√°ch khai b√°o object trong ES5 nh√©.</p>\n<br/>\n<p><strong>Nh·ªØng c√°ch khai b√°o object trong JS</strong></p>\n<p>Trong c√°c ng√¥n ng·ªØ kh√°c, ƒë·ªÉ khai b√°o object ch·ªâ c·∫ßn d√πng t·ª´ kho√° <code class=\"language-text\">new</code> + <code class=\"language-text\">class name</code>. Nh∆∞ng trong JS kh√¥ng c√≥ kh√°i ni·ªám class cho n√™n ch√∫ng ta th∆∞·ªùng kh·ªüi t·∫°o b·ªüi m·ªôt trong c√°c c√°ch sau:</p>\n<h3>C√°ch 1: Object literal</h3>\n<p>S·ª≠ d·ª•ng c·∫∑p d·∫•u ngo·∫∑c nh·ªçn <code class=\"language-text\">{}</code> v√† th√™m thu·ªôc t√≠nh v√†o b√™n trong n√≥ (Vi·∫øt ƒëo·∫°n n√†y xong l·∫°i nh·ªõ ƒë·∫øn <code class=\"language-text\">this</code> :)). M√¨nh s·∫Ω c√≥ 1 b√†i vi·∫øt v·ªÅ n√≥ sau)</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> animal <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">'Cat'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">showName</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'This is '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>animal<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span> <span class=\"token comment\">// Cat</span>\nanimal<span class=\"token punctuation\">.</span><span class=\"token function\">showName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// This is Cat</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3>C√°ch 2: Object constructor</h3>\n<p>S·ª≠ d·ª•ng t·ª´ kho√° <code class=\"language-text\">new Object()</code></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> animal <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Object</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nanimal<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'Cat'</span>\nanimal<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">showName</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'This is '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>animal<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span> <span class=\"token comment\">// Cat</span>\nanimal<span class=\"token punctuation\">.</span><span class=\"token function\">showName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// This is Cat</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3>C√°ch 3: Constructor function</h3>\n<p>Hay c√≤n g·ªçi l√† constructor pattern. Trong c√°ch n√†y, s·∫Ω d√πng m·ªôt function ƒë√≥ng vai tr√≤ l√† constructor ƒë·ªÉ kh·ªüi t·∫°o object. Nh√¨n chung bao g·ªìm 2 b∆∞·ªõc sau:</p>\n<ol>\n<li>ƒê·ªãnh nghƒ©a ki·ªÉu cho object b·∫±ng c√°ch khai b√°o m·ªôt constructor function. B·∫°n n√™n vi·∫øt hoa ch·ªØ c√°i ƒë·∫ßu ti√™n c·ªßa t√™n h√†m n√†y</li>\n<li>Kh·ªüi t·∫°o object v·ªõi t·ª´ kho√° <code class=\"language-text\">new</code></li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">Animal</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function-variable function\">showName</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'This is '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Kh·ªüi t·∫°o object</span>\n<span class=\"token keyword\">var</span> cat <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Animal</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Cat'</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>cat<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span> <span class=\"token comment\">// Cat</span>\ncat<span class=\"token punctuation\">.</span><span class=\"token function\">showName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// This is Cat</span>\n\n<span class=\"token keyword\">var</span> dog <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Animal</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Dog'</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>dog<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span> <span class=\"token comment\">// Dog</span>\ndog<span class=\"token punctuation\">.</span><span class=\"token function\">showName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// This is Dog</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Ngo√†i ra ta c≈©ng c√≥ th·ªÉ s·ª≠ d·ª•ng prototype ƒë·ªÉ khai b√°o:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">Animal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n<span class=\"token class-name\">Animal</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'Cat'</span>\n<span class=\"token class-name\">Animal</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">showName</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'This is '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> cat <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Animal</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>cat<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span> <span class=\"token comment\">// Cat</span>\ncat<span class=\"token punctuation\">.</span><span class=\"token function\">showName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// This is Cat</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3>C√°ch 4: Object.create method</h3>\n<p>Object c√≥ th·ªÉ ƒë∆∞·ª£c t·∫°o b·∫±ng ph∆∞∆°ng th·ª©c Object.create(). Ph∆∞∆°ng th·ª©c n√†y c√≥ th·ªÉ r·∫•t h·ªØu √≠ch, b·ªüi v√¨ n√≥ cho ph√©p b·∫°n ch·ªçn prototype cho object b·∫°n mu·ªën t·∫°o ra, m√† kh√¥ng c·∫ßn ph·∫£i ƒë·ªãnh nghƒ©a constructor function.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-js line-numbers\"><code class=\"language-js\"><span class=\"token keyword\">var</span> Animal <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  name<span class=\"token operator\">:</span> <span class=\"token string\">'Cat'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token function-variable function\">showName</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'This is '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">var</span> catA <span class=\"token operator\">=</span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span>Cat<span class=\"token punctuation\">)</span>\ncatA<span class=\"token punctuation\">.</span><span class=\"token function\">showName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// Cat</span>\ncatA<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'Dog'</span>\ncatA<span class=\"token punctuation\">.</span><span class=\"token function\">showName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// This is Cat</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br/>\n<p><strong>T·ªïng k·∫øt</strong></p>\n<p>T·ª´ th·ªùi ES5, ƒë·ªÉ khai b√°o m·ªôt object kh√° d√†i d√≤ng v√† r·∫Øc r·ªëi. K·ªÉ t·ª´ khi ES6 (m·ªôt b·∫£n n√¢ng c·∫•p l·ªõn cho JavaScript) ra ƒë·ªùi, cung c·∫•p cho ch√∫ng ta c√∫ ph√°p class / object m·ªôt c√°ch d·ªÖ d√†ng h∆°n ƒë·ªÉ l√†m vi·ªác v·ªõi c√°c ƒë·ªëi t∆∞·ª£ng, l√†m cho h∆∞·ªõng ƒë·ªëi t∆∞·ª£ng trong JS tr·ªü n√™n d·ªÖ d√†ng v√† t∆∞·ªùng minh h∆°n. Tuy nhi√™n, trong th·ª±c t·∫ø r·∫•t nhi·ªÅu d·ª± √°n ƒëang tri·ªÉn khai v·∫´n c√≤n s·ª≠ d·ª•ng ES5 cho n√™n vi·ªác bi·∫øt ƒë·∫øn nh·ªØng c√°ch khai b√°o object trong b√†i vi·∫øt n√£y v·∫´n c√≤n r·∫•t h·ªØu d·ª•ng ph·∫£i kh√¥ng c√°c b·∫°n.</p>\n<p>C·∫£m ∆°n c√°c b·∫°n ƒë√£ theo d√µi, h·∫πn g·∫∑p l·∫°i trong m·ªôt b√†i vi·∫øt kh√°c nh√©.</p>\n<p><strong>- From ƒêMH (Don't Make Haste) -</strong></p>","id":"f24473f7-b645-5fc1-9de1-2db66ee005be","frontmatter":{"title":"The ways to declare objects in ES5","date":"29-09-2020","tags":["javascript"]},"fields":{"slug":"/the-ways-to-declare-objects-in-ES5/","readingTime":{"text":"4 min read"}}}},{"node":{"excerpt":"L√†m th·∫ø n√†o ƒë·ªÉ ch√∫ng ta c√≥ th·ªÉ l·∫•y ƒë∆∞·ª£c m·ªôt User Access Token c·ªßa Facebook vƒ©nh vi·ªÖn kh√¥ng h·∫øt h·∫°n nh·∫±m s·ª≠ d·ª•ng v√†o nhi·ªÅu d·ª± √°n kh√°c nhau c·ªßa d·ª± √°n. M·ªùi c√°c b·∫°n c√πng theo d√µi b√†i vi·∫øt c·ªßa m√¨nh. :D‚Ä¶","snippet":"<div class=\"custom-block-body\"><p>L&#xE0;m th&#x1EBF; n&#xE0;o &#x111;&#x1EC3; ch&#xFA;ng ta c&#xF3; th&#x1EC3; l&#x1EA5;y &#x111;&#x1B0;&#x1EE3;c m&#x1ED9;t User Access Token c&#x1EE7;a Facebook v&#x129;nh vi&#x1EC5;n kh&#xF4;ng h&#x1EBF;t h&#x1EA1;n nh&#x1EB1;m s&#x1EED; d&#x1EE5;ng v&#xE0;o nhi&#x1EC1;u d&#x1EF1; &#xE1;n kh&#xE1;c nhau c&#x1EE7;a d&#x1EF1; &#xE1;n. M&#x1EDD;i c&#xE1;c b&#x1EA1;n c&#xF9;ng theo d&#xF5;i b&#xE0;i vi&#x1EBF;t c&#x1EE7;a m&#xEC;nh. :D</p></div>","html":"<div class=\"custom-block snippet\"><div class=\"custom-block-body\"><p>L√†m th·∫ø n√†o ƒë·ªÉ ch√∫ng ta c√≥ th·ªÉ l·∫•y ƒë∆∞·ª£c m·ªôt User Access Token c·ªßa Facebook vƒ©nh vi·ªÖn kh√¥ng h·∫øt h·∫°n nh·∫±m s·ª≠ d·ª•ng v√†o nhi·ªÅu d·ª± √°n kh√°c nhau c·ªßa d·ª± √°n. M·ªùi c√°c b·∫°n c√πng theo d√µi b√†i vi·∫øt c·ªßa m√¨nh. :D</p></div></div>\n<p><strong><em>Access Token l√† g√¨?</em></strong>\nAccess Token l√† m·ªôt chu·ªói k√≠ t·ª± ƒë·ªÉ x√°c ƒë·ªãnh m·ªôt User, App, ho·∫∑c Trang v√† ƒë∆∞·ª£c s·ª≠ d·ª•ng b·ªüi <strong>App</strong> ƒë·ªÉ g·ªçi API. Khi ai ƒë√≥\nk·∫øt n·ªëi v·ªõi ·ª©ng d·ª•ng b·∫±ng c√°ch <strong>ƒêƒÉng nh·∫≠p v·ªõi Facebook</strong> v√† ph√™ duy·ªát y√™u c·∫ßu c·∫•p quy·ªÅn, ·ª©ng d·ª•ng s·∫Ω nh·∫≠n ƒë∆∞·ª£c m√£ th√¥ng b√°o truy c·∫≠p t·∫°m th·ªùi, an to√†n ƒë·ªÉ truy c·∫≠p v√†o <strong>Facebook APIs</strong>.</p>\n<p>M·ªôt Access Token bao g·ªìm th√¥ng tin v·ªÅ th·ªùi ƒëi·ªÉm h·∫øt h·∫°n v√† ·ª©ng d·ª•ng n√†o ƒë√£ t·∫°o m√£ truy c·∫≠p. C√≥ nhi·ªÅu lo·∫°i Access Token kh√°c nhau ƒë·ªÉ h·ªó tr·ª£ trong c√°c tr∆∞·ªùng h·ª£p kh√°c nhau nh∆∞ <a href=\"https://developers.facebook.com/docs/facebook-login/access-tokens\">User Access Token, App Access Token, Page Access Token, Client Access Token</a>.</p>\n<p><strong><em>Token ng·∫Øn h·∫°n v√† Token d√†i h·∫°n</em></strong></p>\n<p>User Access Token Facebook th∆∞·ªùng c√≥ 2 d·∫°ng l√†: <strong>Short-Lived</strong> v√† <strong>Long-Lived</strong> tokens.</p>\n<ul>\n<li><strong>Short-Lived</strong> tokens th∆∞·ªùng t·ªìn t·∫°i trong kho·∫£ng th·ªùi gian ng·∫Øn kho·∫£ng 1-2 gi·ªù.</li>\n<li><strong>Long-Lived</strong> tokens th∆∞·ªùng t·ªìn t·∫°i trong th·ªùi gian d√†i kho·∫£ng 60 ng√†y.</li>\n</ul>\n<p>D√π l√† <strong>Short-Lived</strong> hay <strong>Long-Lived</strong> tokens th√¨ ƒë·ªÅu b·ªã h·∫øt h·∫°n trong kho·∫£ng th·ªùi gian n√†o ƒë√≥. Nh∆∞ng trong m·ªôt s·ªë d·ª± √°n c√≥ c√°c t√≠nh ch·∫•t kh√°c nhau m√† ch√∫ng ta c·∫ßn m·ªôt Access-Token <strong>kh√¥ng h·∫øt h·∫°n</strong> ƒë·ªÉ c√≥ th·ªÉ l·∫•y d·ªØ li·ªáu ng∆∞·ªùi d√πng m√† kh√¥ng c·∫ßn ph·∫£i Refresh-Token. N√™n h√¥m nay m√¨nh h∆∞·ªõng d·∫´n c√°c b·∫°n l·∫•y Access-Token Facebook kh√¥ng bao gi·ªù h·∫øt h·∫°n.</p>\n<p><strong><em>H∆∞·ªõng d·∫´n l·∫•y User Access-Token Facebook never Expired</em></strong></p>\n<ol>\n<li>ƒê·∫ßu ti√™n ch√∫ng ta truy c·∫≠p v√†o trang <a href=\"https://developers.facebook.com/tools/explorer\">https://developers.facebook.com/tools/explorer</a>. Sau ƒë√≥ l√†m theo c√°c b∆∞·ªõc trong ·∫£nh.</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ad1b966f82ad17f060aa9281ae3052bc/73a2e/images-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.285714285714285%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACAUlEQVQoz32Su24TQRSG950gJHYc0SdOaGnoKBENJULEUFDS8QIpkPIAqRClJaQoJBbCkh0HiMN6L97bXHZ39vZzZmxDsBArfTszZ/f8c84/Y+3tHWB3dx/d7gG6+w/Q2bmPVruD9vYONrfauHP3HjY2NrHV2kbL0DHrJ0+f4eWbt3j+4hCvD3t41evh8aOHsAaDAc4vLvB1OMR4PDKMRnoc/8VkcklMDHrtuS6SJEEQxohpnDoRjj5cwsKtJ1NAVQMNzcuyJCoTbyhQ06uuNbVZF6pAJRL6kNEfFKsrDJ0G1uKHxiTmRQUmM0QJg+MHsF0f7jzEPEoQc2m+MZEiZgJZKnDSt/HuY4z3nziO+hzHpxKWlmqUQs0SFFEI6VErQYDYthHe3MC5uoL3/Qfm11MTS2YzSCGh8hyn51P0z2wMhj4+DwOcffGWgmWBRnAUcQzh+2BhhNhxDAl5xSmm0XNGMUGeCS7gXv9EEbrkFQdkDIiIBKndZulhSe2LLAeXKfmplhRkxQJFcM+DTwcTfqPKHRc+HUqpvaX8ioQWgksP9UEIEpOEuA21uIITjKqTaYaArJmRBYo2Xj3/FFxHJ6+T6k5ImDFuboOmoHxrJfY/QV2RJmFiOV9Uqi3Ic4Wyqsx1qujOWTmdlg7qsjOay1S3KMzuf+BrLGI6t9DeKvWbX5kqI+BnlEKWAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"images-1.png\"\n        title=\"images-1.png\"\n        src=\"/static/ad1b966f82ad17f060aa9281ae3052bc/8c557/images-1.png\"\n        srcset=\"/static/ad1b966f82ad17f060aa9281ae3052bc/4edbd/images-1.png 175w,\n/static/ad1b966f82ad17f060aa9281ae3052bc/13ae7/images-1.png 350w,\n/static/ad1b966f82ad17f060aa9281ae3052bc/8c557/images-1.png 700w,\n/static/ad1b966f82ad17f060aa9281ae3052bc/e996b/images-1.png 1050w,\n/static/ad1b966f82ad17f060aa9281ae3052bc/2cefc/images-1.png 1400w,\n/static/ad1b966f82ad17f060aa9281ae3052bc/73a2e/images-1.png 1439w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><br></p>\n<ol start=\"2\">\n<li>Sau khi nh·∫•n <strong>Open In Access Token Tool</strong>, ch√∫ng ta s·∫Ω ƒë∆∞·ª£c di chuy·ªÉn ƒë·∫øn trang <strong><a href=\"https://developers.facebook.com/tools/debug/accesstoken?access-token=...\">https://developers.facebook.com/tools/debug/accesstoken?access-token=...</a>.</strong>. Sau ƒë√≥ ch√∫ng ta nh·∫•n v√†o <strong>Extend Access Token</strong> ·ªü d∆∞·ªõi.</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f0b07011e31e6c35da96113acf78e479/29114/images-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.28571428571429%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABWUlEQVQoz52SX0+DMBTF+f5fQ+M2mGG6xAc/gm8++WBiYswYMMqfDtrSshxvC93QvRhJfjncwj0cehvE8QOWqwhhdI+7xYp0jTCMsJoIw/VINOpyGWJB793cLhCtN9g8PSOOSYnt4xYB/nklTEPo6/UgSQ+Ys88KVFWNtu3A+RFtJ6BUj77voSbsvZQKac6w2//sD7JD6R54bF03oxErKzRkKpWCNgZam1EnirI+93h1hp40H3VM1qGuG6dzk15rZ2y1YBdDTzB3t5oXJToysb/UdhKdUA4he4chU2MGp39IyHCgr9acUwJDRmToTAYMw8jpdDrDyuY6oV3YW7JJkwxf7x8o0pwSVASnZMolFr/Ii8oN0XtYDeqGw8NpsjkZvr68IfncUd3i8vzoBjSv572eQElJx0JCCOEWBNXDQBtvNB2fyqF1T4PiYIzRkaE97VpXK2WTU/+Mbz0b7u4W0ngJAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"images-2.png\"\n        title=\"images-2.png\"\n        src=\"/static/f0b07011e31e6c35da96113acf78e479/8c557/images-2.png\"\n        srcset=\"/static/f0b07011e31e6c35da96113acf78e479/4edbd/images-2.png 175w,\n/static/f0b07011e31e6c35da96113acf78e479/13ae7/images-2.png 350w,\n/static/f0b07011e31e6c35da96113acf78e479/8c557/images-2.png 700w,\n/static/f0b07011e31e6c35da96113acf78e479/e996b/images-2.png 1050w,\n/static/f0b07011e31e6c35da96113acf78e479/2cefc/images-2.png 1400w,\n/static/f0b07011e31e6c35da96113acf78e479/29114/images-2.png 1920w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/816b0d02134c8a126c7eda2ad677a215/7ebf9/images-3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.28571428571429%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABsElEQVQoz4WR227TQBCG/cIgmtikrhQueAFU6ni9B5+2jt0EIaVF0HBRClwgJB6AS7iooFIlyC1C5GdmEleRqISlTzO7O/N7DsFoFGMYRgijEfb2hhgOQyLCYGvD8CGiaAP7g0EocffuP6CcGPuPHiOOD3CwH2M8HiNouw7TtsV02qIl29H5uGnQEGyrqkLJlKVQey9vT5IcrvDo2qnkMl13guAoSbFLQmhtYK2F98c4P19iuXyNi4s3uLx8i/lsjrqu6c1TnMVkom5zJ2mGIKGLHr5ga6yDdTmausLV1y/49fsP1us1+Pv86SPePZ/hw8szvH9xipaqfypiCqnSCFikJ9la6xwyrbFYLPDt+gbfb35itVrh6voHTs9eoXAGNQllmZYK+0L+FZxsrMtzFEWJqvaYzZ+hO5kJvunkrqKWGRZI/ieYqgzGaBIspFJuv9guhBfk/WZ+jMruENydYc/hUSrBisQVDT6nalmUq86FQuCf7+aJoDYWPYbIaMOHCYllvGknd/3bXf4tehMfcGtMTnPjRfD8qrKQFjWdjTHiW7JKKfEdj4LOfW5PRW9/AXxyNeT/7gUBAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"images-3.png\"\n        title=\"images-3.png\"\n        src=\"/static/816b0d02134c8a126c7eda2ad677a215/8c557/images-3.png\"\n        srcset=\"/static/816b0d02134c8a126c7eda2ad677a215/4edbd/images-3.png 175w,\n/static/816b0d02134c8a126c7eda2ad677a215/13ae7/images-3.png 350w,\n/static/816b0d02134c8a126c7eda2ad677a215/8c557/images-3.png 700w,\n/static/816b0d02134c8a126c7eda2ad677a215/e996b/images-3.png 1050w,\n/static/816b0d02134c8a126c7eda2ad677a215/2cefc/images-3.png 1400w,\n/static/816b0d02134c8a126c7eda2ad677a215/7ebf9/images-3.png 1919w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><br></p>\n<ol start=\"3\">\n<li>Sau khi ch√∫ng ta nh·∫•n <strong>Extend Access Token</strong>, giao di·ªán s·∫Ω hi·ªÉn th·ªã cho ch√∫ng ta m·ªôt d√£y <strong>Access-Token</strong> m·ªõi. Ch√∫ng ta nh·∫•n v√†o <strong>Debug</strong></li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1ae2955b0ef185086554e71a7a4528ba/5068c/images-4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.28571428571429%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABcklEQVQoz51R2W7CMBDM//9E+8ARWhGE1If+S2kLBEgc7Ni5L2C63lCUCrUPjTSa9a53Mrt25vMFpu4T3NkzxuMpMcXuDNMpgdi1Na73+cnExYjuPTyOKDeH9/IKz1tg4XlYLpdw8M9vL1tU7X3e2QcRDuGRsQ96NsYgL0qkacZc1w2aZoiWcyJSuPUHR44dcYwRUsEyg2JDQgUJSaWRUFzVNbquQztA150gY/Ozl+AMDz0Ui1hnWhtkWY62JZG2ZTQDSPWL4Hfym4uSxqSxirJBWTXE9S3uru5Opz8cDgUjYqM17agilwWLddR8Pp9xIpyvuFwuUFZQSJ4qvK7rbmRb2IUxlE55h1LnLFrWvUN2XPXnY5wglAZCahZjh9bVDZQI6MXWfkB/DiGlgI4lvbZBmmhGliYoaK9ZkiA6BBDrDUQguNdqOHYPDGU5QSwilLsVcn+FbPvGnPvvV6yo9onm4KPcfCD2t1DrNVQYca/V+AJa4utGSyeM6wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"images-4.png\"\n        title=\"images-4.png\"\n        src=\"/static/1ae2955b0ef185086554e71a7a4528ba/8c557/images-4.png\"\n        srcset=\"/static/1ae2955b0ef185086554e71a7a4528ba/4edbd/images-4.png 175w,\n/static/1ae2955b0ef185086554e71a7a4528ba/13ae7/images-4.png 350w,\n/static/1ae2955b0ef185086554e71a7a4528ba/8c557/images-4.png 700w,\n/static/1ae2955b0ef185086554e71a7a4528ba/e996b/images-4.png 1050w,\n/static/1ae2955b0ef185086554e71a7a4528ba/2cefc/images-4.png 1400w,\n/static/1ae2955b0ef185086554e71a7a4528ba/5068c/images-4.png 1917w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span><br></p>\n<p>V√† giao di·ªán s·∫Ω nh∆∞ h√¨nh b√™n d∆∞·ªõi.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0cd51be0acc55ce023d32d00fd607a70/8963a/images-5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50.28571428571429%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABTklEQVQoz52Ry07DMBBF/f8fAiRN0qCy4TvYsQCBgLwdO/EjjdNebIe2KaUbLB3d0dhzNTMmSZLiLlghCCPc3AYIrQbhCuEqQhQniOMYURRjFTlNfN6/D0LEyT2Sh0es0xTpeo3N5gEE/zz7K3kihIKQC4QE59zSgfEetBXouv4MKQWennNkJYfWGksPkpcNlhQVBbemejTolfZqdjtMjukE9nvUlCEr6rN64gxmZrMiK8E/PyCKDNXrC+j7G3RLMRqD7Th6Rq8GdcOOTRw4GR4usgJt9gVeFGB5DlGV0IxB6WFG/WDjqmmPhgclS3eXLOsW0j4ezASht5DDOGNjZTE2b6bJjj35kS86/GuHTUNtsfYfJG03zmTe3TTv0rKzuJGz4ryWlDXFTOvVjUFbZn+4Q0NtzHo/nh4ucR2W1anWKVFKYYl0yCXyOr9qHd9D3vAnzKKuMQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"images-5.png\"\n        title=\"images-5.png\"\n        src=\"/static/0cd51be0acc55ce023d32d00fd607a70/8c557/images-5.png\"\n        srcset=\"/static/0cd51be0acc55ce023d32d00fd607a70/4edbd/images-5.png 175w,\n/static/0cd51be0acc55ce023d32d00fd607a70/13ae7/images-5.png 350w,\n/static/0cd51be0acc55ce023d32d00fd607a70/8c557/images-5.png 700w,\n/static/0cd51be0acc55ce023d32d00fd607a70/e996b/images-5.png 1050w,\n/static/0cd51be0acc55ce023d32d00fd607a70/2cefc/images-5.png 1400w,\n/static/0cd51be0acc55ce023d32d00fd607a70/8963a/images-5.png 1918w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Nh∆∞ v·∫≠y l√† ch√∫ng ta ƒë√£ l·∫•y ƒë∆∞·ª£c User Access Token Facebook kh√¥ng h·∫øt h·∫°n. Ti·∫øn h√†nh Copy Access Token, sau ƒë√≥ tr·ªù l·∫°i trang <a href=\"https://developers.facebook.com/tools/explorer\">https://developers.facebook.com/tools/explorer</a> v√† d√°n v√†o √¥ ch·ª©a <strong>access-token</strong>. Ch√∫ng ta s·∫Ω th·∫•y ph·∫ßn <strong>Expired</strong> ƒë√£ kh√¥ng c√≤n hi·ªÉn th·ªã n·ªØa.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/dfa358ec09edb878f6932b6aaf1c6d39/bed7a/images-6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.285714285714285%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAB10lEQVQoz32Su24TQRSG952Ik9hxRJ84oaahooOGGiGSUFBS8QJRJMQbUKRFEaJJLISFLw0QrW873vtcdtY/Z84QJzKX1X57Rmd2/nObYH//EHt7B+h0DtE5eID27n00W220dnaxtd3CvY1NNBpb2G7uoMm0sdHYxJOnz/Dy9Rs8f3GEV0fHODk+weNHDxF0u11cXl3ha6+HwaDP9PvODjAk2A6HGI1GK5xvMhkjiWNEixhxnODnJMbZ+RAB7jzSALb2a1NZVMSS1kv61PWSsb+t27dG0oZ0f9Br0RsDQV3XdICPQSmDNMsRJynEYoFILGidICOfUhraGEZpilwbfOimeHsu8O4ixenHBO8/pQicmBcEZVShKCWLzuYC4+kcP65DhOMZJtMIc0ElMgkSCvr5m8DFIMOX6wqX3w2h/xTMixJZXiDPc6KAlMpnRRkqpVBywIwoKKCAkRmdtFSgYf4q6CilJLyAy9pZ5/PZR9SSGNNZhBnhel2ThqUBrAlaFnMCN8LrsDgFkpSxEAJhGEJrvRrsPzNcF1lxx+eGlaYZJ1JZy+eDG7H/CboyHUnqbUq9dX3W2veWS6bbwiXzddAeSU0vypIH4qLfkq3hfW5Ixl0lfavxC2KRJ2xx9ImlAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"images-6.png\"\n        title=\"images-6.png\"\n        src=\"/static/dfa358ec09edb878f6932b6aaf1c6d39/8c557/images-6.png\"\n        srcset=\"/static/dfa358ec09edb878f6932b6aaf1c6d39/4edbd/images-6.png 175w,\n/static/dfa358ec09edb878f6932b6aaf1c6d39/13ae7/images-6.png 350w,\n/static/dfa358ec09edb878f6932b6aaf1c6d39/8c557/images-6.png 700w,\n/static/dfa358ec09edb878f6932b6aaf1c6d39/e996b/images-6.png 1050w,\n/static/dfa358ec09edb878f6932b6aaf1c6d39/2cefc/images-6.png 1400w,\n/static/dfa358ec09edb878f6932b6aaf1c6d39/bed7a/images-6.png 1437w\"\n        sizes=\"(max-width: 700px) 100vw, 700px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><strong><em>T·ªïng k·∫øt</em></strong></p>\n<p>Nh∆∞ v·∫≠y l√† ch√∫ng ta ƒë√£ l·∫•y ƒë∆∞·ª£c User Access Token kh√¥ng h·∫øt h·∫°n. V·ªõi Page Access Token ch√∫ng ta c≈©ng s·∫Ω l·∫•y t∆∞∆°ng t·ª± nh∆∞ th·∫ø. C√°c b·∫°n c√≥ th·ªÉ th·ª≠ l·∫•y v√† tr·∫£i nghi·ªám. :D</p>\n<p>Hi v·ªçng b√†i vi·∫øt s·∫Ω b·ªï √≠ch ƒë·ªëi v·ªõi m·ªçi ng∆∞·ªùi. M·ªçi g√≥p √Ω v·ªÅ sai s√≥t ho·∫∑c th·∫£o lu·∫≠n m·ªùi m·ªçi ng∆∞·ªùi b√¨nh lu·∫≠n.</p>\n<p><strong>T√†i li·ªáu tham kh·∫£o:</strong></p>\n<ul>\n<li><a href=\"https://www.sociablekit.com/get-facebook-page-access-token-never-expire/\">https://www.sociablekit.com/get-facebook-page-access-token-never-expire/</a></li>\n<li>\n<p><a href=\"https://developers.facebook.com/docs/facebook-login/access-tokens/\">https://developers.facebook.com/docs/facebook-login/access-tokens/</a></p>\n<h6><em><div style=\"text-align: right\"> - by Thu·∫≠n Nguy·ªÖn </div></em></h6>\n</li>\n</ul>","id":"97a1418f-9b72-5519-a2c6-81c7b324ffc1","frontmatter":{"title":"[Facebook SDK] L·∫•y Access Token User vƒ©nh vi·ªÖn. ","date":"29-09-2020","tags":["facebook","instagram"]},"fields":{"slug":"/access-token-never-expire-facebook/","readingTime":{"text":"3 min read"}}}},{"node":{"excerpt":"1. PHP l√† g√¨ ? PHP vi·∫øt h·ªìi qui c·ªßa \"PHP: Hypertext Preprocessor\". PHP kh·ªüi ƒë·∫ßu nh∆∞ l√† m·ªôt d·ª± √°n m√£ ngu·ªìn m·ªü nh·ªè, nh∆∞ng theo ƒë√† ph√°t tri·ªÉn, ng√†y c√†ng nhi·ªÅu ng∆∞·ªùi th·∫•y r·∫±ng n√≥ c√†ng ng√†y c√†ng h·ªØu √≠ch‚Ä¶","snippet":"<html><head></head><body><h1>1. PHP l&#xE0; g&#xEC; ?</h1> <h4>PHP vi&#x1EBF;t h&#x1ED3;i qui c&#x1EE7;a &quot;PHP: Hypertext Preprocessor&quot;.</h4> <ul> <li>PHP kh&#x1EDF;i &#x111;&#x1EA7;u nh&#x1B0; l&#xE0; m&#x1ED9;t d&#x1EF1; &#xE1;n m&#xE3; ngu&#x1ED3;n m&#x1EDF; nh&#x1ECF;, nh&#x1B0;ng theo &#x111;&#xE0; ph&#xE1;t tri&#x1EC3;n, ng&#xE0;y c&#xE0;ng nhi&#x1EC1;u ng&#x1B0;&#x1EDD;i th&#x1EA5;y r&#x1EB1;ng n&#xF3; c&#xE0;ng ng&#xE0;y c&#xE0;ng h&#x1EEF;u &#xED;ch. PHP &#x111;&#x1B0;&#x1EE3;c ph&#xE1;t tri&#x1EC3;n t&#x1EEB; m&#x1ED9;t s&#x1EA3;n ph&#x1EA9;m&#x2026;</li></ul></body></html>","html":"<h1>1. PHP l√† g√¨ ?</h1>\n<h3>PHP vi·∫øt h·ªìi qui c·ªßa \"PHP: Hypertext Preprocessor\".</h3>\n<ul>\n<li>PHP kh·ªüi ƒë·∫ßu nh∆∞ l√† m·ªôt d·ª± √°n m√£ ngu·ªìn m·ªü nh·ªè, nh∆∞ng theo ƒë√† ph√°t tri·ªÉn, ng√†y c√†ng nhi·ªÅu ng∆∞·ªùi th·∫•y r·∫±ng n√≥ c√†ng ng√†y c√†ng h·ªØu √≠ch. PHP ƒë∆∞·ª£c ph√°t tri·ªÉn t·ª´ m·ªôt s·∫£n ph·∫©m c√≥ t√™n l√† PHP/FI. </li>\n<li>PHP/FI do Rasmus Lerdorf t·∫°o ra nƒÉm 1994, ban ƒë·∫ßu ƒë∆∞·ª£c xem nh∆∞ l√† m·ªôt t·∫≠p con ƒë∆°n gi·∫£n c·ªßa c√°c m√£ k·ªãch b·∫£n Perl ƒë·ªÉ theo d√µi t√¨nh h√¨nh truy c·∫≠p ƒë·∫øn b·∫£n s∆° y·∫øu l√Ω l·ªãch c·ªßa √¥ng tr√™n m·∫°ng. </li>\n<li>√îng ƒë√£ ƒë·∫∑t t√™n cho b·ªô m√£ k·ªãch b·∫£n n√†y l√† <i>\"Personal Home Page Tools\"</i>. Khi c·∫ßn ƒë·∫øn c√°c ch·ª©c nƒÉng r·ªông h∆°n, Rasmus ƒë√£ vi·∫øt ra m·ªôt b·ªô th·ª±c thi b·∫±ng C l·ªõn h∆°n ƒë·ªÉ c√≥ th·ªÉ truy v·∫•n t·ªõi Database v√† gi√∫p cho ng∆∞·ªùi s·ª≠ d·ª•ng ph√°t tri·ªÉn c√°c ·ª©ng d·ª•ng web ƒë∆°n gi·∫£n. </li>\n<li>Rasmus ƒë√£ quy·∫øt ƒë·ªãnh c√¥ng b·ªë m√£ ngu·ªìn c·ªßa PHP/FI cho m·ªçi ng∆∞·ªùi xem, s·ª≠ d·ª•ng c≈©ng nh∆∞ s·ª≠a c√°c l·ªói c√≥ trong n√≥, ƒë·ªìng th·ªùi c·∫£i ti·∫øn m√£ ngu·ªìn.</li>\n<li>PHP l√† ng√¥n ng·ªØ l·∫≠p tr√¨nh k·ªãch b·∫£n vi·∫øt cho m√°y ch·ªß m√† ƒë∆∞·ª£c nh√∫ng trong HTML. N√≥ ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ qu·∫£n l√Ω n·ªôi d·ª•ng ƒë·ªông, Database, Session tracking, ‚Ä¶</li>\n<li><i>N√≥ ƒë∆∞·ª£c t√≠ch h·ª£p v·ªõi m·ªôt s·ªë Database th√¥ng d·ª•ng nh∆∞ MySQL, PostgreSQL, Oracle, Sybase, Informix, v√† Microsoft SQL Server.</i></li>\n<li>PHP th·ª±c thi r·∫•t tuy·ªát v·ªùi, ƒë·∫∑c bi·ªát khi ƒë∆∞·ª£c bi√™n d·ªãch nh∆∞ l√† m·ªôt Apache Module tr√™n Unix side. MySQL Server, khi ƒë∆∞·ª£c kh·ªüi ƒë·ªông, th·ª±c thi c√°c truy v·∫•n ph·ª©c t·∫°p v·ªõi c√°c t·∫≠p h·ª£p k·∫øt qu·∫£ kh·ªïng l·ªì trong th·ªùi gian Record-setting.</li>\n<li>PHP h·ªó tr·ª£ m·ªôt s·ªë l∆∞·ª£ng r·ªông r√£i c√°c giao th·ª©c l·ªõn nh∆∞ POP3, IMAP, v√† LDAP. PHP4 b·ªï sung s·ª± h·ªó tr·ª£ cho Java v√† c√°c c·∫•u tr√∫c ƒë·ªëi t∆∞·ª£ng ph√¢n ph·ªëi (COM v√† CORBA).</li>\n<li><i>C√∫ ph√°p PHP l√† gi·ªëng C</i>.</li>\n</ul>\n<h1>2. PHP c√≥ th·ªÉ l√†m g√¨ ?</h1>\n<ul>\n<li>PHP th·ª±c hi·ªán c√°c h√†m h·ªá th·ªëng, v√≠ d·ª•: t·ª´ c√°c file tr√™n m·ªôt h·ªá th·ªëng, n√≥ c√≥ th·ªÉ t·∫°o, m·ªü, ƒë·ªçc, ghi v√† ƒë√≥ng ch√∫ng.</li>\n<li>PHP c√≥ th·ªÉ x·ª≠ l√Ω c√°c form, v√≠ d·ª•: thu th·∫≠p d·ªØ li·ªáu t·ª´ file, l∆∞u d·ªØ li·ªáu v√†o m·ªôt file, th√¥ng qua email b·∫°n c√≥ th·ªÉ g·ª≠i d·ªØ li·ªáu, tr·∫£ v·ªÅ d·ªØ li·ªáu t·ªõi ng∆∞·ªùi d√πng.</li>\n<li>B·∫°n c√≥ th·ªÉ th√™m, x√≥a, s·ª≠a ƒë·ªïi c√°c ph·∫ßn t·ª≠ b√™n trong Database c·ªßa b·∫°n th√¥ng qua PHP.</li>\n<li>Truy c·∫≠p c√°c bi·∫øn Cookie v√† thi·∫øt l·∫≠p Cookie.</li>\n<li>S·ª≠ d·ª•ng PHP, b·∫°n c√≥ th·ªÉ h·∫°n ch·∫ø ng∆∞·ªùi d√πng truy c·∫≠p v√†o m·ªôt s·ªë trang trong Website c·ªßa b·∫°n.</li>\n<li><i>N√≥ c√≥ th·ªÉ m·∫≠t m√£ h√≥a d·ªØ li·ªáu.</i></li>\n</ul>\n<h1>3. ƒê·∫∑c tr∆∞ng c·ªßa PHP l√† g√¨ ?</h1>\n<p>5 ƒë·∫∑c tr∆∞ng quan tr·ªçng l√†m PHP tr·ªü th√†nh ng√¥n ng·ªØ kh√° ti·ªán l·ª£i:</p>\n<ul>\n<li>ƒê∆°n gi·∫£n h√≥a</li>\n<li>Hi·ªáu qu·∫£</li>\n<li>B·∫£o m·∫≠t cao</li>\n<li>Linh ƒë·ªông</li>\n<li>Th√¢n thi·ªán</li>\n</ul>\n<h1>4. L√†m quen v·ªõi PHP</h1>\n<ul>\n<li>ƒê·ªÉ d·∫ßn l√†m quen v·ªõi PHP, ch√∫ng ta kh·ªüi ƒë·∫ßu v·ªõi PHP script ƒë∆°n gi·∫£n. Ch√∫ng ta s·∫Ω b·∫Øt ƒë·∫ßu v·ªõi v√≠ d·ª• ƒë·∫ßu ti√™n v·ªÅ PHP l√† \"Hello, World\" script.</li>\n<li>\n<p>Nh∆∞ ƒë√£ ƒë·ªÅ c·∫≠p tr∆∞·ªõc ƒë√≥, PHP ƒë∆∞·ª£c nh√∫ng trong HTML. Nghƒ©a l√†, b√™n trong HTML (ho·∫∑c XHTML) b·∫°n s·∫Ω c√≥ th·ªÉ c√≥ c√°c l·ªánh PHP nh∆∞ sau:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">&lt;html&gt;  \n&lt;head&gt;\n&lt;title&gt;Tomosia&lt;/title&gt; \n&lt;/head&gt; \n&lt;body&gt; \n&lt;?php echo &quot;Hello World!&quot;;?&gt; \n&lt;/body&gt; \n&lt;/html&gt;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n</li>\n</ul>\n<h1>5. C√†i ƒë·∫∑t web server</h1>\n<h3>·ªû ƒë√¢y m√¨nh s·∫Ω gi·ªõi thi·ªáu c√°c b·∫°n s·ª≠ d·ª•ng xampp</h3>\n<p><strong>B∆∞·ªõc 1:</strong> Download XAMPP t·∫°i <a href=\"https://www.apachefriends.org/download.html\">https://www.apachefriends.org/download.html</a> v√† ti·∫øn h√†nh c√†i ƒë·∫∑t nh∆∞ c√°c ch∆∞∆°ng tr√¨nh th√¥ng th∆∞·ªùng.</p>\n<p><strong>B∆∞·ªõc 2:</strong> Start Apache v√† MySQL trong XAMPP control panel</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/01b08472c0888f6687b0216fd610c61a/29d31/cai-dat-xampp.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 64%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAMF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAdcpZBQf/8QAGBAAAwEBAAAAAAAAAAAAAAAAAAESEBH/2gAIAQEAAQUClEnMobP/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAABBQAAAAAAAAAAAAAAAAAAASAxMpH/2gAIAQEABj8CKphDP//EABoQAAMBAAMAAAAAAAAAAAAAAAABETEhQZH/2gAIAQEAAT8hXYkSBrc+HDS0UKQuz//aAAwDAQACAAMAAAAQJ9//xAAWEQEBAQAAAAAAAAAAAAAAAAAAESH/2gAIAQMBAT8QxX//xAAWEQEBAQAAAAAAAAAAAAAAAAAAESH/2gAIAQIBAT8Q1H//xAAbEAEAAwEAAwAAAAAAAAAAAAABABEhMUFRYf/aAAgBAQABPxB4WwDpKV13qLl7cAcJg9+Sg0rzcUWkz3P/2Q==&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"cai dat xampp\" title=\"cai dat xampp\" src=\"/static/01b08472c0888f6687b0216fd610c61a/29d31/cai-dat-xampp.jpg\" srcset=\"/static/01b08472c0888f6687b0216fd610c61a/e52aa/cai-dat-xampp.jpg 175w,\n/static/01b08472c0888f6687b0216fd610c61a/70ebb/cai-dat-xampp.jpg 350w,\n/static/01b08472c0888f6687b0216fd610c61a/29d31/cai-dat-xampp.jpg 700w\" sizes=\"(max-width: 700px) 100vw, 700px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span></img></p>\n<p><strong>B∆∞·ªõc 3:</strong> G√µ v√†o tr√¨nh duy·ªát ƒë·ªãa ch·ªâ localhost. N·∫øu hi·ªán ra m√†n h√¨nh sau th√¨ vi·ªác c√†i ƒë·∫∑t ƒë√£ th√†nh c√¥ng.</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/3d8268c4994b19f4ab47e94dac69c24e/29d31/cai-dat-xampp-2.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 54.285714285714285%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgX/xAAXAQADAQAAAAAAAAAAAAAAAAAAAQME/9oADAMBAAIQAxAAAAHRcp2ekFgX/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAECEQMQMv/aAAgBAQABBQKLtFIx86//xAAXEQADAQAAAAAAAAAAAAAAAAABAhAh/9oACAEDAQE/AWGz/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAECAQE/ARbW/8QAGRAAAQUAAAAAAAAAAAAAAAAAAAEgMUGR/9oACAEBAAY/AiiExn//xAAbEAACAQUAAAAAAAAAAAAAAAABEAARITGx8f/aAAgBAQABPyGgk6luFDC//9oADAMBAAIAAwAAABDUD//EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAwEBPxABmWF//8QAGBEAAgMAAAAAAAAAAAAAAAAAAAERIWH/2gAIAQIBAT8QhKzY/8QAGhAAAgMBAQAAAAAAAAAAAAAAAAERQVGBkf/aAAgBAQABPxB0Tl4E8eItXgVSXLKEf//Z&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"cai dat xampp 2\" title=\"cai dat xampp 2\" src=\"/static/3d8268c4994b19f4ab47e94dac69c24e/29d31/cai-dat-xampp-2.jpg\" srcset=\"/static/3d8268c4994b19f4ab47e94dac69c24e/e52aa/cai-dat-xampp-2.jpg 175w,\n/static/3d8268c4994b19f4ab47e94dac69c24e/70ebb/cai-dat-xampp-2.jpg 350w,\n/static/3d8268c4994b19f4ab47e94dac69c24e/29d31/cai-dat-xampp-2.jpg 700w\" sizes=\"(max-width: 700px) 100vw, 700px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span></img></p>\n<p><strong>B∆∞·ªõc 4:</strong> V√†o th∆∞ m·ª•c c√†i ƒë·∫∑t XAMPP/htdocs v√† ti·∫øn h√†nh t·∫°o file <strong>test.php</strong> v·ªõi n·ªôi dung nh∆∞ m·ª•c 4</p>\n<p><span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 700px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/8bd1ddeb855524ce701d6a567ef11763/29d31/cai-dat-xampp-3.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 67.42857142857143%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAMF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAB3FBNQf/EABgQAAMBAQAAAAAAAAAAAAAAAAACEgEg/9oACAEBAAEFApwlSV4//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFhABAQEAAAAAAAAAAAAAAAAAADEg/9oACAEBAAY/AkTH/8QAGhAAAgIDAAAAAAAAAAAAAAAAABFhkSAhcf/aAAgBAQABPyHWk+kWiLWH/9oADAMBAAIAAwAAABDDD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABcQAQADAAAAAAAAAAAAAAAAAAEgMUH/2gAIAQEAAT8QConEspS//9k=&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"cai dat xampp 3\" title=\"cai dat xampp 3\" src=\"/static/8bd1ddeb855524ce701d6a567ef11763/29d31/cai-dat-xampp-3.jpg\" srcset=\"/static/8bd1ddeb855524ce701d6a567ef11763/e52aa/cai-dat-xampp-3.jpg 175w,\n/static/8bd1ddeb855524ce701d6a567ef11763/70ebb/cai-dat-xampp-3.jpg 350w,\n/static/8bd1ddeb855524ce701d6a567ef11763/29d31/cai-dat-xampp-3.jpg 700w\" sizes=\"(max-width: 700px) 100vw, 700px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span></img></p>\n<p><i>G√µ tr√™n tr√¨nh duy·ªát ƒë·ªãa ch·ªâ localhost/test.php. N·∫øu hi·ªán ra d√≤ng ch·ªØ Hello World nghƒ©a l√† ·ª©ng d·ª•ng PHP ƒë·∫ßu ti√™n ƒë√£ ch·∫°y th√†nh c√¥ng.</i></p>\n<h1>6. Nh∆∞ v·∫≠y</h1>\n<p>Ch√∫ng ta ƒë√£ c√≥ hi·ªÉu bi·∫øt c∆° b·∫£n v·ªÅ  ‚ÄúPHP‚Äù r·ªìi ƒë·∫•y.</p>\n<h4><i>H·∫πn g·∫∑p c√°c b·∫°n v√†o c√°c b√†i vi·∫øt s·∫Øp t·ªõi. See ya !!!</i></h4>","id":"944e9b8c-9952-5e07-bfbd-2bc69d8fd844","frontmatter":{"title":"PHP for beginner","date":"29-09-2020","tags":["html","php"]},"fields":{"slug":"/gioi-thieu-ngon-ngu-php/","readingTime":{"text":"4 min read"}}}},{"node":{"excerpt":"1.Gi·ªõi thi·ªáu Ch√†o c·∫£ nh√†, d·∫°o g·∫ßn ƒë√¢y m√¨nh c√≥ ƒë∆∞·ª£c join v√†o team backend c·ªßa c√¥ng ty, m√¨nh v√¥ t√¨nh t√¨m hi·ªÉu th√™m v·ªÅ auto deploy v√† check style code , conventions code gi√∫p m√¨nh check c√∫ ph√°p code theo‚Ä¶","snippet":"<html><head></head><body><h1>1.Gi&#x1EDB;i thi&#x1EC7;u</h1> <p>Ch&#xE0;o c&#x1EA3; nh&#xE0;, d&#x1EA1;o g&#x1EA7;n &#x111;&#xE2;y m&#xEC;nh c&#xF3; &#x111;&#x1B0;&#x1EE3;c join v&#xE0;o team backend c&#x1EE7;a c&#xF4;ng ty, m&#xEC;nh v&#xF4; t&#xEC;nh t&#xEC;m hi&#x1EC3;u th&#xEA;m v&#x1EC1; auto deploy v&#xE0; check style code , conventions code gi&#xFA;p m&#xEC;nh check c&#xFA; ph&#xE1;p code theo &#x111;&#xFA;ng chu&#x1EA9;n qu&#x1ED1;c t&#x1EBF; v&#xE0; t&#x1ED1;i &#x1B0;u hi&#x1EC7;u su&#x1EA5;t&#x2026;</p></body></html>","html":"<h1>1.Gi·ªõi thi·ªáu</h1>\n<p>Ch√†o c·∫£ nh√†, d·∫°o g·∫ßn ƒë√¢y m√¨nh c√≥ ƒë∆∞·ª£c join v√†o team backend c·ªßa c√¥ng ty, m√¨nh v√¥ t√¨nh t√¨m hi·ªÉu th√™m v·ªÅ auto deploy v√† check style code , conventions code gi√∫p m√¨nh check c√∫ ph√°p code theo ƒë√∫ng chu·∫©n qu·ªëc t·∫ø v√† t·ªëi ∆∞u hi·ªáu su·∫•t cho source code, tr·ª£ gi√∫p r·∫•t nhi·ªÅu ƒë·∫øn vi·ªác maintain, refactor hay th√™m feature. M√¨nh ch·ª£t nghƒ© backend c√≥ tools x·ªãn s√≤ nh∆∞ v·∫≠y, li·ªáu b√™n mobile c√≥ tools n√†o c√≥ kh·∫£ nƒÉng t∆∞∆°ng t·ª± kh√¥ng ???. </p>\n<p>C√¢u tr·∫£ l·ªùi l√† c√≥, sau m·ªôt h·ªìi t√¨m t√≤i th√¨ cu·ªëi c√πng m√¨nh c≈©ng t√¨m ƒë∆∞·ª£c c√¥ng c·ª• c√≥ th·ªÉ tr·ª£ gi√∫p ƒëi·ªÅu ƒë√≥. ƒê√≥ ch√≠nh l√† Android Lint. V√¨ ch∆∞a c√≥ d·ªãp ƒë·ªÉ t√¨m hi·ªÉu b√™n IOS n√™n ·ªü b√†i vi·∫øt n√†y m√¨nh s·∫Ω ch·ªâ n√≥i v·ªÅ c√¥ng c·ª• Android Lint c·ªßa Android.</p>\n<h1>1. Android Lint l√† g√¨?</h1>\n<p>Nh∆∞ m√¨nh ƒë√£ n√≥i ·ªü tr√™n, Lint l√† 1 c√¥ng c·ª• m√† google cung c·∫•p cho c√°c developers d√πng ƒë·ªÉ ph√¢n t√≠ch source code , b·∫Øt c√°c issue sai, kh√≥ b·∫£o tr√¨ , kh√¥ng t·ªëi ∆∞u , c√∫ ph√°p sai chu·∫©n g√¢y kh√≥ maintain. Lint gi√∫p ch√∫ng ta x√°c ƒë·ªãnh v√† kh·∫Øc ph·ª•c l·ªói sai ƒë√≥ ƒë·ªÉ tƒÉng ch·∫•t l∆∞·ª£ng code m√† kh√¥ng ph·∫£i build l·∫°i ·ª©ng d·ª•ng. </p>\n<p>Lint tools c√≥ th·ªÉ t√¨m ki·∫øm ƒë∆∞·ª£c nh·ªØng v·∫•n ƒë·ªÅ c√≥ th·ªÉ g√¢y ·∫£nh h∆∞·ªüng ƒë·∫øn c√∫ ph√°p , t·ªëi ∆∞u code, b·∫£o m·∫≠t cho code, tr·∫£i nghi·ªám c·ªßa ·ª©ng d·ª•ng. M·ªói issue ƒë∆∞·ª£c t√¨m th·∫•y s·∫Ω ƒë∆∞·ª£c th√¥ng b√°o b·∫±ng ghi ch√∫, c√¢u l·ªánh b·ªã l·ªói v√† m·ª©c ƒë·ªô nghi√™m tr·ªçng c·ªßa issue ƒë·ªÉ developers c√≥ th·ªÉ ∆∞u ti√™n kh·∫Øc ph·ª•c nh·ªØng issue quan tr·ªçng. Ngo√†i ra, m√¨nh c√≥ th·ªÉ tƒÉng ho·∫∑c gi·∫£m m·ª©c ƒë·ªô nghi√™m tr·ªçng c·ªßa issue, th√™m ho·∫∑c b·ªõt c√°c issue m√† tools ƒë∆∞a ra ƒë·ªÉ ph√π h·ª£p h∆°n v·ªõi d·ª± √°n m√¨nh ƒëang l√†m.</p>\n<h1>2. C√°ch ho·∫°t ƒë·ªông c·ªßa Lint Tools ?</h1>\n<p><img src=\"https://developer.android.com/studio/images/write/lint.png\" alt=\"Compare\"></p>\n<p>Nh√¨n v√†o h√¨nh ·∫£nh c√≥ th·ªÉ b·∫°n c≈©ng hi·ªÉu ƒë∆∞·ª£c ph·∫ßn n√†o c√°ch ho·∫°t ƒë·ªông c·ªßa Lint tools. Trong s∆° ƒë·ªì n√†y, ch√∫ng ta c√≥ 3 th√†nh ph·∫ßn ch√≠nh ƒë√≥ l√† AppSource Files, lint.xml v√† lint Tool.</p>\n<h3>2.1 AppSource Files</h3>\n<p>ƒê√¢y l√† ch√≠nh l√† source code c·ªßa ch√∫ng ta mu·ªën d√πng lint Tools ƒë·ªÉ ki·ªÉm tra, Lint tool c√≥ th·ªÉ ki·ªÉm tra to√†n b·ªô c√°c extensions file trong source m√† android studio t·∫°o ra  v√≠ d·ª• nh∆∞ file proguard, java, kotlin, icon, xml,......</p>\n<h3>2.2 lint.xml</h3>\n<p>ƒê√¢y l√† th√†nh ph·∫ßn quan tr·ªçng ƒë·ªÉ check c√°c issue trong source code. Trong file lint.xml , ch·ª©a t·∫•t t·∫ßn t·∫≠t c·∫•u h√¨nh c√°c issue c·ªßa lint tools. N√≥ ƒë∆∞·ª£c vi·∫øt d∆∞·ªõi d·∫°ng th·∫ª xml. v√† b·∫°n h√≤an to√†n c√≥ th·ªÉ ch·ªânh s·ª≠a file n√†y ƒë·ªÉ c·∫•u h√¨nh c√°c issue ph√π h·ª£p v·ªõi d·ª± √°n ƒëang l√†m. V√≠ d·ª•:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;lint&gt;\n    &lt;!-- Disable the given check in this project --&gt;\n    &lt;issue id=&quot;IconMissingDensityFolder&quot; severity=&quot;ignore&quot; /&gt;\n\n    &lt;!-- Ignore the ObsoleteLayoutParam issue in the specified files --&gt;\n    &lt;issue id=&quot;ObsoleteLayoutParam&quot;&gt;\n        &lt;ignore path=&quot;res/layout/activation.xml&quot; /&gt;\n        &lt;ignore path=&quot;res/layout-xlarge/activation.xml&quot; /&gt;\n    &lt;/issue&gt;\n\n    &lt;!-- Ignore the UselessLeaf issue in the specified file --&gt;\n    &lt;issue id=&quot;UselessLeaf&quot;&gt;\n        &lt;ignore path=&quot;res/layout/main.xml&quot; /&gt;\n    &lt;/issue&gt;\n\n    &lt;!-- Change the severity of hardcoded strings to &quot;error&quot; --&gt;\n    &lt;issue id=&quot;HardcodedText&quot; severity=&quot;error&quot; /&gt;\n&lt;/lint&gt;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3>2.3 Lint tool</h3>\n<p>ƒê√¢y l√† c√¥ng c·ª• ch√≠nh ƒë·ªÉ th·ª±c hi·ªán vi·ªác ki·ªÉm tra source code c·ªßa b·∫°n. Lint tools qu√©t t·∫•t c·∫£ source code c·ªßa b·∫°n. B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng lint tools b·∫±ng command line ho·∫∑c tool ƒë∆∞·ª£c t√≠ch h·ª£p s·∫µn l√™n Android Studio. N√≥ s·∫Ω check c·∫•u tr√∫c code ƒë·ªÉ ƒë∆∞a ra nh·ªØng g·ª£i √Ω c√∫ ph√°p c√≥ th·ªÉ l·ªói ƒë·ªÉ b·∫°n c√≥ th·ªÉ s·ª≠a n√≥ v√† t·ªëi ∆∞u ·ª©ng d·ª•ng c·ªßa b·∫°n. ƒê√¢y l√† m·ªôt c√¥ng c·ª• m·∫°nh m·∫Ω ƒë·ªÉ ki·ªÉm tra v√† nh·∫≠n bi·∫øt c√°c l·ªói sai tr∆∞·ªõc khi ƒë∆∞a ·ª©ng d·ª•ng c·ªßa b·∫°n ƒë·∫øn ng∆∞·ªùi d√πng cu·ªëi.</p>\n<h3>2.4 K·∫øt qu·∫£ c·ªßa lint checks</h3>\n<p>Lint Tools c√≥ th·ªÉ check source code v√† nh·∫≠n di·ªán ƒë∆∞·ª£c c√°c v·∫•n ƒë·ªÅ v·ªÅ convention, t√≠nh ƒë√∫ng ƒë·∫Øn c·ªßa c√∫ ph√°p, t√≠nh b·∫£o m·∫≠t, kh·∫£ nƒÉng t·ªëi ∆∞u, t√≠nh ƒëa ng√¥n ng·ªØ trong i18n, kh·∫£ nƒÉng truy c·∫≠p,...\nCh√∫ng ta c√≥ th·ªÉ xem k·∫øt qu·∫£ vi·ªác check tr√™n console hay c√≥ th·ªÉ l√† c·ª≠a s·ªï tr√™n c√¥ng c·ª• Android Studio.</p>\n<h3>2.5 C∆° ch·∫ø</h3>\n<p>khi ch√∫ng ta y√™u c·∫ßu check source code, th√¨ lint tool s·∫Ω so s√°nh c√°c c√∫ ph√°p trong source code c·ªßa ch√∫ng ta v·ªõi c√°c issue c√≥ trong file lint.xml, sau ƒë√≥ ƒë∆∞a ra k·∫øt qu·∫£ ki·ªÉm tra (lint output).</p>\n<h1>3. S·ª≠ d·ª•ng Lint tools nh∆∞ th·∫ø n√†o ?</h1>\n<h2>3.1 S·ª≠ d·ª•ng command line</h2>\n<p>N·∫øu b·∫°n s·ª≠ d·ª•ng Gradle hay IDE Android Studio b·∫°n ch·ªâ c·∫ßn ch·∫°y l·ªánh sau</p>\n<ul>\n<li>\n<p>Tr√™n h·ªá ƒëi·ªÅu h√†nh Windows:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">gradlew lint</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n</li>\n<li>\n<p>Tr√™n h·ªá ƒëi·ªÅu h√†nh Linux ho·∫∑c MacOS:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">./gradlew lint</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>ƒê√¢y s·∫Ω l√† output:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">&gt; Task :app:lint\nRan lint on variant release: 5 issues found\nRan lint on variant debug: 5 issues found\nWrote HTML report to file:&lt;path-to-project&gt;/app/build/reports/lint-results.html\nWrote XML report to file:&lt;path-to-project&gt;/app/build/reports/lint-results.xml</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Sau khi ch·∫°y l·ªánh lint tool s·∫Ω b√°o c√°o cho ch√∫ng ta s·ªë c√°c issue v√† ƒë∆∞·ªùng d·∫´n ƒë·∫øn file HTML v√† XML ch·ª©a n·ªôi dung k·∫øt qu·∫£ ki·ªÉm tra c·ªßa lint tool.\n<img src=\"https://developer.android.com/studio/images/write/html_lint_report.png\" alt=\"Compare\">\nCh√∫ √Ω r·∫±ng b·∫°n c·∫ßn c√†i bi·∫øn m√¥i tr∆∞·ªùng JAVA_HOME cho androidsdk.\nTr∆∞·ªùng h·ª£p source code c·ªßa b·∫°n c√≥ chia ra c√°c m√¥i tr∆∞·ªùng variant, b·∫°n c√≥ th·ªÉ ch·∫°y lint v·ªõi m√¥i tr∆∞·ªùng ƒë∆∞·ª£c ch·ªâ ƒë·ªãnh</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">gradlew lintDebug</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Ngo√†i ra, n·∫øu b·∫°n kh√¥ng d√πng Android studio hay Gradle th√¨ b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng lint tools ƒë·ªôc l·∫≠p, b·∫°n c√†i ƒë·∫∑t Android SDK Tools t·ª´ SDK Manager. Sau ƒë√≥ t√¨m lint tools trong th∆∞ m·ª•c android_sdk/tools/. r·ªìi ch·∫°y l·ªánh v·ªõi c√∫ ph√°p nh∆∞ sau:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">lint [flags] &lt;project directory&gt;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>ƒê·ªÉ c√≥ th·ªÉ th·∫•y c√°c flag v√† c√°c tham s·ªë c·ªßa l·ªánh b·∫°n ch·∫°y l·ªánh:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">lint --help</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h2>3.2 S·ª≠ d·ª•ng Android studio ƒë·ªÉ ch·∫°y lint tools</h2>\n<p>Android Studio ƒë√£ h·ªó tr·ª£ r·∫•t ƒë·∫ßy ƒë·ªß cho t√≠nh nƒÉng lint tools. ƒê·ªÉ ch·∫°y lint, b·∫°n m·ªü android studio v√† project b·∫°n c·∫ßn checks, Nh·∫•n v√†o Analyse -> Inspect Code, Android studio s·∫Ω hi·ªÉn th·ªã ra c·ª≠a s·ªï ƒë·ªÉ setting ph·∫°m vi check , cu·ªëi c√πng nh·∫•n Ok v√† ch·ªù Android Studio x·ª≠ l√Ω m·ªçi th·ª© cho ch√∫ng ta. Th·∫≠t ti·ªán l·ª£i ph·∫£i kh√¥ng n√†o!\n<img src=\"https://developer.android.com/studio/images/write/chooseinspectionscope_2x.png\" alt=\"Compare\">- Sau khi Android Studio ho√†n th√†nh vi·ªác checks, N√≥ s·∫Ω tr·∫£ k·∫øt qu·∫£ cho ch√∫ng ta ·ªü c·ª≠a s·ªï inspect Code, c·ª≠a s·ªï b√™n tr√°i s·∫Ω l√† t·∫•t c·∫£ issue m√† lint t√¨m ƒë∆∞·ª£c b√™n ph·∫£i l√† m√¥ t·∫£ , m·ª©c ƒë·ªô ∆∞u ti√™n v√† v·ªã tr√≠ c·ªßa ƒëo·∫°n code g·∫∑p v·∫•n ƒë·ªÅ.\n<img src=\"https://developer.android.com/studio/images/write/inspectandfix_2x.png\" alt=\"Compare\"></p>\n<h2>3.3 Ch·ªânh s·ª≠a issue c·ªßa lint tools theo project</h2>\n<p>Nh∆∞ m√¨nh ƒë√£ chia s·∫ª ·ªü tr√™n , ngo√†i nh·ªØng issue m·∫∑c ƒë·ªãnh c·ªßa lint tools, b·∫°n ho√†n to√†n c√≥ th·ªÉ ch·ªânh s·ª≠a c√°c issue, th√™m, b·ªõt ƒë·ªÉ ph√π h·ª£p v·ªõi d·ª± √°n hi·ªán t·∫°i. file lint.xml ƒë∆∞·ª£c l∆∞u v√†o trong  th∆∞ m·ª•c g·ªëc c·ªßa project.\nCh√∫ng ta c√≥ c√°c th·∫ª <code class=\"language-text\">&lt;lint&gt;</code> <code class=\"language-text\">&lt;issue&gt;</code> <code class=\"language-text\">&lt;ignore&gt;</code>\nƒê·ªÉ t·∫Øt checking b·ªüi lint tools cho m·ªôt methof trong kotlin , java ta dung annotations <code class=\"language-text\">@SuppressLint</code>. T·∫Øt ƒë·ªëi v·ªõi file xml <code class=\"language-text\">xmlns:tools=&quot;http://schemas.android.com/tools&quot;</code> v√† s·ª≠ d·ª•ng <code class=\"language-text\">tools:ignore</code>\nC·∫•u h√¨nh cho Gradle, ta d√πng <code class=\"language-text\">lintOptions {}</code></p>\n<h2>3.4 T·∫°o 1 warning baseline</h2>\n<p>B·∫°n c√≥ th·ªÉ t·∫°o 1 tr·∫°ng th√°i c·∫£nh b√°o cho project hi·ªán t·∫°i, v√† b·∫°n c√≥ th·ªÉ d√πng n√≥ trong c√°c l·∫ßn ti·∫øp theo. Nh·ªØng l·∫ßn ti·∫øp theo tools s·∫Ω ch·ªâ ch·∫°y nh·ªØng issue m·ªõi ƒë√£ ƒë∆∞·ª£c b√°o c√°o. N√≥ gi√∫p ch√∫ng ta gi·∫£i quy·∫øt c√°c v·∫•n ƒë·ªÅ trong t∆∞∆°ng lai m√† kh√¥ng ph·∫£i quay l·∫°i v·ªõi nh·ªØng v·∫•n ƒë·ªÅ ƒë√£ c√≥ t·ª´ tr∆∞·ªõc.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">android { \nlintOptions { baseline file(&quot;lint-baseline.xml&quot;)  }  \n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<h1>K·∫øt lu·∫≠n</h1>\n<p>C√≥ th·ªÉ th·∫•y, Lint tools l√† 1 c√¥ng c·ª• h·ªØu √≠ch gi√∫p ch√∫ng ta trong vi·ªác tƒÉng ch·∫•t l∆∞·ª£ng s·∫£n ph·∫©m , h·∫°n ch·∫ø t·ªëi ƒëa nh·ªØng v·∫•n ƒë·ªÅ x·∫£y ra kh√¥ng ƒë√°ng c√≥, tƒÉng kh·∫£ nƒÉng maintain cho source code. M·∫∑c d√π v·∫≠y, Lint tools v·∫´n c√≤n kh√° nhi·ªÅu android developers l√£ng qu√™n ƒëi t·∫ßm quan tr·ªçng c·ªßa n√≥, ƒëi·ªÉn h√¨nh l√† m√¨nh (Nh∆∞ng m√† b√¢y gi·ªù th√¨ bi·∫øt r·ªìi !). V·∫≠y m√¨nh hy v·ªçng qua b√†i chia s·∫ª n√†y c√≥ th·ªÉ gi√∫p b·∫°n hi·ªÉu th√™m ƒë∆∞·ª£c 1 tools m·ªõi v√† c√≥ th·ªÉ √°p d·ª•ng v√†o nh·ªØng d·ª± √°n m√¨nh ƒëang l√†m. Happy Coding!</p>\n</li>\n</ul>\n<p>by Ph·∫°m Thanh T√πng - Tomosia Vi·ªát Nam</p>","id":"f184c41a-46b5-5e0d-8a92-bb1226784e8b","frontmatter":{"title":"Optimize source code with Lint Check Tools in android","date":"27-09-2020","tags":["android"]},"fields":{"slug":"/toi-uu-code-voi-lint-checks/","readingTime":{"text":"8 min read"}}}},{"node":{"excerpt":"M·ªü b√†i(cho ƒë√∫ng format) Rails l√† 1 framework tuy·ªát v·ªùi do t√≠nh d·ªÖ ti·∫øp c·∫≠n c≈©ng nh∆∞ kh·∫£ nƒÉng ki·ªÉm so√°t logic t∆∞∆°ng ƒë·ªëi d·ªÖ d√†ng c·ªßa n√≥. Tuy nhi√™n, performance c·ªßa Rails l√† v·∫•n ƒë·ªÅ ƒë√£ ƒë∆∞·ª£c ƒë·∫∑t c√¢u h·ªèi t·ª´‚Ä¶","snippet":"<html><head></head><body><p><strong>M&#x1EDF; b&#xE0;i(cho &#x111;&#xFA;ng format)</strong></p> <p>Rails l&#xE0; 1 framework tuy&#x1EC7;t v&#x1EDD;i do t&#xED;nh d&#x1EC5; ti&#x1EBF;p c&#x1EAD;n c&#x169;ng nh&#x1B0; kh&#x1EA3; n&#x103;ng ki&#x1EC3;m so&#xE1;t logic t&#x1B0;&#x1A1;ng &#x111;&#x1ED1;i d&#x1EC5; d&#xE0;ng c&#x1EE7;a n&#xF3;. Tuy nhi&#xEA;n, performance c&#x1EE7;a Rails l&#xE0; v&#x1EA5;n &#x111;&#x1EC1; &#x111;&#xE3; &#x111;&#x1B0;&#x1EE3;c &#x111;&#x1EB7;t c&#xE2;u h&#x1ECF;i t&#x1EEB; nh&#x1EEF;ng ng&#xE0;y &#x111;&#x1EA7;u n&#xF3; xu&#x1EA5;t hi&#x1EC7;n, &#x111;&#x1EB7;c bi&#x1EC7;t&#x2026;</p></body></html>","html":"<p><strong>M·ªü b√†i(cho ƒë√∫ng format)</strong></p>\n<p>Rails l√† 1 framework tuy·ªát v·ªùi do t√≠nh d·ªÖ ti·∫øp c·∫≠n c≈©ng nh∆∞ kh·∫£ nƒÉng ki·ªÉm so√°t logic t∆∞∆°ng ƒë·ªëi d·ªÖ d√†ng c·ªßa n√≥. Tuy nhi√™n, performance c·ªßa Rails l√† v·∫•n ƒë·ªÅ ƒë√£ ƒë∆∞·ª£c ƒë·∫∑t c√¢u h·ªèi t·ª´ nh·ªØng ng√†y ƒë·∫ßu n√≥ xu·∫•t hi·ªán, ƒë·∫∑c bi·ªát l√† v·ªõi l∆∞·ª£ng d·ªØ li·ªáu l·ªõn. C√≥ th·ªÉ b·∫°n kh√¥ng xa l·∫° g√¨ v·ªõi c√¢u chuy·ªán d·ª± √°n ch·∫°y v·ªõi 40 server hay bottleneck khi b·∫°n c·ªë g·∫Øng x·ª≠ l√Ω v·ªõi d·ªØ li·ªáu h√†ng tri·ªáu ng∆∞·ªùi d√πng. Okay, c√≥ v√†i chuy·ªán ch√∫ng ta c√≥ th·ªÉ l√†m ƒë·ªÉ kh√¥ng tr·ªü th√†nh nh√¢n v·∫≠t trong nh·ªØng c√¢u chuy·ªán ƒë√≥.</p>\n<p><strong>How</strong></p>\n<ol>\n<li>B·ªè qua ActiveRecord n·∫øu c√≥ th·ªÉ</li>\n</ol>\n<p>ActiveRecord ƒë√£ l√†m m·ªçi th·ª© d·ªÖ d√†ng h∆°n r·∫•t nhi·ªÅu, nh∆∞ng n√≥ kh√¥ng ƒë∆∞·ª£c thi·∫øt k·∫ø cho raw data. Khi b·∫°n mu·ªën √°p d·ª•ng m·ªôt lo·∫°t c√°c thao t√°c ƒë∆°n gi·∫£n cho h√†ng tri·ªáu row, t·ªët h∆°n b·∫°n n√™n g·∫Øn b√≥ v·ªõi raw SQL statement. N·∫øu b·∫°n c·∫£m th·∫•y m√¨nh th·ª±c s·ª± c·∫ßn m·ªôt c√¥ng c·ª• ORM ƒë·ªÉ gi√∫p b·∫°n h√¨nh dung m·ªçi th·ª©, h√£y xem ph·∫ßn ti·∫øp theo.</p>\n<ol start=\"2\">\n<li>Update all records</li>\n</ol>\n<p>C√°ch n√¥ng d√¢n:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ruby line-numbers\"><code class=\"language-ruby\"><span class=\"token constant\">User</span><span class=\"token punctuation\">.</span>where<span class=\"token punctuation\">(</span>city<span class=\"token punctuation\">:</span> ‚Äú<span class=\"token constant\">Houston</span>‚Äù<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">each</span> <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>user<span class=\"token operator\">|</span>\n  user<span class=\"token punctuation\">.</span>note <span class=\"token operator\">=</span> ‚Äú<span class=\"token constant\">Houstonian</span>‚Äù\n  user<span class=\"token punctuation\">.</span>save\n<span class=\"token keyword\">end</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>D·ªÖ ƒë·ªçc, d·ªÖ hi·ªÉu nh∆∞ng d·ªÖ toang. N·∫øu c√≥ kho·∫£ng 100k ng∆∞·ªùi d√πng ·ªü Houstonian, c√≥ th·ªÉ ƒëo·∫°n code ƒë√≥ s·∫Ω ch·∫°y c·∫£ ng√†y lu√¥n. M·ªôt gi·∫£i ph√°p h·ª£p l√Ω h∆°n s·∫Ω l√†</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ruby line-numbers\"><code class=\"language-ruby\"><span class=\"token constant\">User</span><span class=\"token punctuation\">.</span>update_all<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>note<span class=\"token punctuation\">:</span> ‚Äú<span class=\"token constant\">Houstonian</span>‚Äù<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>city<span class=\"token punctuation\">:</span> ‚Äú<span class=\"token constant\">Houston</span>‚Äù<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>N√≥ c√≥ l·∫Ω s·∫Ω kh√¥ng t·ªën h∆°n 30s v·ªõi c√πng l∆∞·ª£ng d·ªØ li·ªáu</p>\n<ol start=\"3\">\n<li>Ch·ªâ load columns c·∫ßn thi·∫øt</li>\n</ol>\n<p>M√£ nh∆∞ <code class=\"language-text\">User.where(city: ‚ÄúHouston‚Äù)</code> s·∫Ω l·∫•y t·∫•t c·∫£ th√¥ng tin c·ªßa user t·ª´ database. N·∫øu b·∫°n ch·ªâ ƒë∆°n gi·∫£n l√† kh√¥ng quan t√¢m ƒë·∫øn c√°c th√¥ng tin kh√°c nh∆∞ tu·ªïi, gi·ªõi t√≠nh ho·∫∑c ngh·ªÅ nghi·ªáp, b·∫°n kh√¥ng n√™n l·∫•y ch√∫ng ngay t·ª´ ƒë·∫ßu. C·ªë g·∫Øng s·ª≠ d·ª•ng select_column khi b·∫°n c√≥ nhi·ªÅu record.</p>\n<ol start=\"4\">\n<li>S·ª≠ d·ª•ng find<em>in</em>batches</li>\n</ol>\n<p>V·ªõi c√°c ·ª©ng d·ª•ng nh·ªè, ƒëi·ªÅu n√†y th·∫≠m ch√≠ s·∫Ω kh√¥ng ƒë∆∞·ª£c ch√∫ √Ω, nh∆∞ng n√≥ th·ª±c s·ª± quan tr·ªçng. 100 ngh√¨n record user c√≥ th·ªÉ d·ªÖ d√†ng chi·∫øm h∆°n 5 GB memory. Server c·ªßa b·∫°n c√≥ th·ªÉ s·∫Ω crash. Do ƒë√≥, b·∫°n n√™n s·ª≠ d·ª•ng find<em>in</em>batches</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ruby line-numbers\"><code class=\"language-ruby\"><span class=\"token constant\">User</span><span class=\"token punctuation\">.</span>find_in_batches<span class=\"token punctuation\">(</span>conditions<span class=\"token punctuation\">:</span> <span class=\"token string\">'grade = 2'</span><span class=\"token punctuation\">,</span> batch_size<span class=\"token punctuation\">:</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>students<span class=\"token operator\">|</span>\n  students<span class=\"token punctuation\">.</span><span class=\"token keyword\">each</span> <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>student<span class=\"token operator\">|</span>\n    student<span class=\"token punctuation\">.</span>find_or_create_by_class_name<span class=\"token punctuation\">(</span>‚Äò<span class=\"token constant\">PE</span>‚Äô<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<ol start=\"5\">\n<li>Reduce transactions</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ruby line-numbers\"><code class=\"language-ruby\">  <span class=\"token punctuation\">(</span><span class=\"token number\">0.2</span>ms<span class=\"token punctuation\">)</span> <span class=\"token keyword\">BEGIN</span>\n  <span class=\"token punctuation\">(</span><span class=\"token number\">0.4</span>ms<span class=\"token punctuation\">)</span> <span class=\"token constant\">COMMIT</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>Transactions x·∫£y ra m·ªói khi ch√∫ng ta l∆∞u ƒë·ªëi t∆∞·ª£ng. N√≥ v·∫´n s·∫Ω x·∫£y ra h√†ng tri·ªáu l·∫ßn ngay c·∫£ khi ch√∫ng ta s·ª≠ d·ª•ng find<em>in</em>batches, c√°ch duy nh·∫•t ƒë·ªÉ gi·∫£m transactions hi·ªáu qu·∫£ l√† nh√≥m c√°c ho·∫°t ƒë·ªông c·ªßa ch√∫ng ta. V√≠ d·ª• tr∆∞·ªõc v·∫´n c√≥ th·ªÉ ƒë∆∞·ª£c optimized h∆°n n·ªØa:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ruby line-numbers\"><code class=\"language-ruby\"><span class=\"token constant\">User</span><span class=\"token punctuation\">.</span>find_in_batches<span class=\"token punctuation\">(</span>conditions<span class=\"token punctuation\">:</span> <span class=\"token string\">'grade = 2'</span><span class=\"token punctuation\">,</span> batch_size<span class=\"token punctuation\">:</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>students<span class=\"token operator\">|</span>\n  <span class=\"token constant\">User</span><span class=\"token punctuation\">.</span>transaction <span class=\"token keyword\">do</span>\n    students<span class=\"token punctuation\">.</span><span class=\"token keyword\">each</span> <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>student<span class=\"token operator\">|</span>\n      student<span class=\"token punctuation\">.</span>find_or_create_by_class_name<span class=\"token punctuation\">(</span>‚Äò<span class=\"token constant\">PE</span>‚Äô<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">end</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>B·∫±ng c√°ch n√†y, thay v√¨ commits sau m·ªói record, b√¢y gi·ªù n√≥ commits m·ªói 500 record, ƒëi·ªÅu n√†y hi·ªáu qu·∫£ h∆°n nhi·ªÅu</p>\n<ol start=\"6\">\n<li>ƒê·ª´ng qu√™n ƒë√°nh index</li>\n</ol>\n<p>Bi·∫øt r·ªìi kh·ªï l·∫Øm n√≥i m√£i, nh∆∞ng v·∫´n c·ª© n√≥i cho ch·∫Øc =)) C·∫ßn ƒë√°nh index, nh∆∞ng ƒë√°nh th·∫ø n√†o th√¨ ch·∫Øc c·∫ßn 1 b√†i vi·∫øt ƒë·ªÉ n√≥i r√µ r√†ng h∆°n, c√°c b·∫°n t·ª± t√¨m hi·ªÉu th√™m nh√©</p>\n<ol start=\"7\">\n<li>Destroy is expensive</li>\n</ol>\n<p>M·∫∑c d√π <code class=\"language-text\">destroy</code> v√† <code class=\"language-text\">delete</code> ƒë·ªÅu x√≥a c√°c record, nh∆∞ng <code class=\"language-text\">destroy</code> c≈©ng s·∫Ω th·ª±c hi·ªán t·∫•t c·∫£ c√°c <code class=\"language-text\">callback</code>, ƒëi·ªÅu n√†y c√≥ th·ªÉ th·ª±c s·ª± t·ªën th·ªùi gian. T∆∞∆°ng t·ª± ƒë·ªëi v·ªõi <code class=\"language-text\">‚Äúdestroy_all‚Äù</code> v√† <code class=\"language-text\">delete_all</code>. V√¨ v·∫≠y, n·∫øu b·∫°n ch·∫Øc ch·∫Øn r·∫±ng b·∫°n ch·ªâ mu·ªën x√≥a c√°c b·∫£n ghi m√† kh√¥ng c·∫ßn ch·∫°m v√†o b·∫•t k·ª≥ th·ª© g√¨ kh√°c, b·∫°n c√≥ th·ªÉ ch·ªâ c·∫ßn s·ª≠ d·ª•ng <code class=\"language-text\">delete_all</code>.</p>\n<p>M·ªôt tr∆∞·ªùng h·ª£p kh√°c l√† n·∫øu b·∫°n mu·ªën d·ªçn d·∫πp to√†n model table. Gi·∫£ s·ª≠ b·∫°n mu·ªën x√≥a t·∫•t c·∫£ users, b·∫°n th·ª±c s·ª± c√≥ th·ªÉ s·ª≠ d·ª•ng ‚ÄúTRUNCATE‚Äù:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ruby line-numbers\"><code class=\"language-ruby\"><span class=\"token constant\">ActiveRecord</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">Base</span><span class=\"token punctuation\">.</span>connection<span class=\"token punctuation\">.</span>execute<span class=\"token punctuation\">(</span>‚Äú<span class=\"token constant\">TRUNCATE</span> <span class=\"token constant\">TABLE</span> users‚Äù<span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Nh∆∞ng d√π sao, x√≥a trong database v·∫´n th·ª±c s·ª± t·ªën th·ªùi gian. ƒê√¢y l√† l√Ω do t·∫°i sao ƒë√¥i khi ch√∫ng ta s·ª≠ d·ª•ng ph∆∞∆°ng ph√°p <code class=\"language-text\">soft delete</code>, kh√¥ng ch·ªâ ƒë·ªÉ c√≥ th·ªÉ s·ª≠ d·ª•ng d·ªØ li·ªáu ƒë√£ ƒë∆∞·ª£c ƒë√°nh d·∫•u xo√°.</p>\n<ol start=\"8\">\n<li>Kh√¥ng c·∫ßn ch·∫°y m·ªçi th·ª© ngay l·∫≠p t·ª©c</li>\n</ol>\n<p>Background job is your friend. S·ª≠ d·ª•ng c√°c c√¥ng c·ª• nh∆∞ Resque v√† Sidekiq s·∫Ω gi√∫p h·ªá th·ªëng c·ªßa b·∫°n d·ªÖ <code class=\"language-text\">th·ªü</code> h∆°n nhi·ªÅu</p>\n<p>N√≥i m·ªôt c√°ch d·ªÖ hi·ªÉu, n·∫øu data c·ªßa b·∫°n l·ªõn, h√£y c·ªë g·∫Øng h·∫øt s·ª©c c√≥ th·ªÉ ƒë·ªÉ ch·∫°y ch√∫ng ·ªü background. M·∫∑c d√π cung c·∫•p s·ª± ti·ªán l·ª£i, ActiveRecord l√†m ch·∫≠m h·ªá th·ªëng c·ªßa b·∫°n m·ªôt ch√∫t. Tuy nhi√™n, th√¥ng qua nh·ªØng m·∫πo th·ª±c t·∫ø n√†y, b·∫°n v·∫´n c√≥ th·ªÉ gi·ªØ cho c√°c ·ª©ng d·ª•ng Rails tr·ªü n√™n tuy·ªát v·ªùi trong khi kh√¥ng b·ªã m·∫•t qu√° nhi·ªÅu performance.</p>\n<ol start=\"9\">\n<li>Ch·∫•p nh·∫≠n hy sinh th·ª© k√©m quan tr·ªçng h∆°n</li>\n</ol>\n<p>C√°i n√†y thu·ªôc v·ªÅ l·ª±a ch·ªçn, tu·ª≥ theo business logic m√† b·∫°n g·∫∑p trong d·ª± √°n n·ªØa. M√¨nh l·∫•y v√≠ d·ª• b√†i to√°n ƒë·∫øm view trang web / s·∫£n ph·∫©m. C√°ch ƒë∆°n gi·∫£n nh·∫•t l√† m·ªói khi c√≥ request th√¨ b·∫°n +1 v√†o bi·∫øn ƒë·∫øm trong database. Tuy nhi√™n, c√°ch n√†y s·∫Ω g·∫∑p v·∫•n ƒë·ªÅ l√† +1 view v√†o database s·∫Ω l√†m ch·∫≠m response c·ªßa ng∆∞·ªùi d√πng, th√™m n·ªØa l√† v√≠ d·ª• c√≥ 1000 ng∆∞·ªùi requ√©t c√πng l√∫c, s·∫Ω l√† 1000 c√¢u query update ... Nghƒ© th√¥i c≈©ng m·ªát r·ªìi ...\nƒê·ªÉ gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ n√†y th√¨ ta n√™n s·ª≠ d·ª•ng 1 t·∫ßng cache, r·ªìi t·∫°o ra 1 scheduled job l·∫∑p ƒëi l·∫∑p l·∫°i ƒë·ªÉ ghi data t·ª´ cache xu·ªëng DB. Vi·ªác ph√°t sinh query update v√†o DB ch·ªâ x·∫£y ra tr√™n c√°c scheduled job, do v·∫≠y ta ƒë√£ gi·∫£m thi·ªÉu s·ªë l·∫ßn update DB th√†nh 1 con s·ªë c·ªë ƒë·ªãnh v√† c√≥ th·ªÉ c√¢n ƒë·ªëi ƒë∆∞·ª£c, ch∆∞a k·ªÉ tr√°nh d·ªìn queue n·∫øu d√πng worker ƒë·ªÉ update bi·∫øn ƒë·∫øm. V√≠ d·ª• n·∫øu scheduled job ch·∫°y 10s 1 l·∫ßn th√¨ trong 1 ph√∫t s·∫Ω ch·ªâ c√≥ t·ªëi ƒëa 6 query update DB ƒë∆∞·ª£c t·∫°o ra (thay v√¨ c·∫£ 1000 query update nh∆∞ tr∆∞·ªõc). D·ªØ li·ªáu view c·ªßa s·∫£n ph·∫©m s·∫Ω kh√¥ng ƒë∆∞·ª£c update realtime m√† s·∫Ω c√≥ ƒë·ªô tr·ªÖ t√πy theo t·∫ßn su·∫•t scheduled job. Tuy nhi√™n ƒë·ªô tr·ªÖ n√†y th∆∞·ªùng l√† ch·∫•p nh·∫≠n ƒë∆∞·ª£c khi so s√°nh v·ªõi nh·ªØng l·ª£i √≠ch n√≥ mang l·∫°i.</p>\n<p><strong>T·ªïng k·∫øt</strong></p>\n<p>Done, qua b√†i vi·∫øt tr√™n m√¨nh mu·ªën t·ªïng h·ª£p l·∫°i c√°c kƒ© thu·∫≠t c∆° b·∫£n m√† ai c≈©ng c√≥ th·ªÉ s·ª≠ d·ª•ng ƒë·ªÉ tr√°nh nh·ªØng m·ªát m·ªèi kh√¥ng ƒë√°ng c√≥ khi tri·ªÉn khai 1 project Rails. Hy v·ªçng b√†i vi·∫øt s·∫Ω c√≥ √≠ch v·ªõi m·ªçi ng∆∞·ªùi.</p>","id":"4bc08f29-0971-560e-952e-5bd372fb720f","frontmatter":{"title":"Handle Massive Data in Rails","date":"11-09-2020","tags":["rails"]},"fields":{"slug":"/handle-massive-data-in-rails/","readingTime":{"text":"6 min read"}}}},{"node":{"excerpt":"I.Gi·ªõi thi·ªáu v·ªÅ GraphQL API 1. GraphQL l√† g√¨? GraphQL l√† Graph Query Language do Facebook t·∫°o ra t·ª´ nƒÉm 2012 cung c·∫•p giao th·ª©c chung cho ph√©p giao ti·∫øp gi·ªØa client v√† server ƒë·ªÉ c·∫≠p nh·∫≠t v√† l·∫•y d·ªØ‚Ä¶","snippet":"<html><head></head><body><h1>I.Gi&#x1EDB;i thi&#x1EC7;u v&#x1EC1; GraphQL API</h1> <h3>1. GraphQL l&#xE0; g&#xEC;?</h3> <p>GraphQL l&#xE0; Graph Query Language do Facebook t&#x1EA1;o ra t&#x1EEB; n&#x103;m 2012 cung c&#x1EA5;p giao th&#x1EE9;c chung cho ph&#xE9;p giao ti&#x1EBF;p gi&#x1EEF;a client v&#xE0; server &#x111;&#x1EC3; c&#x1EAD;p nh&#x1EAD;t v&#xE0; l&#x1EA5;y d&#x1EEF; li&#x1EC7;u.</p> <p>Client truy v&#x1EA5;n &#x111;&#x1EBF;n m&#xE1;y ch&#x1EE7; GraphQL b&#x1EB1;ng c&#xE1;c&#x2026;</p></body></html>","html":"<h1>I.Gi·ªõi thi·ªáu v·ªÅ GraphQL API</h1>\n<h2>1. GraphQL l√† g√¨?</h2>\n<p>GraphQL l√† Graph Query Language do Facebook t·∫°o ra t·ª´ nƒÉm 2012 cung c·∫•p giao th·ª©c chung cho ph√©p giao ti·∫øp gi·ªØa client v√† server ƒë·ªÉ c·∫≠p nh·∫≠t v√† l·∫•y d·ªØ li·ªáu.</p>\n<p>Client truy v·∫•n ƒë·∫øn m√°y ch·ªß GraphQL b·∫±ng c√°c truy v·∫•n v·ªõi ƒë·∫∑c ƒëi·ªÉm: format c·ªßa d·ªØ li·ªáu tr·∫£ v·ªÅ ƒë∆∞·ª£c m√¥ t·∫£ trong c√¢u truy v·∫•n v√† ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a ·ªü ph√≠a client thay v√¨ ·ªü server. N√≥i ƒë∆°n gi·∫£n h∆°n, ƒë√¢y l√† truy v·∫•n h∆∞·ªõng client, c·∫•u tr√∫c d·ªØ li·ªáu kh√¥ng kh√¥ c·ª©ng 1 khu√¥n m·∫´u t·ª´ server (REST API) m√† thay ƒë·ªïi theo t·ª´ng ng·ªØ c·∫£nh sao cho hi·ªáu qu·∫£ nh·∫•t ƒë·ªëi v·ªõi client m√† ch·ªâ c·∫ßn d√πng duy nh·∫•t 1 endpoint.\n<img src=\"https://viblo.asia/uploads/7e2761e2-b970-4768-a20e-63e0007cb84c.png\"></p>\n<h2>2. T·ªïng quan GraphQL</h2>\n<p>ƒêi·ªÅu quan tr·ªçng l√† GraphQL kh√¥ng ph·∫£i l√† m·ªôt ng√¥n ng·ªØ truy v·∫•n th·ª±c s·ª±, n√≥ ch·ªâ l√† giao th·ª©c giao ti·∫øp gi·ªØa client v√† server, r·∫•t c·∫£ client (web, mobile) ƒë·ªÅu c√≥ th·ªÉ giao ti·∫øp v·ªõi b·∫•t k·ª≥ server n√†o m√† s·ª≠ d·ª•ng ng√¥n ng·ªØ GraphQL.</p>\n<p>Kh√°i ni·ªám ch√≠nh v·ªÅ GraphQL bao g·ªìm:</p>\n<ul>\n<li>C·∫•u tr√∫c ph√¢n t·∫ßng (Hierarchical)</li>\n<li>H∆∞·ªõng s·∫£n ph·∫©m (Product0-centric)</li>\n<li>ƒê·ªãnh ki·ªÉu m·∫°nh (Strong-typing)</li>\n<li>Truy v·∫•n h∆∞·ªõng client (Client-specified queries)</li>\n<li>N·ªôi quan (Introspective)</li>\n</ul>\n<h2>3.GraphQL gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ g√¨ ?</h2>\n<p>GraphQL kh·∫Øc ph·ª•c ƒëi·ªÉm y·∫øu c·ªßa c·ªßa REST API b·ªüi REST c√≥ t√≠nh ch·∫•t d·ª±a tr√™n t√†i nguy√™n c·ªë ƒë·ªãnh, v√≠ d·ª•:</p>\n<p><code class=\"language-text\">GET /articles/1?include=author.name,author.email,likes.user.name</code>\nNh∆∞ truy v·∫•n tr√™n thu·ªôc lo·∫°i li√™n k·∫øt nhi·ªÅu b·∫£ng, REST API cho articles s·∫Ω x·ª≠ l√Ω kh√° nhi·ªÅu v√† kh√¥ng ƒë∆∞·ª£c linh ƒë·ªông. ƒê·ªëi v·ªõi GraphQL th√¨ s·∫Ω nh∆∞ sau:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">{\n  articles(id:1) {\n    title,\n    content,\n    author {\n      name,\n      email\n    },\n    likes {\n      user {\n        name\n      }\n    } \n  }\n}\n{\n  articles(id:1) {\n    title,\n    content,\n    author {\n      name,\n      email\n    },\n    likes {\n      user {\n        name\n      }\n    } \n  }\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>V·ªõi GraphQL, ch√∫ng ta quy ƒë·ªãnh ch·ªâ tr·∫£ v·ªÅ title v√† content cho article, r·∫•t linh ƒë·ªông v√† kh√¥ng b·ªã th·ª´a d·ªØ li·ªáu, h∆°n n·ªØa c·∫•u tr√∫c tr√™n nh√¨n kh√° r√µ r√†ng m·∫°ch l·∫°c.</p>\n<p>C≈©ng gi·ªëng nh∆∞ REST, GraphQL ho√†n to√†n c√≥ th·ªÉ create, update, delete, nh∆∞ng v·ªõi c·∫•u tr√∫c s√°ng s·ªßa v√† c·∫•u tr√∫c ph√¢n t·∫ßng n√™n d·ªÖ d√†ng cho l·∫≠p tr√¨nh vi√™n ph√≠a client.</p>\n<h1>II. C√†i ƒë·∫∑t th∆∞ vi·ªán Apollo ƒë·ªÉ s·ª≠ d·ª•ng cho GraphQL</h1>\n<p>Trong m·ªói API theo ki·ªÉu GraphQL s·∫Ω lu√¥n c√≥ 1 file <code class=\"language-text\">schema</code>. ƒê√¢y l√† file d√πng ƒë·ªÉ server ƒëinh nghƒ©a ra c√°c c√¢u query, mutation v√† type.</p>\n<h2>1.Gi·ªõi thi·ªáu v·ªÅ Apollo</h2>\n<p>Apollo IOS l√† m·ªôt th∆∞ vi·ªán h·ªó tr·ª£ m·∫°nh v√† t·ªët cho vi·ªác giao ti·∫øp v·ªõi GraphQL. ƒê∆∞·ª£c vi·∫øt b·ªüi ng√¥n ng·ªØ Swift</p>\n<p>N√≥ cho ph√©p b·∫°n th·ª±c hi·ªán truy v·∫•n v√† thay ƒë·ªïi d·ªØ li·ªáu ƒë·ªëi v·ªõi m√°y ch·ªß GraphQL v√† tr·∫£ v·ªÅ k·∫øt qu·∫£ theo ki·ªÉu Swift c·ª• th·ªÉ. ƒêi·ªÅu n√†y c√≥ nghƒ©a l√† b·∫°n kh√¥ng ph·∫£i ƒë·ªëi ph√≥ v·ªõi vi·ªác ph√¢n t√≠ch c√∫ ph√°p JSON, ho·∫∑c truy·ªÅn ƒëi c√°c tham s·ªë v√† khi·∫øn c√°c b·∫°n chuy·ªÉn ƒë·ªïi ki·ªÉu d·ªØ li·ªáu b·∫±ng tay. B·∫°n c≈©ng kh√¥ng ph·∫£i t·ª± vi·∫øt c√°c ki·ªÉu m√¥ h√¨nh, b·ªüi v√¨ ch√∫ng ƒë∆∞·ª£c t·∫°o ra t·ª´ c√°c ƒë·ªãnh nghƒ©a GraphQL m√† UI c·ªßa b·∫°n s·ª≠ d·ª•ng.</p>\n<p>V√¨ c√°c model ƒë∆∞·ª£c tao ra v·ªõi nh·ªØng ki·ªÉu c∆° b·∫£n, b·∫°n ch·ªâ c√≥ th·ªÉ truy c·∫≠p d·ªØ li·ªáu m√† ch√∫ng ta ch·ªâ ƒë·ªãnh mu·ªën l·∫•y v·ªÅ. N·∫øu b·∫°n kh√¥ng y√™u c·∫ßu m·ªôt tr∆∞·ªùng, b·∫°n s·∫Ω kh√¥ng th·ªÉ truy c·∫≠p v√†o thu·ªôc t√≠nh t∆∞∆°ng ·ª©ng. Trong th·ª±c t·∫ø, ƒëi·ªÅu n√†y c√≥ nghƒ©a l√† b·∫°n c√≥ th·ªÉ d·ª±a v√†o tr√¨nh ki·ªÉm tra ki·ªÉu Swift ƒë·ªÉ ƒë·∫£m b·∫£o l·ªói trong qu√° tr√¨nh truy c·∫≠p d·ªØ li·ªáu xu·∫•t hi·ªán t·∫°i th·ªùi ƒëi·ªÉm bi√™n d·ªãch. V·ªõi t√≠ch h·ª£p Xcode c·ªßa Apollo, b·∫°n c√≥ th·ªÉ l√†m vi·ªác thu·∫≠n ti·ªán v·ªõi m√£ UI v√† c√°c ƒë·ªãnh nghƒ©a GraphQL t∆∞∆°ng ·ª©ng b√™n c·∫°nh v√† th·∫≠m ch√≠ n√≥ s·∫Ω x√°c th·ª±c c√°c t√†i li·ªáu truy v·∫•n c·ªßa b·∫°n v√† hi·ªÉn th·ªã l·ªói trong d√≤ng.</p>\n<h2>2. C√†i ƒë·∫∑t Apollo</h2>\n<p>L√†m theo c√πng v·ªõi c√°c b∆∞·ªõc ƒë∆∞·ª£c m√¥ t·∫£ chi ti·∫øt b√™n d∆∞·ªõi ƒë·ªÉ s·ª≠ d·ª•ng Apollo iOS trong ·ª©ng d·ª•ng c·ªßa b·∫°n:</p>\n<ul>\n<li>C√†i ƒë·∫∑t  <code class=\"language-text\">Apollo</code> framework v√†o d·ª± √°n c·ªßa b·∫°n v√† li√™n k·∫øt n√≥ v·ªõi project.</li>\n<li>C√†i ƒë·∫∑t <code class=\"language-text\">apollo-codegen</code> tr√™n m√°y th√¥ng qua NPM.</li>\n<li>Th√™m m√£ v√†o Build Phases ƒë·ªÉ sinh c√°c model v√† c√°c c√¢u query t·ª´ file<code class=\"language-text\">schema</code>.</li>\n<li>Th√™m file <code class=\"language-text\">schema</code> v√†o project.</li>\n<li>Ch·∫°y th·ª≠.</li>\n<li>Th√™m t·ªáp API ƒë∆∞·ª£c t·∫°o ra sau khi ch·∫°y th·ª≠ v√†o project.</li>\n<li>C√†i ƒë·∫∑t th√™m add-on ƒë·ªÉ l√† highlight m√£ trong file <code class=\"language-text\">.graphql</code>.</li>\n<li>T·∫°o c√°c file c√≥ ƒë·ªãnh extension <code class=\"language-text\">.graphql</code> v·ªõi c√°c truy v·∫•n ho·∫∑c thay ƒë·ªïi.</li>\n</ul>\n<h3>C√†i ƒë·∫∑t Apollo framework</h3>\n<p>Ch√∫ng ta c√≥ th·ªÉ c√†i ƒë·∫∑t <code class=\"language-text\">Apollo</code> framework b·∫±ng nh·ªØng c√°ch sau: Carthage, CocoaPods ho·∫∑c k√©o th·∫£ th∆∞ vi·ªán v√†o project b·∫±ng tay.</p>\n<h4>Carthage</h4>\n<ol>\n<li>Th√™m github \"apollostack / apollo-ios\" v√†o Cartfile.</li>\n<li>Ch·∫°y b·∫£n c·∫≠p nh·∫≠t carthage.</li>\n<li>K√©o v√† th·∫£ <code class=\"language-text\">Apollo.framework</code> t·ª´ th∆∞ m·ª•c <code class=\"language-text\">Carthage/Build/iOS</code> ƒë·∫øn ph·∫ßn ‚ÄúLinked Frameworks and Libraries‚Äù trong tab \"General\".</li>\n<li>\n<p>Chuy·ªÉn qua tab \"Build Phases\", nh·∫•p v√†o bi·ªÉu t∆∞·ª£ng \"+\" v√† ch·ªçn \"New Run Script Phase\". T·∫°o m·ªôt script ch·∫°y trong ƒë√≥ b·∫°n ch·ªâ ƒë·ªãnh Shell : bin / sh th√™m ƒëo·∫°n code b√™n d∆∞·ªõi v√†o khung script:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">/ Usr/local/bin/carthage copy-frameworks</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>V√† th√™m ƒë∆∞·ªùng d·∫´n c·ªßa th∆∞ vi·ªán Apollo v√†o \"Input Files\" ·ªü b√™n d∆∞·ªõi, v√≠ d·ª•:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">$ (SRCROOT) /Carthage/Build/iOS/Apollo.framework</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n</li>\n</ol>\n<h4>Cocopods</h4>\n<ol>\n<li>\n<p>B·ªüi v√¨ Apollo iOS ƒë∆∞·ª£c vi·∫øt b·ªõi Swift 3.1. Cho n√™n n√≥ y√™u c·∫ßu CocoaPods phi√™n b·∫£n 1.1.0. B·∫°n c√≥ th·ªÉ n√≥ n·∫øu mu·ªën s·ª≠ d·ª•ng:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">gem install cocoapods</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n</li>\n<li>Th√™m <code class=\"language-text\">pod &quot;Apollo&quot;</code> v√† Podfile.</li>\n<li>Ch·∫°y <code class=\"language-text\">pod install</code></li>\n<li>S·ª≠ d·ª•ng <code class=\"language-text\">.xcworkspace</code> ƒë∆∞·ª£c t·∫°o ra b·ªüi CocoaPods ƒë·ªÉ l√†m vi·ªác.</li>\n</ol>\n<h4>K√©o th·∫£ th∆∞ vi·ªán</h4>\n<p>B·∫°n h√£y  download reposity c·ªßa <a href=\"https://github.com/apollographql/apollo-ios\">apollo-iOS</a>, v√† k√©o <code class=\"language-text\">Apollo.xcodeproj</code> v√† th·∫£ v√†o trong project ho·∫∑c workspace, th√™m Apollo.framework v√†o target</p>\n<h3>C√†i ƒë·∫∑t apollo-codegen</h3>\n<p> C√†i ƒë·∫∑t <code class=\"language-text\">apollo-codegen</code> th√¥ng npm b·∫±ng c√¢u l·ªánh b√™n d∆∞·ªõi:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">npm install -g apollo-codegen</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h3>C√†i ƒë·∫∑t script ƒë·ªÉ sinh ra m√£ API</h3>\n<p>Th√™m b∆∞·ªõc t·∫°o m√£ ·ªü<code class=\"language-text\">buid phases</code></p>\n<p>ƒê·ªÉ g·ªçi <code class=\"language-text\">apollo-codegen</code> ho·∫°t ƒë·ªông trong  Xcode, t·∫°o m·ªôt b∆∞·ªõc script ch·∫°y tr∆∞·ªõc \"Compile Sources\".</p>\n<p>Tr√™n tab c√†i ƒë·∫∑t \"Build Phases\", nh·∫•p v√†o bi·ªÉu t∆∞·ª£ng \"+\" v√† ch·ªçn \"New Run Script Phase\". T·∫°o m·ªôt Run Script, ƒë·ªïi t√™n th√†nh \"Generate Apollo GraphQL API\" v√† k√©o n√≥ ngay ph√≠a tr√™n \"Compile Sources\". Sau ƒë√≥, th√™m c√°c n·ªôi dung b√™n d∆∞·ªõi v√†o khung scrip  :</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">APOLLO_FRAMEWORK_PATH=&quot;$(eval find $FRAMEWORK_SEARCH_PATHS -name &quot;Apollo.framework&quot; -maxdepth 1)&quot;\n\nif [ -z &quot;$APOLLO_FRAMEWORK_PATH&quot; ]; then\n  echo &quot;error: Couldn&#39;t find Apollo.framework in FRAMEWORK_SEARCH_PATHS; make sure to add the framework to your project.&quot;\n  exit 1\nfi\n\ncd &quot;${SRCROOT}/${TARGET_NAME}&quot;\n$APOLLO_FRAMEWORK_PATH/check-and-run-apollo-codegen.sh generate $(find . -name &#39;*.graphql&#39;) --schema schema.json --output API.swift</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>T·∫≠p l·ªánh tr√™n s·∫Ω g·ªçi apollo-codegen th√¥ng qua script wrapper check-and-run-apollo-codegen.sh, m√† th·ª±c s·ª± ch·ª©a trong g√≥i <code class=\"language-text\">Apollo.framework</code>. L√Ω do ch√≠nh c·ªßa vi·ªác n√†y l√† ƒë·ªÉ ki·ªÉm tra xem phi√™n b·∫£n apollo-codegen ƒë√£ ƒë∆∞·ª£c c√†i ƒë·∫∑t tr√™n h·ªá th·ªëng c·ªßa b·∫°n c√≥ t∆∞∆°ng th√≠ch v·ªõi phi√™n b·∫£n khung ƒë∆∞·ª£c c√†i ƒë·∫∑t trong d·ª± √°n c·ªßa b·∫°n v√† ƒë·ªÉ c·∫£nh b√°o b·∫°n n·∫øu kh√¥ng. N·∫øu kh√¥ng c√≥ ki·ªÉm tra n√†y, b·∫°n c√≥ th·ªÉ s·∫Ω ch·ªâ t·∫°o ra m√£ kh√¥ng t∆∞∆°ng th√≠ch v·ªõi m√£ ch·∫°y c√≥ trong framework.</p>\n<h3>T·∫£i v·ªÅ file schema</h3>\n<p>Apollo IOS b·∫Øt bu·ªôc ng∆∞·ªùi developer ph·∫£i th√™m v√†o 1 file schema c·ªßa GraphQL. File schema l√† m·ªôt file JSON c√≥ ch·ª©a c√°c th√¥ng tin v·ªÅ c√∫ ph√°p truy v·∫•n c·ªßa GraphQL. Th√¥ng th∆∞·ªùng t·∫≠p tin n√†y ƒë∆∞·ª£c g·ªçi l√† schema.json, v√† b·∫°n l∆∞u tr·ªØ n√≥ b√™n c·∫°nh t·ªáp .graphql trong d·ª± √°n.</p>\n<p>B·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng <code class=\"language-text\">apollo-codegen</code> ƒë·ªÉ t·∫£i xu·ªëng GraphQL schema b·∫±ng c√°ch g·ª≠i truy v·∫•n ph√¢n t√≠ch ƒë·∫øn m√°y ch·ªß:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">apollo-codegen download-schema http://localhost:8080/graphql --output schema.json</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>N·∫øu c·∫ßn thi·∫øt b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng  header trong HTTP header cho request. Nhi·ªÅu GraphQL API y√™u c·∫ßu c·∫ßn ph·∫£i c√≥ token ch·ª©ng th·ª±c m·ªõi c√≥ th·ªÉ l·∫•y v·ªÅ, l√∫c n√†y ch·ªâ c·∫ßn th√™m <code class=\"language-text\">--header &quot;Authorization: Bearer &lt;token&gt;&quot;</code> :</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">apollo-codegen download-schema https://api.github.com/graphql --output schema.json --header &quot;Authorization: Bearer &lt;token&gt;&quot;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h3>Ch·∫°y th·ª≠</h3>\n<p>T·∫°i th·ªùi ƒëi·ªÉm n√†y th√¨ ch√∫ng ta c√≥ th·ªÉ build project. Vi·ªác n√†y gi√∫p ch√∫ng ta x√°c ƒë·ªãnh <code class=\"language-text\">apollo-codegen</code> c√≥ th·ªÉ t√¨m th·∫•y file <code class=\"language-text\">schema.json</code> trong d·ª± √°n. N·∫øu kh√¥ng th√¨ s·∫Ω xu·∫•t hi·ªán l·ªói nh∆∞ th·∫ø n√†y:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">Cannot find GraphQL schema file [‚Ä¶]</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h3>Th√™m t·ªáp API ƒë∆∞·ª£c t·∫°o ra</h3>\n<p>Sau b∆∞·ªõc tr√™n n·∫øu ch√∫ng ta build th√†nh c√¥ng th√¨ l√∫c n√†y th∆∞ vi·ªán Apollo iOS s·∫Ω sinh ra 1 file c√≥ t√™n l√† <code class=\"language-text\">API.swift</code>. L√∫c n√†y ta c·∫ßn th√™m n√≥ v√†o d·ª± √°n.</p>\n<h3>C√†i ƒë·∫∑t Add-on cho Xcode</h3>\n<ol>\n<li>T·∫£i <a href=\"https://github.com/apollographql/xcode-graphql\">repository</a> <code class=\"language-text\">xcode-apollo</code> xu·ªëng.</li>\n<li>ƒê√≥ng to√†n b·ªô m√†n h√¨nh Xcode n·∫øu ƒëang ƒë∆∞·ª£c m·ªü.</li>\n<li>\n<p>Ti·∫øp theo c·∫ßn t·∫°o 1 th∆∞ m·ª•c b√™n trong ƒë∆∞·ªùng d·∫´n <code class=\"language-text\">~/Library/Developer/Xcode</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">mkdir ~/Library/Developer/Xcode/Plug-ins ~/Library/Developer/Xcode/Specifications</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n</li>\n<li>\n<p>Copy file <code class=\"language-text\">GraphQL.ideplugin</code> v√†o trong <code class=\"language-text\">~/Library/Developer/Xcode/Plug-ins</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">cp -R GraphQL.ideplugin ~/Library/Developer/Xcode/Plug-ins</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n</li>\n<li>\n<p>Copy file <code class=\"language-text\">GraphQL.xclangspec</code> v√†o trong <code class=\"language-text\">~/Library/Developer/Xcode/Specifications</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">cp -R GraphQL.xclangspec ~/Library/Developer/Xcode/Specifications</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>*C√≥ th·ªÉ s·∫Ω xu·∫•t hi·ªán v√†i c·∫£nh b√°o sau khi c√†i ƒë·∫∑t add-on v√†o Xcode.</p>\n</li>\n</ol>\n<h3>T·∫°o file <code class=\"language-text\">.graphql</code></h3>\n<p>Apollo iOS s·∫Ω t·ª± t·∫°o c√°c c√¢u truy v·∫•n v√† thay ƒë·ªïi t·ª´ file <code class=\"language-text\">.graphql</code> trong d·ª± √°n .</p>\n<p>L√∫c n√†y ta c·∫ßn 1 quy ∆∞·ªõc cho vi·ªác ƒë·∫∑t t√™n d·ªÖ qu·∫£n l√Ω c√°c vi·ªác truy v·∫•n, thay ƒë·ªïi b·∫±ng c√°ch t·∫°o file <code class=\"language-text\">&lt;name&gt;.graphql</code> b√™n c·∫°nh file <code class=\"language-text\">&lt;name&gt;.swift</code>.</p>\n<p>N·∫øu l√∫c n√†y, ch√∫ng ta c√†i ƒë·∫∑t add-on cho Xcode th√¨ c√≥ th·ªÉ s·ª≠ d·ª•ng ch·∫ø ƒë·ªô xem ƒë·ªìng th·ªùi file <code class=\"language-text\">.graphql</code> v√† <code class=\"language-text\">.swift</code>.</p>\n<h1>III. K·∫øt th√∫c</h1>\n<p>M√¨nh ƒë√£ gi·ªõi thi·ªáu v√† h∆∞·ªõng d·∫´n c√°c b·∫°n c√†i ƒë·∫∑t th∆∞ vi·ªán Apollo cho vi·ªác qu·∫£n l√Ω v√† giao ti·∫øp v·ªõi GrapQL API. Sau th·ªùi gian s·ª≠ d·ª•ng, m√¨nh th·∫•y th∆∞ vi·ªán n√†y c√≤n nhi·ªÅu h·∫°n ch·∫ø v·ªÅ vi·ªác qu·∫£n l√Ω c√°c task, kh√≥ cho vi·ªác mapper ƒë·ªëi v·ªõi model do ch√∫ng ta ƒë·ªãnh nghƒ©a, kh√≥ get ƒë∆∞·ª£c status code khi ho√†n th√†nh xong request, v√† c√≤n nhi·ªÅu h·∫°n ch·∫ø kh√°c. M√¨nh nghƒ© ch·∫Øc th∆∞ vi·ªán n√†y c√≤n m·ªõi n√™n v·∫´n c√≤n nhi·ªÅu h·∫°n ch·∫ø nh∆∞ v·∫≠y.Mong t∆∞∆°ng l·∫°i, th∆∞ vi·ªán Apollo s·∫Ω h·ªó tr·ª£ ch√∫ng ta nhi·ªÅu h∆°n. C·∫£m ∆°n c√°c b·∫°n ƒë√£ theo d√µi b√†i vi·∫øt</p>","id":"89473eb0-119e-50ff-b883-b0aa8cd244c1","frontmatter":{"title":"How to install Apollo iOS library for Graph API","date":"04-09-2020","tags":["ios"]},"fields":{"slug":"/How to install Apollo iOS library for Graph API/","readingTime":{"text":"9 min read"}}}}]}},"pageContext":{"limit":10,"skip":10,"numPages":5,"currentPage":2}},"staticQueryHashes":["3963689063","63159454","81262063"]}